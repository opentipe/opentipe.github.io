(function(e){function t(t){for(var u,i,o=t[0],c=t[1],s=t[2],d=0,h=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&h.push(r[i][0]),r[i]=0;for(u in c)Object.prototype.hasOwnProperty.call(c,u)&&(e[u]=c[u]);l&&l(t);while(h.length)h.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],u=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(u=!1)}u&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var u={},r={app:0},a=[];function i(t){if(u[t])return u[t].exports;var n=u[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=u,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)i.d(n,u,function(t){return e[t]}.bind(null,u));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"045e":function(e,t,n){"use strict";n("6eb9")},"06c4":function(e,t,n){"use strict";n("9194")},"2b77":function(e,t,n){},5717:function(e,t,n){},"6aba":function(e,t,n){},"6eb9":function(e,t,n){},"86f8":function(e,t,n){"use strict";n("de1f")},9194:function(e,t,n){},"990c":function(e,t,n){"use strict";n("6aba")},c0db:function(e,t,n){"use strict";n("2b77")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var u=n("7a23"),r=n("260b"),a=n("6a7c");n("b0c0");function i(e,t,n,r,a,i){var o=Object(u["I"])("the-notifier"),c=Object(u["I"])("router-view");return Object(u["A"])(),Object(u["h"])(u["a"],null,[Object(u["l"])(o,{notifier:e.notifier},null,8,["notifier"]),Object(u["l"])(c,null,{default:Object(u["R"])((function(e){var t=e.Component,n=e.route;return[Object(u["l"])(u["c"],{name:"fade-route"},{default:Object(u["R"])((function(){return[(Object(u["A"])(),Object(u["h"])("div",{key:n.name,class:"bg-gradient-to-bl from-gray-100 to-gray-200 fixed inset-0 overflow-auto"},[(Object(u["A"])(),Object(u["f"])(Object(u["J"])(t)))]))]})),_:2},1024)]})),_:1})],64)}var o,c,s,l,d=Object(u["i"])("div",{class:"inset-0 fixed pointer-events-none",style:{"z-index":"200000"}},null,-1);function h(e,t,n,r,a,i){var o=Object(u["I"])("base-notification");return Object(u["A"])(),Object(u["h"])(u["a"],null,[Object(u["l"])(o,{show:e.showNotification,messageType:e.notificationType,message:e.notificationMessage,onDismiss:t[0]||(t[0]=function(t){var n;return null===(n=e.notifier)||void 0===n?void 0:n.dismissCurrentNotification()})},null,8,["show","messageType","message"]),d],64)}(function(e){e["edited"]="edited",e["accepted"]="accepted",e["rejected"]="rejected",e["created"]="created",e["deleted"]="deleted"})(o||(o={})),function(e){e["German"]="de",e["English"]="en"}(c||(c={})),function(e){e["backendURL"]="VUE_APP_BACKEND_URL",e["enableAuthInDev"]="VUE_APP_ENABLE_AUTHENTICATION_IN_DEVELOPMENT",e["enableAuthInProd"]="VUE_APP_ENABLE_AUTHENTICATION_IN_PRODUCTION",e["enableFakeApi"]="VUE_APP_ENABLE_FAKE_API",e["logLevel"]="VUE_APP_LOG_LEVEL",e["characterLimit"]="VUE_APP_CHARACTER_LIMIT",e["enableCharacterLimit"]="VUE_APP_ENABLE_CHARACTER_LIMIT",e["enableSpellcheck"]="VUE_APP_ENABLE_SPELLCHECK",e["fakeApiDelay"]="VUE_APP_FAKE_API_DELAY",e["allowMultipleDictSelection"]="VUE_APP_ALLOW_MULTIPLE_DICTIONARY_SELECTION",e["maxSuggestionRatio"]="VUE_APP_MAX_SUGGESTION_RATIO",e["sendAllTextSegments"]="VUE_APP_SEND_ALL_TEXT_SEGMENTS",e["environment"]="VUE_APP_ENVIRONMENT"}(s||(s={})),function(e){e[e["success"]=0]="success",e[e["alert"]=1]="alert",e[e["error"]=2]="error"}(l||(l={}));var f={key:0,class:"h-44 w-screen absolute left-0 top-0 from-black from bg-gradient-to-b opacity-10",style:{"z-index":"200000"}},g={class:"bg-white max-w-xl rounded-3xl flex items-center p-2 space-x-4 pr-5 shadow-2xl justify-center"},b={class:"text-gray-700 font-semibold"};function p(e,t,n,r,a,i){var o=Object(u["I"])("check-icon"),c=Object(u["I"])("exclamation-icon"),s=Object(u["I"])("x-icon");return Object(u["A"])(),Object(u["f"])(u["b"],{to:"body"},[Object(u["l"])(u["c"],{name:"fade"},{default:Object(u["R"])((function(){return[e.show?(Object(u["A"])(),Object(u["h"])("div",f)):Object(u["g"])("",!0)]})),_:1}),Object(u["l"])(u["c"],{name:"drop-down"},{default:Object(u["R"])((function(){return[e.show?(Object(u["A"])(),Object(u["h"])("div",{key:0,onClick:t[0]||(t[0]=function(t){return e.$emit("dismiss")}),class:"fixed inset-0 left-0 top-0 flex justify-center items-start pt-8",style:{"z-index":"200001"}},[Object(u["i"])("div",g,[Object(u["i"])("div",{class:Object(u["t"])(["rounded-full p-2",{"bg-mtc_medium_aquamarine-400 text-mtc_medium_aquamarine-900":e.messageType===e.NotificationMessageType.success,"bg-yellow-400 text-yellow-900":e.messageType===e.NotificationMessageType.alert,"bg-red-400 text-red-900":e.messageType===e.NotificationMessageType.error}])},[e.messageType===e.NotificationMessageType.success?(Object(u["A"])(),Object(u["f"])(o,{key:0,class:"w-5 h-5"})):e.messageType===e.NotificationMessageType.alert?(Object(u["A"])(),Object(u["f"])(c,{key:1,class:"w-5 h-5"})):(Object(u["A"])(),Object(u["f"])(s,{key:2,class:"w-5 h-5"}))],2),Object(u["i"])("h2",b,Object(u["L"])(e.message),1)])])):Object(u["g"])("",!0)]})),_:1})])}n("a9e3");var m=n("fd7f"),D=Object(u["n"])({components:{CheckIcon:m["d"],ExclamationIcon:m["f"],XIcon:m["h"]},emits:{dismiss:function(){return!0}},props:{show:{type:Boolean,required:!0},messageType:{type:Number,default:function(){return l.alert}},message:{type:String,required:!0}},setup:function(){return{NotificationMessageType:l}}}),v=(n("990c"),n("d959")),y=n.n(v);const O=y()(D,[["render",p],["__scopeId","data-v-606139db"]]);var w=O,j=Object(u["n"])({components:{BaseNotification:w},props:{notifier:{type:Object,required:!0}},setup:function(e){var t=Object(u["F"])(!1),n=Object(u["F"])(l.alert),r=Object(u["F"])("");if(!e.notifier)throw new Error("Notifier is undefined.");return e.notifier.onNewNotification((function(e,u){r.value=e,t.value=!0,n.value=u.messageType})),e.notifier.onDismissNotification((function(){t.value=!1})),{showNotification:t,notificationType:n,notificationMessage:r}}});const A=y()(j,[["render",h]]);var x=A,E=n("1da1"),F=(n("96cf"),n("159b"),n("4de4"),n("caad"),n("2532"),n("7db0"),n("d81d"),n("a4d3"),n("e01a"),n("d3b7"),n("ec26")),C=(n("ac1f"),n("5319"),n("1276"),n("99af"),n("5c7d")),k=n.n(C);function S(e){var t,n,u=(null===(t=window)||void 0===t||null===(n=t.configs)||void 0===n?void 0:n[e])||Object({NODE_ENV:"production",BASE_URL:"/"})[e];return void 0!==u&&null!==u?String(u):(Object(C["warn"])("The environment variable ".concat(e," could not be found!")),null)}function T(e,t){var n=S(e);if(null===n||void 0===n)return t;if("boolean"===typeof t)return"true"===String(n).toLowerCase();if("number"===typeof t)return Number(n);if("string"===typeof t)return n;throw new Error("Unsupported fallback type.")}function B(){return!1}k.a.setLevel(T(s.logLevel,"TRACE"));var I={apiKey:"AIzaSyBn033H95JRoJL1LNHGUXVUMM6cVHZtB8s",appId:"1:461990907139:web:b34f70551ca6daeaa8ed36",messagingSenderId:"461990907139",projectId:"mtc-dev",authDomain:"mtc-dev.firebaseapp.com",storageBucket:"mtc-dev.appspot.com"},L={apiKey:"AIzaSyDs-5vDpSPiIH7M7XMl3f-shmzBhgg0wvE",appId:"1:176136282412:web:3c277bd4572057deef4c89",messagingSenderId:"176136282412",projectId:"mtc-production",authDomain:"mtc-production.firebaseapp.com",storageBucket:"mtc-production.appspot.com"},_={useFakeApi:T(s.enableFakeApi,!0),fakeApiDelay:T(s.fakeApiDelay,500),maxSuggestionRatio:T(s.maxSuggestionRatio,.2),baseUrlApi:T(s.backendURL,""),enableCharacterLimit:T(s.enableCharacterLimit,!0),characterLimit:T(s.characterLimit,1e4),saveAllTextSegments:T(s.sendAllTextSegments,!0),availableLanguagePairs:[{from:c.German,to:c.English,allowUserDict:!0,availableDicts:["trans_dict.de_en"]}],allowMultipleDictSelection:T(s.allowMultipleDictSelection,!0),enableSpellcheck:T(s.enableSpellcheck,!0),environment:T(s.environment,"dev").toLowerCase(),firebaseConfig:"prod"===T(s.environment,"dev").toLowerCase()?L:I,enableAuthInDevelopment:T(s.enableAuthInDev,!1),enableAuthInProduction:T(s.enableAuthInProd,!1),loginPersistence:a["a"]},R=_;function M(e){var t=e.replace(/([.|:|!|?]+)(["|“|”|‘|’|'|«|»|「|」|(|)|{|}|[|\]]*)([.|:|!|?]*)([\s|\n|\r|\n]+)/gm,"$1$2$3|$4|");return t.split("|").filter((function(e){return e.length>0}))}function N(e){return!e.replace(/(\s|\n|\r|\n)*/g,"").length}function P(e){return 0===e.length?void 0:e[e.length-1]}function H(e){return JSON.parse(JSON.stringify(e))}function V(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}function U(){return B()&&R.enableAuthInDevelopment||!B()&&R.enableAuthInProduction}function z(e,t){return"".concat(e,"-").concat(t)}function q(e,t,n){return n.indexOf(e)===t}n("c740");var W=n("bf68"),K="-1";function G(e){return null===e||void 0===e?K:String(e)}function J(e){return e.suggestionIsActive}function Q(e,t,n){var u,r=t.filter((function(t){return t.suggestionIsActive||t._id===e._id})),a=r.findIndex((function(t){return t._id===e._id})),i=null===(u=r[a+("forward"===n?1:-1)])||void 0===u?void 0:u._id;return G(i)}function $(e){return e.filter((function(e){return J(e)}))}function Y(e){var t={a:null,b:null,result:[]};function n(e,t,n,u){if(null===e.a||null===e.b)e.a=e.b,e.b=t;else if(e.a.highlight&&!e.b.highlight&&t.highlight&&N(e.b.value)){var r={value:e.a.value+e.b.value+t.value,highlight:!0};e.a=null,e.b=r}else e.result.push(e.a),e.a=e.b,e.b=t;return n===u.length-1&&[e.a,e.b].forEach((function(t){null!==t&&e.result.push(t)})),e}return e.reduce(n,t).result}function X(e,t){var n={currentChain:null,result:[]};function u(t,n,u,r){var a="removed"===e?"added":"removed";return n[a]||(null!==t.currentChain&&t.currentChain.highlight!==Boolean(n[e])&&(t.result.push(t.currentChain),t.currentChain=null),null===t.currentChain?t.currentChain={value:n.value,highlight:Boolean(n[e])}:t.currentChain.value+=n.value),u===r.length-1&&null!==t.currentChain&&t.result.push(t.currentChain),t}var r=t.reduce(u,n),a=r.result;return Y(a)}function Z(e,t){var n=Object(W["diffWords"])(e,t);return{fromHighlights:X("removed",n),toHighlights:X("added",n)}}n("466d"),n("5b81");function ee(e,t){if(0===e.length)throw new Error("Line ".concat(t," is empty."));var n=e.split("").filter((function(e){return"="===e})).length;if(1!==n)throw new Error("Each line must contain exactly one equal sign. In line ".concat(t+1,", there are ").concat(n," equal signs."));var u=e.split("=");if(2!==u.length||""===u[0]||""===u[1])throw new Error("Line ".concat(t+1," is invalid"));var r=e.match(/((?:[\x2DA-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])|[\x2D=])*/g),a=e;if(null===r||void 0===r||r.forEach((function(e){a=a.replaceAll(e,"")})),a.length>0)throw new Error("Line ".concat(t+1," contains invalid characters: ").concat(a))}function te(e){var t=e.split("\n");t.forEach((function(e,t){0!==e.length&&ee(e,t)}))}function ne(e){var t={};return e.split("\n").forEach((function(e){try{ee(e,0);var n=e.split("="),u=n[0],r=n[1];t[u]=r}catch(a){}})),t}function ue(e){var t;return!(null===(t=R.availableLanguagePairs.filter((function(t){return z(t.from,t.to)===e}))[0])||void 0===t||!t.allowUserDict)}function re(){var e=localStorage.getItem("state");return e?JSON.parse(e):null}function ae(e){return ie.apply(this,arguments)}function ie(){return ie=Object(E["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return");case 2:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function oe(e){var t=re();t&&null!==t.dataVersion&&t.dataVersion===e.dataVersion&&Object.assign(e,t)}var ce={dataVersion:22,originalEditorContent:{type:"doc"},originalStructure:null,originalTextSegments:null,textSegmentsFromApi:null,initialAugmentedTextSegments:null,augmentedTextSegments:null,augmentedStructure:null,translationSessionId:"",srcLang:c.German,trgLang:c.English,dictionaries:{},user:null,isInTransaction:!1,usingTheApplicationForTheFirstTime:!0};function se(e){R.availableLanguagePairs.forEach((function(t){var n,u=z(t.from,t.to),r=e.dictionaries[u]||{};r.availableDicts=t.availableDicts||[],r.selectedDicts=(null===(n=r.selectedDicts)||void 0===n?void 0:n.filter((function(e){return r.availableDicts.includes(e)})))||[],r.userDictJSON=r.userDictJSON||{},r.userDictRaw=r.userDictRaw||"",e.dictionaries[u]=r}))}var le=Object(u["E"])(ce);oe(le),se(le),Object(u["P"])(le,(function(e){e.isInTransaction||ae(e)}),{deep:!0});var de={applySuggestion:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(le.augmentedTextSegments){e.next=2;break}throw new Error("Cannot apply suggestion if there are no augmentedTextSegments.");case 2:n=t._id,le.augmentedTextSegments.forEach((function(e){if(e._id===n){var t=e.apeText,u=e.suggestionIsActive;if(!u)throw new Error("Cannot apply suggestion when suggestion is inactive.");var r=e.hpeText,a=t;e.hpeText=a,e.suggestionIsActive=!1,e.edits.push({type:o.accepted,before:r,after:a})}return e}));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),discardSuggestion:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(le.augmentedTextSegments){e.next=2;break}throw new Error("Cannot reject suggestion if there are no augmentedTextSegments.");case 2:n=t._id,le.augmentedTextSegments.forEach((function(e){if(e._id===n){var t=e.suggestionIsActive,u=e.mtText,r=e.hpeText;if(!t)throw new Error("Cannot reject inactive suggestion.");var a=r,i=u;e.hpeText=i,e.suggestionIsActive=!1,e.edits.push({type:o.rejected,before:a,after:i})}return e}));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),applyEdits:function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(le.augmentedTextSegments){e.next=2;break}throw new Error("Cannot apply edits if there are no augmentedTextSegments.");case 2:t.forEach(function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t){var n,u,r,a,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(le.augmentedTextSegments){e.next=2;break}throw new Error("Cannot apply edits if there are no augmentedTextSegments.");case 2:n=t._id,u=t.srcText,r=le.augmentedTextSegments.find((function(e){return e._id===n})),r?u!==r.hpeText&&(i=r.hpeText,c=u,r.hpeText=c,r.suggestionIsActive=!1,r.edits.push({type:o.edited,before:i,after:c})):(a={_id:t._id,srcText:"",mtText:"",mtTextStructure:[],apeTextStructure:[],hpeText:t.srcText,edits:[{type:o.created,before:"",after:t.srcText}],apeText:"",suggestionIsActive:!1},le.augmentedTextSegments.push(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),le.augmentedTextSegments.forEach((function(e){var n=t.find((function(t){return t._id===e._id}));n||(e.edits.push({type:o.deleted,before:e.hpeText,after:""}),e.hpeText="",e.suggestionIsActive=!1)}));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),replaceState:function(e){Object.assign(le,e)},updateState:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];le.isInTransaction=!0;var n=e.originalEditorContent;if(n){var u=ce.originalStructure,r=ce.originalTextSegments,a=ce.textSegmentsFromApi,i=ce.augmentedTextSegments,o=ce.initialAugmentedTextSegments,c=ce.augmentedStructure,s=ce.translationSessionId;Object.assign(le,{originalStructure:u,originalTextSegments:r,textSegmentsFromApi:a,augmentedTextSegments:i,initialAugmentedTextSegments:o,augmentedStructure:c,translationSessionId:s}),le.translationSessionId=Object(F["a"])(),le.originalEditorContent=n}var l=e.originalStructure;l&&(le.originalStructure=l,le.augmentedStructure=l);var d=e.originalTextSegments;d&&(le.originalTextSegments=d);var h=e.textSegmentsFromApi;h&&(le.textSegmentsFromApi=h,le.augmentedTextSegments=H(h.map((function(e){var t=e.mtText!==e.apeText,n=Z(e.mtText,e.apeText);return{_id:e._id,srcText:e.srcText,mtText:e.mtText,mtTextStructure:n.fromHighlights,apeTextStructure:n.toHighlights,hpeText:e.mtText,suggestionIsActive:t,apeText:e.apeText,edits:[]}}))),le.initialAugmentedTextSegments=H(le.augmentedTextSegments));var f=e.augmentedStructure;f&&(le.augmentedStructure=f);var g=e.user;void 0!==g&&(le.user=g);var b=e.srcLang;void 0!==b&&(le.srcLang=b);var p=e.trgLang;void 0!==p&&(le.trgLang=p);var m=e.usingTheApplicationForTheFirstTime;void 0!==m&&(le.usingTheApplicationForTheFirstTime=m),le.isInTransaction=t},updateUserDictRaw:function(e,t){var n=le.dictionaries[e];if(!n)throw Error("Dictionaries object for language pair ".concat(e," could not be found"));n.userDictRaw=t,n.userDictJSON=ne(t)},updateSelectedDicts:function(e,t){var n=le.dictionaries[e];if(!n)throw Error("Dictionaries object for language pair ".concat(e," could not be found"));n.selectedDicts=t}},he={state:le,methods:de},fe=Symbol("store"),ge=n("d4ec"),be=n("bee2"),pe=function(){function e(){Object(ge["a"])(this,e),this.notifyFunctions=[],this.dismissFunctions=[],this.currentNotificationId="",this.notificationQueue=[]}return Object(be["a"])(e,[{key:"displayNotification",value:function(e,t){var n=this,u=String(Date.now());this.currentNotificationId=u,this.notifyFunctions.forEach((function(n){return n(e,t)})),t.automaticallyDismissAfter&&setTimeout((function(){n.currentNotificationId===u&&n.dismissCurrentNotification()}),t.automaticallyDismissAfter)}},{key:"notify",value:function(e,t){this.notificationQueue.push({message:e,options:t}),this.notificationQueue.length>1||this.displayNotification(e,t)}},{key:"dismissCurrentNotification",value:function(){var e=this;0!==this.notificationQueue.length&&(this.dismissFunctions.forEach((function(e){return e()})),setTimeout((function(){e.notificationQueue.shift();var t=e.notificationQueue.find((function(e){return void 0!==e}));t&&e.displayNotification(t.message,t.options)}),300))}},{key:"onNewNotification",value:function(e){this.notifyFunctions.push(e)}},{key:"onDismissNotification",value:function(e){this.dismissFunctions.push(e)}}]),e}(),me=Symbol("store");function De(){var e=Object(u["q"])(fe);if(void 0===e)throw new Error("Store is undefined.");return e}function ve(){var e=Object(u["q"])(me);if(void 0===e)throw new Error("Notifier is undefined.");return e}var ye=Object(u["n"])({components:{TheNotifier:x},setup:function(){return{notifier:ve()}}});n("c0db");const Oe=y()(ye,[["render",i],["__scopeId","data-v-0a334bfd"]]);var we=Oe,je=n("6c02"),Ae={class:"fixed inset-0 z-50 flex justify-between pointer-events-none"},xe=Object(u["i"])("div",null,null,-1),Ee={class:"absolute top-3 right-3"},Fe=Object(u["i"])("h1",{class:"text-lg font-bold mb-3"},"Welcome to the OpenTIPE Demo!",-1),Ce=Object(u["i"])("p",{class:"mb-3"},"The purpose of this demo is to showcase the user interface of OpenTIPE. You can translate the prefilled text, post-edit the translation, and accept or reject APE suggestions.",-1),ke=Object(u["i"])("p",null,"This demo is not using any models and the source text as well as the APE and MT outputs are hard-coded.",-1),Se={class:"flex justify-center h-full"},Te={class:"w-full h-full flex flex-col items-center w-full max-w-5xl p-8"},Be=Object(u["i"])("h1",{class:"mt-10 mb-10 2xl:mt-10 2xl:mb-10 max-w-xs 2xl:max-w-xs"},[Object(u["i"])("img",{src:"/banner.svg",alt:"MTC Human-Assisted Post-Editing"})],-1),Ie={class:"w-full flex justify-evenly items-end mt-8"},Le={class:"flex flex-1 flex-col items-center"},_e={class:"flex flex-1 flex-col items-center"},Re={class:"flex-1 flex justify-center"},Me=Object(u["i"])("div",{class:"flex-shrink-0 border-t-2 w-full my-8 border-gray-300 border-dashed"},null,-1),Ne={class:"flex items-center justify-center w-full"},Pe=Object(u["i"])("p",{class:"text-gray-400 text-md"},"Log out",-1);function He(e,t,n,r,a,i){var o=Object(u["I"])("base-button"),c=Object(u["I"])("base-dialog"),s=Object(u["I"])("the-dictionary-options"),l=Object(u["I"])("x-icon"),d=Object(u["I"])("element-label"),h=Object(u["I"])("tiptap"),f=Object(u["I"])("base-card"),g=Object(u["I"])("src-lang-selector"),b=Object(u["I"])("trg-lang-selector"),p=Object(u["I"])("book-open-icon"),m=Object(u["I"])("translate-icon"),D=Object(u["I"])("router-link");return Object(u["A"])(),Object(u["h"])(u["a"],null,[Object(u["l"])(c,{visible:e.showTranslationDialog,title:"Translation is in progress...",description:"This might take a few moments."},{buttons:Object(u["R"])((function(){return[Object(u["l"])(o,{title:"Abort Translation",type:"tertiary",onClick:e.abortTranslation},null,8,["onClick"])]})),_:1},8,["visible"]),e.dictOptionsAvailable?(Object(u["A"])(),Object(u["f"])(s,{key:e.languagePairKey,visible:e.dictionaryOptionsAreVisible,languagePairKey:e.languagePairKey,onDismiss:e.hideDictionaryOptions},null,8,["visible","languagePairKey","onDismiss"])):Object(u["g"])("",!0),Object(u["i"])("div",Ae,[xe,Object(u["i"])("div",{class:Object(u["t"])(["p-4 transition-all transform",{"translate-x-full":!e.demoNotificationIsVisible}])},[Object(u["i"])("div",{class:Object(u["t"])(["bg-white rounded-md shadow-2xl p-6 w-full max-w-sm relative pointer-events-auto ring-1 ring-gray-200",{}])},[Object(u["i"])("div",Ee,[Object(u["i"])("button",{class:"w-5 h-5 text-gray-400",onClick:t[0]||(t[0]=function(t){return e.demoNotificationIsVisible=!1})},[Object(u["l"])(l)])]),Fe,Ce,ke])],2)]),Object(u["i"])("div",Se,[Object(u["i"])("div",Te,[Be,Object(u["l"])(d,{text:"Enter the text you want to translate"}),Object(u["l"])(f,{class:"w-full h-full flex-grow",style:{"min-height":"20rem"}},{default:Object(u["R"])((function(){return[Object(u["l"])(h,{modelValue:e.editorContent,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.editorContent=t}),class:"h-full",enableSpellcheck:e.enableSpellcheck,characterLimit:e.characterLimit,enableTextSegment:!1,enableSuggestion:!1,editable:!1},null,8,["modelValue","enableSpellcheck","characterLimit"])]})),_:1}),Object(u["i"])("div",Ie,[Object(u["i"])("div",Le,[Object(u["l"])(d,{text:"Source language"}),Object(u["l"])(g,{class:"flex-grow-0",modelValue:e.selectedSrcLangIndex,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedSrcLangIndex=t}),menuOptions:e.srcLangs,upperCase:!0},null,8,["modelValue","menuOptions"])]),Object(u["i"])("div",_e,[Object(u["l"])(d,{text:"Target language"}),Object(u["l"])(b,{modelValue:e.selectedTrgLangIndex,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedTrgLangIndex=t}),menuOptions:e.trgLangs,upperCase:!0},null,8,["modelValue","menuOptions"])]),Object(u["i"])("div",Re,[Object(u["l"])(o,{title:"Dictionary options",type:"secondary",onClick:e.showDictionaryOptions,disabled:!e.dictOptionsAvailable},{icon:Object(u["R"])((function(){return[Object(u["l"])(p,{class:"w-5 h-5"})]})),_:1},8,["onClick","disabled"])])]),Me,Object(u["i"])("div",Ne,[Object(u["l"])(o,{class:"max-w-xs w-full mx-10",title:"Start translation",onClick:t[4]||(t[4]=function(t){return e.startTranslation()})},{icon:Object(u["R"])((function(){return[Object(u["l"])(m,{class:"w-5 h-5"})]})),_:1})]),Object(u["l"])(D,{to:"/logout",class:Object(u["t"])(["py-8",{invisible:!e.authenticationIsEnabled()}])},{default:Object(u["R"])((function(){return[Pe]})),_:1},8,["class"])])])],64)}var Ve=n("9510"),Ue=n("ade3"),ze=n("2909"),qe=n("5530"),We=n("707d"),Ke=n("9980"),Ge="-1",Je="textSegmentId",Qe="textSegmentMark",$e="text-segment",Ye=Ke["c"].create({name:Qe,priority:1e3,addOptions:function(){var e;return e={HTMLAttributes:{}},Object(Ue["a"])(e,Je,Ge),Object(Ue["a"])(e,"hasSuggestion",!1),e},addAttributes:function(){var e;return e={},Object(Ue["a"])(e,Je,{default:Ge,parseHTML:function(e){return e.getAttribute(Je)},renderHTML:function(e){return Object(Ue["a"])({},Je,e[Je])}}),Object(Ue["a"])(e,"hasSuggestion",{default:Ge,renderHTML:function(e){return{hasSuggestion:e.hasSuggestion}}}),e},parseHTML:function(){return[{tag:$e}]},renderHTML:function(e){var t=e.HTMLAttributes;return[$e,Object(Ke["l"])(this.options.HTMLAttributes,t),0]}}),Xe={Mark:Ye,name:Qe,tag:$e,idName:Je,defaultId:Ge},Ze="-1",et="suggestionId",tt=Xe.idName,nt=Xe.defaultId,ut="suggestionMark",rt="suggestion",at=Ke["c"].create({name:ut,addOptions:function(){return{HTMLAttributes:{},clickEvent:null}},addAttributes:function(){var e;return e={},Object(Ue["a"])(e,et,{default:Ze,parseHTML:function(e){return e.getAttribute(et)},renderHTML:function(e){return Object(Ue["a"])({},et,e[et])}}),Object(Ue["a"])(e,tt,{default:nt,parseHTML:function(e){return e.getAttribute(tt)},renderHTML:function(e){return Object(Ue["a"])({},tt,e[tt])}}),e},parseHTML:function(){return[{tag:rt}]},renderHTML:function(e){var t=e.HTMLAttributes;return[rt,Object(Ke["l"])(this.options.HTMLAttributes,t),0]}}),it={Mark:at,name:ut};function ot(e){var t=null;return e.forEach((function(e){var n;t=t||(null===(n=e.attrs)||void 0===n?void 0:n.textSegmentId)})),t}function ct(e){var t,n,u=[];return e.forEach((function(e,r,a){e._id!==t?(n&&t&&u.push({_id:t,srcText:n}),t=e._id,n=e.srcText):n="".concat(n).concat(e.srcText),a.length===r+1&&n&&u.push({_id:t,srcText:n})})),u}function st(e){var t,n=[];return e.forEach((function(e){e.textSegmentId&&t===e.textSegmentId||n.push(e),t=e.textSegmentId})),n}function lt(e,t){return!e||P(t)!==e&&t.includes(e)}function dt(e,t){var n=ot(e);return n?(t[n]&&(n=t[n]),n):null}function ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=H(e),r=u.type,a=u.attrs,i=u.content,o=u.text,c=u.marks,s={type:r,attrs:a},l=[],d=[],h=n,f=[];if(void 0!==o)if(c){var g=dt(c,h);if(!g||lt(g,t)){var b=Object(F["a"])();g&&(h[g]=b),g=b}l.push({_id:g,srcText:o}),f.push(Object(qe["a"])(Object(qe["a"])({},s),{},{textSegmentId:g})),d.push(g)}else{var p=M(o);p.forEach((function(e){if(N(e))f.push(Object(qe["a"])(Object(qe["a"])({},s),{},{text:e})),d.push("blank");else{var t=Object(F["a"])();l.push({_id:t,srcText:e}),f.push(Object(qe["a"])(Object(qe["a"])({},s),{},{textSegmentId:t})),d.push(t)}}))}else if(i){if(void 0!==i&&null!==i){var m=Object(qe["a"])(Object(qe["a"])({},s),{},{content:i}),D=[],v=[];i.forEach((function(e){var n=ht(e,t.concat(d),h),u=n.textSegments,r=n.structures,a=n.parseHistory,i=n.idReplacements;h=i,v.push.apply(v,Object(ze["a"])(r)),D.push.apply(D,Object(ze["a"])(u)),d.push.apply(d,Object(ze["a"])(a))})),d.push("break"),l.push.apply(l,Object(ze["a"])(ct(D))),m.content=st(v),f.push(m)}}else f.push(u),d.push("break");return{textSegments:l,structures:f,parseHistory:d,idReplacements:h}}function ft(e){return gt.apply(this,arguments)}function gt(){return gt=Object(E["a"])(regeneratorRuntime.mark((function e(t){var n,u,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=ht(t),u=n.textSegments,r=n.structures,e.abrupt("return",{textSegments:u,structure:r[0]});case 2:case"end":return e.stop()}}),e)}))),gt.apply(this,arguments)}function bt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=H(e),r=u.type,a=u.attrs,i=u.content,o=u.textSegmentId,c=u.text,s=[];if(void 0!==c)c&&s.push(u);else if(void 0!==o){var l,d=t.find((function(e){return e._id===o}));if(!d)throw new Error("Cannot build editor content because the text segment with the following id cannot be found: ".concat(o,"."));var h={type:Xe.name,attrs:(l={},Object(Ue["a"])(l,Xe.idName,d._id),Object(Ue["a"])(l,"hasSuggestion",d.suggestionIsActive),l)},f={type:it.name,attrs:Object(Ue["a"])({},Xe.idName,d._id)},g=[];if(J(d))if(n)g.push({type:"text",text:d.srcText,marks:[h,f]});else{var b=d.mtTextStructure;b.forEach((function(e){g.push({type:"text",text:e.value,marks:e.highlight?[h,f]:[h]})}))}else{var p={type:"text",text:n?d.srcText:d.hpeText,marks:[h]};g.push(p)}s.push.apply(s,Object(ze["a"])(g.filter((function(e){return""!==e.text}))))}else if(void 0!==i&&null!==i){var m=[];i.forEach((function(e){var u=bt(e,t,n);m=m.concat(u)}));var D={type:r,attrs:a,content:m};s.push(D)}else{var v={type:r,attrs:a};s.push(v)}return s}function pt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return bt(e,t,n)[0]}function mt(e,t){var n=e.from,u=e.to,r=[];return t.descendants((function(e,t){var a=t+1,i=t+e.nodeSize-1,o=n<=i&&a<=u&&n!==u;if(o){var c=e.marks;if(c){var s=null;c.forEach((function(e){s=s||e.attrs.textSegmentId})),s&&(r.includes(s)||r.push(s))}}})),r}function Dt(e,t){var n=mt(e.state.selection,e.state.doc);return t.filter((function(e){return n.includes(e._id)}))}function vt(e){return yt.apply(this,arguments)}function yt(){return yt=Object(E["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new We["a"]({"text/html":new Blob([t.getHTML()],{type:"text/html"}),"text/plain":new Blob([t.state.doc.textContent],{type:"text/plain"})}),e.next=3,We["b"]([n]);case 3:case"end":return e.stop()}}),e)}))),yt.apply(this,arguments)}function Ot(e){return e.state.selection.from===e.state.selection.to}function wt(e,t){var n=e.state.selection,u=n.from,r=n.to;if("start"===t){var a=1,i=Math.max(u,r);return i<=a}var o=e.state.doc.content.size-1,c=Math.max(u,r);return o<=c}function jt(e){var t=null;(!e.state.selection.empty||Ot(e)&&(wt(e,"start")||wt(e,"end")))&&(t=K);var n=e.state.selection.$head,u=n.nodeAfter||n.nodeBefore;if(!u)return null;var r=u.marks;return r?(r.forEach((function(e){t=t||e.attrs.textSegmentId})),t):null}function At(e,t){var n=Object(ze["a"])(e);if(t>=1||t<0)return n;var u=n.length,r=0;if(n.forEach((function(e){e.mtText!==e.apeText&&(r+=1)})),0===r)return n;var a=u*t;if(r>a){var i=r-a,o=i/r;n.forEach((function(e){e.mtText!==e.apeText&&Math.random()<=o&&(e.apeText=e.mtText)}))}return n}function xt(e){return Et.apply(this,arguments)}function Et(){return Et=Object(E["a"])(regeneratorRuntime.mark((function e(t){var n,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],u=0,t.forEach((function(e){var t=["The Bremen Town Musicians"].concat(Object(ze["a"])(M('There was a man who had a mule that had been carrying the sacks to the mill for many years without fail, but whose strength was now running out, so that he was becoming more and more unfit for work. The master thought of taking him out of the feed, but the donkey noticed that there was no good wind, ran away and set off for Bremen; there, he thought, he could become a town musician. When he had gone a little while, he found a hunting dog lying on the road, yipping like one who has run himself tired. "Well, what are you yapping about, Packan?" asked the donkey. "Oh," said the dog, "because I\'m old and getting weaker every day, and I can\'t go hunting anymore, my master wanted to kill me, so I ran away; but how am I supposed to earn my bread?" - "You know what?" said the donkey, "I\'ll go to Bremen and become a town musician there, go along and get accepted at the music as well. I\'ll play the lute, and you play the timpani." The dog was satisfied, and they went on their way. It was not long before a cat was sitting by the road, making a face like three days of rainy weather. "Well, what\'s got into your way, old beard cleaner?" said the donkey. "Who can be funny when you\'re in trouble," answered the cat, "because I\'m getting on in years, my teeth are getting dull, and I\'d rather sit behind the stove and spin than hunt around for mice, my wife wanted to drown me; I still managed to get away, but now good advice is expensive: where should I go?" - "Go with us to Bremen, you know how to play night music, there you can become a town musician." The cat thought that was good and went along. Then the three fugitives passed a farm, where the rooster was sitting on the gate and screaming at the top of his lungs. "You scream through the marrow of one\'s bones," said the donkey, "what are you up to?" - "I prophesied good weather," said the rooster, "because it is our dear wife\'s day, when she washed the little Christ\'s shirts and wants to dry them; but because guests are coming tomorrow on Sunday, the housewife has no mercy and has told the cook that she wants to eat me in the soup tomorrow, and that I should have my head cut off tonight. Now I\'ll scream at the top of my lungs as long as I can." - "Eh what, you red-head," said the donkey, "you\'d better go away with us, we\'ll go to Bremen, you\'ll find something better than death anywhere; you have a good voice, andand if we make music together, it must have a way." The rooster accepted the proposal, and all four of them left together.')),Object(ze["a"])(M('But they could not reach the city of Bremen in a day, and in the evening they came to a forest where they were going to spend the night. The donkey and the dog lay down under a big tree, the cat and the rooster made themselves into the branches, but the rooster flew to the top where it was safest for him. Before he fell asleep, he looked around once more to all four winds, then he thought he saw a spark burning in the distance, and called out to his companions that there must not be a house far away, for there was a light shining. Said the donkey: "So we must set out and go there, for here the inn is bad." ')),["The dog said,"],Object(ze["a"])(M(' "A few bones and some meat on them would do him good, too." So they set out for the area where the light was, and soon saw it shimmering more brightly, and it grew larger and larger, until they came before a brightly lit robber\'s house. The Donkey, being the biggest, approached the window and looked in. "What do you see, gray horse?" asked the rooster. "What do I see?" replied the donkey, "a table laid with beautiful food and drink, and robbers sitting at it, enjoying themselves." - "That would be something for us," said the cock. "Yes, yes, oh, if we were there!" said the donkey. Then the animals discussed how they should begin to chase the robbers away, and at last they found a way. The donkey had to stand on the window with his front feet, the dog had to jump on the donkey\'s back, the cat had to climb on the dog, and finally the rooster flew up and sat on the cat\'s head. When this was done, at a sign they all began to make their music: the donkey brayed, the dog barked, the cat meowed, and the rooster crowed. Then they rushed through the window into the living room so that the windows rattled. The robbers took to their heights at the horrible clamor, thinking no other than that a ghost was coming in, and fled out into the forest in the greatest fear. Now the four minstrels sat down at the table, made do with what was left over, and ate to their hearts\' content.'))).filter((function(e){return!N(e)})),r=["Town Musicians of Bremen"].concat(Object(ze["a"])(M('There was a man who had a donkey that had been carrying the sacks to the mill for many years without fail, but whose strength was now running out, so that he was becoming more and more unfit for work. The master thought of taking him out of the feed, but the donkey noticed that there was no good wind, ran away and set off for Bremen; there, he thought, he could become a town musician. When he had gone a little while, he found a hound lying on the road, yipping like one who has run himself tired. "Well, what are you yapping about, Packan?" asked the donkey. "Oh," said the dog, "because I\'m old and getting weaker every day, and I can\'t go hunting anymore, my master wanted to kill me, so I took to my heels; but what am I supposed to do for a living?" - "You know what?" said the donkey, "I\'ll go to Bremen and become a town musician there, go along and get accepted at the music as well. I\'ll play the lute, and you play the drums." The dog was satisfied, and they went on their way. It was not long before a cat was sitting by the road, making a face like three days of rainy weather. "Well, what\'s got into your way, old beard cleaner?" said the donkey. "Who can be funny when you\'re in trouble," answered the cat, "because I\'m getting on in years, my teeth are getting dull, and I\'d rather sit behind the stove and spin than hunt around for mice, my wife wanted to drown me; I still managed to get away, but now good advice is expensive: where should I go?" - "Go with us to Bremen, you know how to play night music, there you can become a town musician." The cat thought that was good and went along. Then the three fugitives passed a farm, where the rooster was sitting on the gate and screaming at the top of his lungs. "You scream through the marrow of one\'s bones," said the donkey, "what are you up to?" - "I predicted good weather," said the rooster, "because it is our dear wife\'s day, when she washed the little Christ\'s shirts and wants to dry them; but because guests are coming tomorrow on Sunday, the housewife has no mercy and has told the cook that she wants to eat me in the soup tomorrow, and that I should have my head cut off tonight. Now I\'ll scream at the top of my lungs as long as I can." - "Eh what, you red-head," said the donkey, "you\'d better go away with us, we\'ll go to Bremen, you\'ll find something better than death anywhere; you have a good voice, and if we play music together, it must have a style." The rooster accepted the proposal, and all four of them left together.')),Object(ze["a"])(M('But they could not reach the city of Bremen in a day, and in the evening they came to a forest where they were going to spend the night. The donkey and the dog lay down under a big tree, the cat and the rooster made themselves into the branches, but the rooster flew to the top where it was safest for him. Before he fell asleep, he looked around once more to all four winds, then he thought he saw a spark burning in the distance, and called out to his companions that there must not be a house far away, for there was a light shining. Said the donkey: "So we must set out and go there, for here the inn is bad." ')),["The dog said,"],Object(ze["a"])(M(' "A few bones and some meat on them would do him good, too." So they set out for the area where the light was, and soon saw it shimmering more brightly, and it grew larger and larger, until they came before a brightly lit robber\'s house. The Donkey, being the biggest, approached the window and looked in. "What do you see, gray horse?" asked the rooster. "What do I see?" replied the donkey, "a table set with delicious food and drinks, and robbers sitting at it, enjoying themselves." - "That would be something for us," said the cock. "Yes, yes, oh, if we were there!" said the donkey. Then the animals discussed how they should begin to chase the robbers away, and at last they found a way. The donkey had to stand on the window with his front feet, the dog had to jump on the donkey\'s back, the cat had to climb on the dog, and finally the rooster flew up and sat on the cat\'s head. When this was done, at a sign they all began to make their music: the donkey brayed, the dog barked, the cat meowed, and the rooster crowed. Then they rushed through the window into the living room so that the windows rattled. The robbers took to their heights at the horrible clamor, thinking that a ghost was coming, and fled out into the forest in the greatest fear. Now the four musicians sat down at the table, made do with what was left over, and ate to their hearts\' content.'))).filter((function(e){return!N(e)}));n.push({_id:e._id,srcText:e.srcText,mtText:t[u]||"",apeText:r[u]||""}),u+=1})),e.abrupt("return",new Promise((function(e){setTimeout((function(){e(n)}),R.fakeApiDelay)})));case 4:case"end":return e.stop()}}),e)}))),Et.apply(this,arguments)}function Ft(e){return Ct.apply(this,arguments)}function Ct(){return Ct=Object(E["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="",null===t){e.next=5;break}return e.next=4,t.getIdToken();case 4:n=e.sent;case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Ct.apply(this,arguments)}function kt(e,t,n,u,r,a,i){return St.apply(this,arguments)}function St(){return St=Object(E["a"])(regeneratorRuntime.mark((function e(t,n,u,r,a,i,o){var c,s,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ft(a);case 2:return c=e.sent,s={_id:r,srcLang:n,trgLang:u,textSegments:t,userDict:i,selectedDicts:o},e.next=6,fetch("".concat(R.baseUrlApi,"/translate"),{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(s)});case 6:if(l=e.sent,l.ok){e.next=9;break}throw new Error(l.statusText);case 9:return e.next=11,l.json();case 11:return d=e.sent,e.abrupt("return",d.textSegments.map((function(e){if(void 0===e.mtText)throw new Error('The server returned no translation for the text segment with id "'.concat(e._id,'": "').concat(e.srcText,'"'));if(void 0===e.apeText)throw new Error('The server returned no post-edit for the text segment with id "'.concat(e._id,'": "').concat(e.srcText,'"'));return e})));case 13:case"end":return e.stop()}}),e)}))),St.apply(this,arguments)}function Tt(e,t,n,u,r,a,i){return Bt.apply(this,arguments)}function Bt(){return Bt=Object(E["a"])(regeneratorRuntime.mark((function e(t,n,u,r,a,i,o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!R.useFakeApi){e.next=4;break}e.t0=xt(t),e.next=10;break;case 4:return e.t1=At,e.next=7,kt(t,n,u,r,a,i,o);case 7:e.t2=e.sent,e.t3=R.maxSuggestionRatio,e.t0=(0,e.t1)(e.t2,e.t3);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)}))),Bt.apply(this,arguments)}function It(e,t,n,u,r,a,i){return Lt.apply(this,arguments)}function Lt(){return Lt=Object(E["a"])(regeneratorRuntime.mark((function e(t,n,u,r,a,i,c){var s,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ft(a);case 2:return s=e.sent,l={_id:r,srcLang:n,trgLang:u,textSegments:t.map((function(e){return Object(qe["a"])(Object(qe["a"])({},e),{},{apeAccepted:e.edits.filter((function(e){return e.type===o.accepted})).length>0})})),selectedDicts:i,userDict:c},e.next=6,fetch("".concat(R.baseUrlApi,"/post-edition"),{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(l)});case 6:if(d=e.sent,d.ok){e.next=9;break}throw new Error(d.statusText);case 9:case"end":return e.stop()}}),e)}))),Lt.apply(this,arguments)}var _t={class:"bg-gray-300 p-1 rounded-full flex space-x-2 transition-all ease-in-out",style:{"min-width":"8rem"}},Rt=["onClick"],Mt={class:""};function Nt(e,t,n,r,a,i){return Object(u["A"])(),Object(u["h"])("div",_t,[(Object(u["A"])(!0),Object(u["h"])(u["a"],null,Object(u["G"])(e.menuOptions,(function(t,n){return Object(u["A"])(),Object(u["h"])("button",{class:Object(u["t"])(["w-full rounded-full px-6 border-gray-600 border-4 border-opacity-0 focus:outline-none text-sm font-bold text-gray-500",{"bg-white shadow-md text-gray-700":n===e.selectedIndex,"hover:border-opacity-20":n!==e.selectedIndex}]),key:n,onClick:function(t){return e.updateSelectedIndex(n)}},[Object(u["i"])("p",Mt,Object(u["L"])(e.upperCase?String(t).toUpperCase():t),1)],10,Rt)})),128))])}var Pt=Object(u["n"])({props:{menuOptions:{type:Object,required:!0},upperCase:{type:Boolean,required:!1,default:function(){return!1}},modelValue:{type:Number,required:!0}},emits:{"update:modelValue":function(e){return!0}},setup:function(e,t){var n=Object(u["F"])(e.modelValue);function r(e){e!==n.value&&(n.value=e,t.emit("update:modelValue",n.value))}return Object(u["Q"])((function(){n.value=Math.min(n.value,e.menuOptions.length-1),t.emit("update:modelValue",n.value)})),{selectedIndex:n,updateSelectedIndex:r}}});const Ht=y()(Pt,[["render",Nt]]);var Vt=Ht,Ut={class:"relative"},zt=["title","disabled"],qt={key:0},Wt={key:0,class:"absolute w-full h-full top-0 left-0 cursor-not-allowed"};function Kt(e,t,n,r,a,i){return Object(u["A"])(),Object(u["h"])("div",Ut,[Object(u["i"])("button",{title:e.description,class:Object(u["t"])(["h-full w-full px-4 py-2 rounded-md shadow-md hover:shadow-lg transition-all ease-in-out flex space-x-2 text-white focus:outline-none items-center justify-center",{"bg-gray-400 hover:bg-gray-500 active:bg-gray-600":"secondary"==e.type||"tertiary"==e.type,"opacity-50":"tertiary"==e.type&&!e.disabled,"bg-mtc_pink-500 hover:bg-mtc_pink-600 active:bg-mtc_pink-700":"primary"==e.type,"bg-mtc_powder_blue-700 hover:bg-mtc_powder_blue-800 active:bg-mtc_powder_blue-900":"primary-green"==e.type,"opacity-20":e.disabled}]),onClick:t[0]||(t[0]=function(t){return e.emitClick()}),disabled:e.disabled},[Object(u["i"])("div",{class:Object(u["t"])({"-ml-1":e.title})},[Object(u["H"])(e.$slots,"icon")],2),e.title?(Object(u["A"])(),Object(u["h"])("p",qt,Object(u["L"])(e.title),1)):Object(u["g"])("",!0)],10,zt),e.disabled?(Object(u["A"])(),Object(u["h"])("div",Wt)):Object(u["g"])("",!0)])}var Gt=Object(u["n"])({props:{title:String,type:{default:function(){return"primary"},required:!1,type:String},disabled:Boolean,description:String},emits:{click:function(){return!0}},setup:function(e,t){var n=t.emit;function u(){n("click")}return{emitClick:u}}});const Jt=y()(Gt,[["render",Kt]]);var Qt=Jt,$t={key:0,class:"fixed inset-0 bg-black opacity-60",style:{"z-index":"300000"}},Yt={class:"font-bold text-2xl text-gray-700 mb-4"},Xt={key:0,class:"text-gray-500 mb-12"};function Zt(e,t,n,r,a,i){var o=Object(u["I"])("base-loading-animation"),c=Object(u["I"])("base-card");return Object(u["A"])(),Object(u["f"])(u["b"],{to:"body"},[Object(u["l"])(u["c"],{name:"fade"},{default:Object(u["R"])((function(){return[e.visible?(Object(u["A"])(),Object(u["h"])("div",$t)):Object(u["g"])("",!0)]})),_:1}),Object(u["l"])(u["c"],{name:"fade-move-up"},{default:Object(u["R"])((function(){return[e.visible?(Object(u["A"])(),Object(u["h"])("div",{key:0,class:"fixed inset-0 left-0 top-0 z-30 flex justify-center items-center",onClick:t[0]||(t[0]=function(){return e.emitBackgroundClick&&e.emitBackgroundClick.apply(e,arguments)}),style:{"z-index":"300001"}},[Object(u["l"])(c,{class:"max-h-96 min-w-md max-w-xl m-8 p-8 flex flex-col justify-center items-center"},{default:Object(u["R"])((function(){return[Object(u["i"])("h2",Yt,Object(u["L"])(e.title),1),e.description?(Object(u["A"])(),Object(u["h"])("p",Xt,Object(u["L"])(e.description),1)):Object(u["g"])("",!0),Object(u["l"])(o,{class:"mb-20"}),Object(u["H"])(e.$slots,"buttons",{class:""},void 0,!0)]})),_:3})])):Object(u["g"])("",!0)]})),_:3})])}var en={class:"bg-white rounded-lg shadow-md"};function tn(e,t,n,r,a,i){return Object(u["A"])(),Object(u["h"])("div",en,[Object(u["H"])(e.$slots,"default")])}var nn={};const un=y()(nn,[["render",tn]]);var rn=un,an=function(e){return Object(u["D"])("data-v-5f1e6c4e"),e=e(),Object(u["B"])(),e},on={class:"spinner m-4"},cn=an((function(){return Object(u["i"])("div",{class:"bounce1"},null,-1)})),sn=an((function(){return Object(u["i"])("div",{class:"bounce2"},null,-1)})),ln=an((function(){return Object(u["i"])("div",{class:"bounce3"},null,-1)})),dn=[cn,sn,ln];function hn(e,t,n,r,a,i){return Object(u["A"])(),Object(u["h"])("div",on,dn)}var fn={};n("f2e0");const gn=y()(fn,[["render",hn],["__scopeId","data-v-5f1e6c4e"]]);var bn=gn,pn=Object(u["n"])({components:{BaseCard:rn,BaseLoadingAnimation:bn},emits:{backgroundClick:function(){return!0}},props:{title:{type:String,required:!0},description:{type:String,required:!1},visible:{type:Boolean,required:!1,default:function(){return!0}}},setup:function(e,t){var n=t.emit;function u(){n("backgroundClick")}return{emitBackgroundClick:u}}});n("045e");const mn=y()(pn,[["render",Zt],["__scopeId","data-v-8ff9d4f0"]]);var Dn=mn,vn={class:"font-bold text-gray-500 mb-2"};function yn(e,t,n,r,a,i){return Object(u["A"])(),Object(u["h"])("p",vn,Object(u["L"])(n.text),1)}var On={props:{text:String}};const wn=y()(On,[["render",yn]]);var jn=wn;function An(e,t,n,r,a,i){var o=Object(u["I"])("editor-content"),c=Object(u["I"])("editor-menu");return Object(u["A"])(),Object(u["h"])("div",{class:Object(u["t"])(["h-full relative overflow-hidden transform",{"pb-10 delay-150":e.showMenu}])},[Object(u["l"])(o,{editor:e.editor,spellcheck:e.enableSpellcheck,class:Object(u["t"])(["h-full overflow-y-auto editor p-8",{unfocused:!e.showMenu}])},null,8,["editor","spellcheck","class"]),Object(u["l"])(u["c"],{name:"fade"},{default:Object(u["R"])((function(){return[e.showMenu?(Object(u["A"])(),Object(u["f"])(c,{key:0,class:"absolute w-full bottom-0 left-0 h-10",editor:e.editor,onMouseenter:e.handleMenuFocus,onMouseleave:e.handleMenuBlur,characterLimit:e.characterLimit},null,8,["editor","onMouseenter","onMouseleave","characterLimit"])):Object(u["g"])("",!0)]})),_:1})],2)}n("fb6a");var xn=n("c1e2"),En=n("672a"),Fn=n("7914"),Cn={key:0,class:"px-4 py-1 flex justify-between items-center bg-gray-100 rounded-b-md"},kn={class:"flex justify-start items-center space-x-1"},Sn=Object(u["i"])("p",null,"H1",-1),Tn=Object(u["i"])("p",null,"H2",-1),Bn=Object(u["i"])("p",null,"H3",-1),In=Object(u["i"])("p",null,"P",-1),Ln=Object(u["i"])("p",null,"—",-1),_n={key:0};function Rn(e,t,n,r,a,i){var o=Object(u["I"])("text-menu-button"),c=Object(u["I"])("bulleted-list-icon"),s=Object(u["I"])("ordered-list-icon"),l=Object(u["I"])("blockquote-icon");return n.editor?(Object(u["A"])(),Object(u["h"])("div",Cn,[Object(u["i"])("div",kn,[Object(u["l"])(o,{onClick:t[0]||(t[0]=function(e){return n.editor.chain().focus().toggleHeading({level:1}).run()}),active:n.editor.isActive("heading",{level:1})},{default:Object(u["R"])((function(){return[Sn]})),_:1},8,["active"]),Object(u["l"])(o,{onClick:t[1]||(t[1]=function(e){return n.editor.chain().focus().toggleHeading({level:2}).run()}),active:n.editor.isActive("heading",{level:2})},{default:Object(u["R"])((function(){return[Tn]})),_:1},8,["active"]),Object(u["l"])(o,{onClick:t[2]||(t[2]=function(e){return n.editor.chain().focus().toggleHeading({level:3}).run()}),active:n.editor.isActive("heading",{level:3})},{default:Object(u["R"])((function(){return[Bn]})),_:1},8,["active"]),Object(u["l"])(o,{onClick:t[3]||(t[3]=function(e){return n.editor.chain().focus().setParagraph().run()}),active:n.editor.isActive("paragraph")},{default:Object(u["R"])((function(){return[In]})),_:1},8,["active"]),Object(u["l"])(o,{onClick:t[4]||(t[4]=function(e){return n.editor.chain().focus().toggleBulletList().run()}),active:n.editor.isActive("bulletList")},{default:Object(u["R"])((function(){return[Object(u["l"])(c)]})),_:1},8,["active"]),Object(u["l"])(o,{onClick:t[5]||(t[5]=function(e){return n.editor.chain().focus().toggleOrderedList().run()}),active:n.editor.isActive("orderedList")},{default:Object(u["R"])((function(){return[Object(u["l"])(s)]})),_:1},8,["active"]),Object(u["l"])(o,{onClick:t[6]||(t[6]=function(e){return n.editor.chain().focus().toggleBlockquote().run()}),active:n.editor.isActive("blockquote")},{default:Object(u["R"])((function(){return[Object(u["l"])(l)]})),_:1},8,["active"]),Object(u["l"])(o,{onClick:t[7]||(t[7]=function(e){return n.editor.chain().focus().setHorizontalRule().run()})},{default:Object(u["R"])((function(){return[Ln]})),_:1})]),n.characterLimit&&n.editor.storage.characterCount?(Object(u["A"])(),Object(u["h"])("div",_n,[Object(u["i"])("p",{class:Object(u["t"])(["text-sm text-gray-300",{"text-yellow-500":n.editor.storage.characterCount.characters()>=.97*n.characterLimit&&!(n.editor.storage.characterCount.characters()===n.characterLimit),"text-red-500":n.editor.storage.characterCount.characters()===n.characterLimit}])},Object(u["L"])(Math.max(n.editor.storage.characterCount.characters(),0))+"/"+Object(u["L"])(n.characterLimit),3)])):Object(u["g"])("",!0)])):Object(u["g"])("",!0)}function Mn(e,t,n,r,a,i){return Object(u["A"])(),Object(u["h"])("button",{class:Object(u["t"])(["h-7 w-7 rounded-md flex justify-center items-center hover:bg-gray-200 transition-all",{"bg-gray-200 hover:bg-gray-300":n.active}])},[Object(u["H"])(e.$slots,"default",{class:"flex justify-center items-center"})],2)}var Nn={props:["active"]};const Pn=y()(Nn,[["render",Mn]]);var Hn=Pn,Vn={xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-blockquote",width:"20",height:"20",viewBox:"0 0 24 24","stroke-width":"2",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Un=Object(u["j"])('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6 15h15"></path><path d="M21 19h-15"></path><path d="M15 11h6"></path><path d="M21 7h-6"></path><path d="M9 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"></path><path d="M3 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"></path>',7),zn=[Un];function qn(e,t){return Object(u["A"])(),Object(u["h"])("svg",Vn,zn)}const Wn={},Kn=y()(Wn,[["render",qn]]);var Gn=Kn,Jn={xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-list",width:"20",height:"20",viewBox:"0 0 24 24","stroke-width":"2",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Qn=Object(u["j"])('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><line x1="9" y1="6" x2="20" y2="6"></line><line x1="9" y1="12" x2="20" y2="12"></line><line x1="9" y1="18" x2="20" y2="18"></line><line x1="5" y1="6" x2="5" y2="6.01"></line><line x1="5" y1="12" x2="5" y2="12.01"></line><line x1="5" y1="18" x2="5" y2="18.01"></line>',7),$n=[Qn];function Yn(e,t){return Object(u["A"])(),Object(u["h"])("svg",Jn,$n)}const Xn={},Zn=y()(Xn,[["render",Yn]]);var eu=Zn,tu={xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-list-numbers",width:"20",height:"20",viewBox:"0 0 24 24","stroke-width":"2",stroke:"#000000",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},nu=Object(u["j"])('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M11 6h9"></path><path d="M11 12h9"></path><path d="M12 18h8"></path><path d="M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4"></path><path d="M6 10v-6l-2 2"></path>',6),uu=[nu];function ru(e,t){return Object(u["A"])(),Object(u["h"])("svg",tu,uu)}const au={},iu=y()(au,[["render",ru]]);var ou=iu,cu={props:["editor","characterLimit"],components:{TextMenuButton:Hn,BlockquoteIcon:Gn,BulletedListIcon:eu,OrderedListIcon:ou}};const su=y()(cu,[["render",Rn]]);var lu=su,du=n("5313"),hu=n("576a"),fu="highlight",gu=Ke["b"].create({name:fu,addOptions:function(){return{getSelectedTextSegmentId:function(){return""}}},addProseMirrorPlugins:function(){var e=this;return[new du["d"]({key:new du["e"](fu),props:{decorations:function(t){var n=t.doc,u=e.options.getSelectedTextSegmentId(),r=[];return n.descendants((function(e,t){if(e.marks){var n=!1;e.marks.forEach((function(e){n=n||e.attrs.textSegmentId===u})),n&&r.push(hu["a"].inline(t,t+e.nodeSize,{class:"selected"}))}})),hu["b"].create(n,r)}}})]}}),bu=Object(u["n"])({components:{EditorContent:xn["b"],EditorMenu:lu},props:{modelValue:{type:Object,required:!0},editable:{type:Boolean,default:function(){return!0}},enableHistory:{type:Boolean,required:!1,default:function(){return!0}},selectedTextSegmentId:{type:String,default:function(){return K}},enableHighlight:{type:Boolean,required:!1,default:function(){return!1}},characterLimit:{type:Number,required:!1,default:function(){return null}},enableSpellcheck:{type:Boolean,required:!1,default:function(){return!1}},enableTextSegment:{type:Boolean,required:!1,default:function(){return!0}},enableSuggestion:{type:Boolean,required:!1,default:function(){return!0}}},emits:{userEdit:function(){return!0},markClick:function(e){return!0},newEditor:function(e){return!0},textSegmentSelectionChange:function(){return!0},"update:modelValue":function(e){return!0}},setup:function(e,t){var n=t.emit,r={bold:!1,code:!1,italic:!1,strike:!1,codeBlock:!1,gapcursor:!1};e.enableHistory||(r.history=!1);var a=[En["a"].configure(r)];e.enableTextSegment&&a.push(Xe.Mark),e.enableSuggestion&&a.push(it.Mark),e.enableHighlight&&a.push(gu.configure({getSelectedTextSegmentId:function(){return" ".concat(e.selectedTextSegmentId).slice(1)}})),null!==e.characterLimit&&a.push(Fn["a"].configure({limit:e.characterLimit}));var i=Object(u["F"])(!1),o=Object(u["F"])(new xn["a"]({content:e.modelValue,editable:e.editable,extensions:a,onUpdate:function(e){var t=e.editor;n("update:modelValue",t.getJSON()),n("userEdit")},onSelectionUpdate:function(e){var t=e.editor,u=jt(t);u&&n("markClick",u)},onFocus:function(){i.value=!0},onBlur:function(){i.value=!1}}));function c(e){if(e){var t=e.state,n=e.view,u=t.tr;n.dispatch(u)}}Object(u["w"])((function(){o.value.destroy()})),n("newEditor",o.value),Object(u["P"])((function(){return e.modelValue}),(function(e){var t=JSON.stringify(o.value.getJSON())===JSON.stringify(e);if(!t){var n=o.value.state.selection.$anchor.pos;o.value.chain().setContent(e,!1).setTextSelection(n).run()}})),Object(u["P"])((function(){return e.selectedTextSegmentId}),(function(){n("textSegmentSelectionChange"),c(o.value)}));var s=Object(u["F"])(!1);function l(){s.value=!0}function d(){s.value=!1}var h=Object(u["F"])(!1);return Object(u["Q"])((function(){h.value=e.editable&&(s.value||i.value)})),{editor:o,handleMenuBlur:d,handleMenuFocus:l,showMenu:h}}});n("06c4");const pu=y()(bu,[["render",An]]);var mu=pu,Du={key:0,class:"z-30 fixed inset-0 flex justify-center items-center pointer-events-none",style:{"z-index":"10001"}},vu={class:"max-h-full overflow-auto block p-8"},yu={class:"font-heading text-2xl"},Ou=Object(u["k"])(" Dictionary Options: "),wu={class:"text-gray-400 ml-0.5"},ju=Object(u["i"])("p",null," It is possible to refine the suggestions with the help of dictionaries. If there is a dictionary entry for a specific word, suggestions will include the translation found in this entry with a higher probability. ",-1),Au={key:0},xu=Object(u["i"])("h2",{class:"mt-6 font-heading"},"Custom Dictionary",-1),Eu=Object(u["i"])("p",null," Each entry should be put into a separate line. The word in the source language should be on the left and the translation should be on the right. ",-1),Fu=Object(u["i"])("p",{class:"mt-4"}," For example, this is what entries should look like for the language pair English to German: ",-1),Cu=Object(u["i"])("div",{class:"my-4 border-l-2 border-gray-300 pl-4 text-gray-700 font-mono text-sm"},[Object(u["i"])("p",null,"hello=grüezi"),Object(u["i"])("p",null,"bicycle=Velo")],-1),ku={key:1},Su=Object(u["i"])("h2",{class:"mt-6 font-heading"},"Other Dictionaries",-1),Tu=Object(u["i"])("p",{class:"mb-4"}," Below, you can select which other dictionaries you want to use. ",-1),Bu={class:"font-bold"},Iu=["checked","onChange"];function Lu(e,t,n,r,a,i){var o=Object(u["I"])("x-icon"),c=Object(u["I"])("base-card");return Object(u["A"])(),Object(u["f"])(u["b"],{to:"body"},[Object(u["l"])(u["c"],{name:"fade"},{default:Object(u["R"])((function(){return[e.visible?(Object(u["A"])(),Object(u["h"])("div",{key:0,class:"fixed inset-0 bg-black opacity-60",style:{"z-index":"10000"},onClick:t[0]||(t[0]=function(){return e.dismiss&&e.dismiss.apply(e,arguments)})})):Object(u["g"])("",!0)]})),_:1}),Object(u["l"])(u["c"],{name:"fade-move-up"},{default:Object(u["R"])((function(){return[e.visible?(Object(u["A"])(),Object(u["h"])("div",Du,[Object(u["l"])(c,{class:"h-full w-full mx-8 my-10 min-w-md max-w-3xl relative flex-col pointer-events-auto",style:{"max-height":"90%"}},{default:Object(u["R"])((function(){return[Object(u["i"])("button",{class:"absolute top-5 right-5 w-6 h-6 text-gray-400",onClick:t[1]||(t[1]=function(){return e.dismiss&&e.dismiss.apply(e,arguments)})},[Object(u["l"])(o)]),Object(u["i"])("div",vu,[Object(u["i"])("h1",yu,[Ou,Object(u["i"])("span",wu,Object(u["L"])(e.languagePairKey.toUpperCase()),1)]),ju,e.showUserDict?(Object(u["A"])(),Object(u["h"])("div",Au,[xu,Eu,Fu,Cu,Object(u["S"])(Object(u["i"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.newUserDictRaw=t}),class:Object(u["t"])(["w-full border-2 p-4 rounded-md",{"ring-red-400 ring-4":!e.inputIsValid}]),name:"",id:"",rows:"10"},null,2),[[u["O"],e.newUserDictRaw]])])):Object(u["g"])("",!0),e.availableDictionaries.length>0?(Object(u["A"])(),Object(u["h"])("div",ku,[Su,Tu,(Object(u["A"])(!0),Object(u["h"])(u["a"],null,Object(u["G"])(e.availableDictionaries,(function(t,n){return Object(u["A"])(),Object(u["h"])("div",{key:n,class:"flex justify-between items-center py-1.5 px-4 bg-gray-100 mb-2 rounded-md"},[Object(u["i"])("h2",Bu,Object(u["L"])(t),1),Object(u["i"])("input",{type:"checkbox",checked:e.newSelectedDictionaries.includes(t),onChange:function(t){return e.updateDictionarySelection(n,t.target.checked)}},null,40,Iu)])})),128))])):Object(u["g"])("",!0)])]})),_:1})])):Object(u["g"])("",!0)]})),_:1})])}var _u=Object(u["n"])({components:{BaseCard:rn,XIcon:Ve["b"]},emits:{dismiss:function(){return!0}},props:{languagePairKey:{type:String,required:!0},visible:{type:Boolean,required:!0}},setup:function(e,t){var n=t.emit,r=ve(),a=De(),i=a.state,o=a.methods,c=i.dictionaries[e.languagePairKey];if(!c)throw new Error("The state does not contain information about dictionaries for the language pair ".concat(e.languagePairKey,". The language pair key might be incorrect."));var s=Object(u["F"])(c.userDictRaw),d=Date.now(),h=Object(u["F"])(!0);Object(u["Q"])((function(){var t=Date.now();d=t;var n=!0;try{te(s.value)}catch(u){n=!1,setTimeout((function(){t===d&&(r.dismissCurrentNotification(),r.notify(u.message,{messageType:l.alert}))}),2e3)}h.value=n,n&&r.dismissCurrentNotification(),o.updateUserDictRaw(e.languagePairKey,s.value)}));var f=Object(u["F"])(c.selectedDicts);function g(t,n){var u=c.availableDicts[t];u?(n?R.allowMultipleDictSelection?f.value.push(u):f.value=[u]:f.value=f.value.filter((function(e){return e!==u})),o.updateSelectedDicts(e.languagePairKey,f.value)):console.warn("Selected dictionary cannot be found.","Index:",t,"Selected:",n,"Value:",u)}function b(){n("dismiss")}return{dismiss:b,newUserDictRaw:s,updateDictionarySelection:g,availableDictionaries:c.availableDicts,newSelectedDictionaries:f,inputIsValid:h,showUserDict:ue(e.languagePairKey)}}});const Ru=y()(_u,[["render",Lu]]);var Mu=Ru,Nu={type:"doc",content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:"Die Bremer Stadtmusikanten"}]},{type:"paragraph",content:[{type:"text",text:'Es hatte ein Mann einen Esel, der schon lange Jahre die Säcke unverdrossen zur Mühle getragen hatte, dessen Kräfte aber nun zu Ende gingen, so daß er zur Arbeit immer untauglicher ward. Da dachte der Herr daran, ihn aus dem Futter zu schaffen, aber der Esel merkte, daß kein guter Wind wehte, lief fort und machte sich auf den Weg nach Bremen; dort, meinte er, könnte er ja Stadtmusikant werden. Als er ein Weilchen fortgegangen war, fand er einen Jagdhund auf dem Wege liegen, der jappte wie einer, der sich müde gelaufen hat. "Nun, was jappst du so, Packan?" fragte der Esel. "Ach," sagte der Hund, "weil ich alt bin und jeden Tag schwächer werde, auch auf der Jagd nicht mehr fort kann, hat mich mein Herr wollen totschlagen, da hab ich Reißaus genommen; aber womit soll ich nun mein Brot verdienen?" - "Weißt du was?" sprach der Esel, "ich gehe nach Bremen und werde dort Stadtmusikant, geh mit und laß dich auch bei der Musik annehmen. Ich spiele die Laute und du schlägst die Pauken." Der Hund war\'s zufrieden, und sie gingen weiter. Es dauerte nicht lange, so saß da eine Katze an dem Weg und macht ein Gesicht wie drei Tage Regenwetter. "Nun, was ist dir in die Quere gekommen, alter Bartputzer?" sprach der Esel. "Wer kann da lustig sein, wenn\'s einem an den Kragen geht," antwortete die Katze, "weil ich nun zu Jahren komme, meine Zähne stumpf werden, und ich lieber hinter dem Ofen sitze und spinne, als nach Mäusen herumjagen, hat mich meine Frau ersäufen wollen; ich habe mich zwar noch fortgemacht, aber nun ist guter Rat teuer: wo soll ich hin?" - "Geh mit uns nach Bremen, du verstehst dich doch auf die Nachtmusik, da kannst du ein Stadtmusikant werden." Die Katze hielt das für gut und ging mit. Darauf kamen die drei Landesflüchtigen an einem Hof vorbei, da saß auf dem Tor der Haushahn und schrie aus Leibeskräften. "Du schreist einem durch Mark und Bein," sprach der Esel, "was hast du vor?" - "Da hab\' ich gut Wetter prophezeit," sprach der Hahn, "weil unserer lieben Frauen Tag ist, wo sie dem Christkindlein die Hemdchen gewaschen hat und sie trocknen will; aber weil morgen zum Sonntag Gäste kommen, so hat die Hausfrau doch kein Erbarmen und hat der Köchin gesagt, sie wollte mich morgen in der Suppe essen, und da soll ich mir heut abend den Kopf abschneiden lassen. Nun schrei ich aus vollem Hals, solang ich kann." - "Ei was, du Rotkopf," sagte der Esel, "zieh lieber mit uns fort, wir gehen nach Bremen, etwas Besseres als den Tod findest du überall; du hast eine gute Stimme, und wenn wir zusammen musizieren, so muß es eine Art haben." Der Hahn ließ sich den Vorschlag gefallen, und sie gingen alle vier zusammen fort.'}]},{type:"paragraph",content:[{type:"text",text:'Sie konnten aber die Stadt Bremen in einem Tag nicht erreichen und kamen abends in einen Wald, wo sie übernachten wollten. Der Esel und der Hund legten sich unter einen großen Baum, die Katze und der Hahn machten sich in die Äste, der Hahn aber flog bis an die Spitze, wo es am sichersten für ihn war. Ehe er einschlief, sah er sich noch einmal nach allen vier Winden um, da deuchte ihn, er sähe in der Ferne ein Fünkchen brennen, und rief seinen Gesellen zu, es müßte nicht gar weit ein Haus sein, denn es scheine ein Licht. Sprach der Esel: "So müssen wir uns aufmachen und noch hingehen, denn hier ist die Herberge schlecht." Der Hund meinte: "Ein paar Knochen und etwas Fleisch dran täten ihm auch gut." Also machten sie sich auf den Weg nach der Gegend, wo das Licht war, und sahen es bald heller schimmern, und es ward immer größer, bis sie vor ein helles, erleuchtetes Räuberhaus kamen. Der Esel, als der größte, näherte sich dem Fenster und schaute hinein. "Was siehst du, Grauschimmel?" fragte der Hahn. "Was ich sehe?" antwortete der Esel, "einen gedeckten Tisch mit schönem Essen und Trinken, und Räuber sitzen daran und lassen\'s sich wohl sein." - "Das wäre was für uns," sprach der Hahn. "Ja, ja, ach, wären wir da!" sagte der Esel. Da ratschlagten die Tiere, wie sie es anfangen müßten, um die Räuber hinauszujagen und fanden endlich ein Mittel. Der Esel mußte sich mit den Vorderfüßen auf das Fenster stellen, der Hund auf des Esels Rücken springen, die Katze auf den Hund klettern, und endlich flog der Hahn hinauf, und setzte sich der Katze auf den Kopf. Wie das geschehen war, fingen sie auf ein Zeichen insgesamt an, ihre Musik zu machen: der Esel schrie, der Hund bellte, die Katze miaute und der Hahn krähte. Dann stürzten sie durch das Fenster in die Stube hinein, daß die Scheiben klirrten. Die Räuber fuhren bei dem entsetzlichen Geschrei in die Höhe, meinten nicht anders, als ein Gespenst käme herein, und flohen in größter Furcht in den Wald hinaus. Nun setzten sich die vier Gesellen an den Tisch, nahmen mit dem vorlieb, was übriggeblieben war, und aßen nach Herzenslust.'}]},{type:"paragraph"}]},Pu=Object(u["n"])({name:"Home",components:{SrcLangSelector:Vt,trgLangSelector:Vt,ElementLabel:jn,BaseButton:Qt,BaseDialog:Dn,BaseCard:rn,TranslateIcon:m["g"],Tiptap:mu,BookOpenIcon:Ve["a"],TheDictionaryOptions:Mu,XIcon:m["h"]},setup:function(){var e=ve(),t=De(),n=t.state,r=t.methods,a=Object(je["c"])(),i=Object(u["F"])(n.srcLang),o=Object(u["F"])(n.trgLang);if(0===R.availableLanguagePairs.filter((function(e){return e.from===i.value&&e.to===o.value})).length){var c=R.availableLanguagePairs[0];if(void 0===c)throw new Error("No available language pair was specified in options.ts");i.value=c.from,o.value=c.to}var s=Object(u["d"])((function(){return z(i.value,o.value)})),d=Object(u["F"])(R.availableLanguagePairs.map((function(e){return e.from})).filter(q)),h=Object(u["F"])(R.availableLanguagePairs.map((function(e){return e.to})).filter(q)),f=Object(u["F"])(d.value.findIndex((function(e){return e===i.value}))),g=Object(u["F"])(h.value.findIndex((function(e){return e===o.value})));Object(u["Q"])((function(){Object(C["log"])("Updating available target languages"),h.value=R.availableLanguagePairs.filter((function(e){return e.from===i.value})).map((function(e){return e.to})).filter(q)})),Object(u["Q"])((function(){try{i.value=d.value[f.value],r.updateState({srcLang:i.value})}catch(t){e.notify(t.message,{messageType:l.error})}})),Object(u["Q"])((function(){try{o.value=h.value[g.value],r.updateState({trgLang:o.value})}catch(t){e.notify(t.message,{messageType:l.error})}}));var b=Object(u["F"])(Nu);Object.assign(b.value,n.originalEditorContent),Object(u["Q"])((function(){r.updateState({originalEditorContent:b.value})}));var p=Object(u["F"])(!1),m=n.translationSessionId;function D(){return v.apply(this,arguments)}function v(){return v=Object(E["a"])(regeneratorRuntime.mark((function t(){var u,c,d,h,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,u=n.translationSessionId,m=u,p.value=!0,t.next=6,ft(b.value);case 6:if(c=t.sent,d=c.textSegments,h=c.structure,r.updateState({originalStructure:h,originalTextSegments:d}),i.value&&o.value){t.next=12;break}throw new Error("Source or target language is undefined.");case 12:return t.next=14,Tt(d,i.value,o.value,n.translationSessionId,n.user,n.dictionaries[s.value].userDictJSON,n.dictionaries[s.value].selectedDicts);case 14:if(f=t.sent,p.value&&m===u){t.next=17;break}return t.abrupt("return");case 17:r.updateState({textSegmentsFromApi:f}),p.value=!1,a.push({name:"SuggestionsView"}),t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](0),p.value=!1,e.notify("Translation failed: ".concat(t.t0.message),{messageType:l.error});case 26:case"end":return t.stop()}}),t,null,[[0,22]])}))),v.apply(this,arguments)}function y(){p.value=!1}var O=Object(u["F"])(!1);function w(){O.value=!0}function j(){O.value=!1}var A=Object(u["d"])((function(){return ue(s.value)||n.dictionaries[s.value].availableDicts.length>0})),x=R.enableCharacterLimit?R.characterLimit:void 0,F=Object(u["F"])(!1);return setTimeout((function(){F.value=!0}),700),{languagePairKey:s,srcLangs:d,trgLangs:h,selectedSrcLangIndex:f,selectedTrgLangIndex:g,startTranslation:D,editorContent:b,abortTranslation:y,showTranslationDialog:p,authenticationIsEnabled:U,dictionaryOptionsAreVisible:O,showDictionaryOptions:w,hideDictionaryOptions:j,characterLimit:x,dictOptionsAvailable:A,enableSpellcheck:R.enableSpellcheck,demoNotificationIsVisible:F}}});n("ff02");const Hu=y()(Pu,[["render",He]]);var Vu=Hu,Uu=function(e){return Object(u["D"])("data-v-1f979a5d"),e=e(),Object(u["B"])(),e},zu={class:"h-full w-full fixed bg-gradient-to-bl from-gray-100 to-gray-200 flex flex-grow-0 flex-col space-y-4 p-4"},qu={class:"flex justify-between transition-all rounded-md flex-shrink pointer-events-none",style:{"z-index":"100000"}},Wu={class:"flex justify-start space-x-5 pointer-events-auto"},Ku={class:"flex justify-start space-x-5 pointer-events-auto mr-96"},Gu={class:"flex space-x-1"},Ju={class:"w-full h-full flex-grow-0 flex space-x-2 min-h-0"},Qu={class:"flex-1 overflow-hidden -m-2 p-2"},$u={class:"flex-1 overflow-hidden -m-2 p-2"},Yu={class:"flex-grow-0 flex flex-col space-y-4 -mb-4",style:{"margin-top":"-72px"}},Xu={key:0,class:"h-full w-full flex justify-center items-center"},Zu=Uu((function(){return Object(u["i"])("div",{class:"w-96 -mx-2 flex flex-col items-center"},[Object(u["i"])("h3",{class:"font-bold text-2xl text-gray-400"},"Looks good!"),Object(u["i"])("p",{class:"text-gray-400"},"There are no suggestions available.")],-1)})),er=[Zu],tr={key:1,class:"overflow-y-auto h-full space-y-4 -mx-2 px-2 pb-96 w-96",style:{"padding-top":"72px"}};function nr(e,t,n,r,a,i){var o=Object(u["I"])("arrow-left-icon"),c=Object(u["I"])("base-button"),s=Object(u["I"])("back-icon"),l=Object(u["I"])("forward-icon"),d=Object(u["I"])("clipboard-copy-icon"),h=Object(u["I"])("tiptap"),f=Object(u["I"])("base-card"),g=Object(u["I"])("suggestion-card");return Object(u["A"])(),Object(u["h"])("div",zu,[Object(u["i"])("div",qu,[Object(u["i"])("div",Wu,[Object(u["l"])(c,{class:"flex-grow-0 flex-shrink-0",title:"Translate another text",type:"secondary",onClick:e.goToStageOne},{icon:Object(u["R"])((function(){return[Object(u["l"])(o,{class:"w-5 h-5 text-white"})]})),_:1},8,["onClick"])]),Object(u["i"])("div",Ku,[Object(u["i"])("div",Gu,[Object(u["l"])(c,{title:"",type:"secondary",onClick:e.undo,disabled:!e.undoIsPossible,description:"Undo changes"},{icon:Object(u["R"])((function(){return[Object(u["l"])(s)]})),_:1},8,["onClick","disabled"]),Object(u["l"])(c,{title:"",type:"secondary",onClick:e.redo,disabled:!e.redoIsPossible,description:"Redo changes"},{icon:Object(u["R"])((function(){return[Object(u["l"])(l)]})),_:1},8,["onClick","disabled"])]),Object(u["l"])(c,{title:"Copy translated text",onClick:e.copyTranslatedText,class:"flex-none"},{icon:Object(u["R"])((function(){return[Object(u["l"])(d,{class:"w-5 h-5"})]})),_:1},8,["onClick"])])]),Object(u["i"])("div",Ju,[Object(u["i"])("div",Qu,[Object(u["l"])(f,{class:"h-full text-gray-700"},{default:Object(u["R"])((function(){return[Object(u["l"])(h,{modelValue:e.editorContentUntranslated,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.editorContentUntranslated=t}),editable:!1,enableHighlight:!0,onMarkClick:e.handleMarkClick,selectedTextSegmentId:e.selectedTextSegmentId,class:"h-full"},null,8,["modelValue","onMarkClick","selectedTextSegmentId"])]})),_:1})]),Object(u["i"])("div",$u,[Object(u["l"])(f,{class:"h-full"},{default:Object(u["R"])((function(){return[Object(u["l"])(h,{modelValue:e.editorContentTranslated,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.editorContentTranslated=t}),enableSpellcheck:e.enableSpellcheck,enableHistory:!1,enableHighlight:!0,onUserEdit:e.handleUserEdit,onNewEditor:e.registerNewTranslatedTextEditor,onCopy:t[2]||(t[2]=function(t){return e.handleTranslatedTextCopy()}),onMarkClick:e.handleMarkClick,selectedTextSegmentId:e.selectedTextSegmentId,class:"h-full"},null,8,["modelValue","enableSpellcheck","onUserEdit","onNewEditor","onMarkClick","selectedTextSegmentId"])]})),_:1})]),Object(u["i"])("div",Yu,[e.textSegmentsWithActiveSuggestion.length?(Object(u["A"])(),Object(u["h"])("div",tr,[(Object(u["A"])(!0),Object(u["h"])(u["a"],null,Object(u["G"])(e.textSegmentsWithActiveSuggestion,(function(t,n){return Object(u["A"])(),Object(u["f"])(g,{key:t._id,textSegment:t,selectedTextSegmentId:e.selectedTextSegmentId,isFirstSuggestion:t._id===e.idOfFirstTextSegmentWithActiveSuggestion,isLastSuggestion:t._id===e.idOfLastTextSegmentWithActiveSuggestion,style:Object(u["u"])("z-index: ".concat(1e4-n)),onNewFocus:e.setNewTextSegmentSelection,onApply:function(n){return e.applySuggestionButtonClicked(t)},onDiscard:function(n){return e.discardSuggestionButtonClicked(t)},onPrevious:function(n){return e.selectPreviousTextSegmentWithActiveSuggestion(t)},onNext:function(n){return e.selectNextTextSegmentWithActiveSuggestion(t)}},null,8,["textSegment","selectedTextSegmentId","isFirstSuggestion","isLastSuggestion","style","onNewFocus","onApply","onDiscard","onPrevious","onNext"])})),128))])):(Object(u["A"])(),Object(u["h"])("div",Xu,er))])])])}var ur=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(ge["a"])(this,e),this.maxLength=t,this.deepCopy=n,this.clear()}return Object(be["a"])(e,[{key:"clear",value:function(){this.pos=0,this.start=0,this.end=0,this.states=[],this.lastReturnedState=null}},{key:"canGoBack",value:function(){return this.pos!==this.start&&0!==this.states.length}},{key:"goBack",value:function(){return!!this.canGoBack()&&(this.pos=V(this.pos-1,this.maxLength),!0)}},{key:"canGoForward",value:function(){return this.pos!==this.end&&0!==this.states.length}},{key:"goForward",value:function(){return!!this.canGoForward()&&(this.pos=V(this.pos+1,this.maxLength),!0)}},{key:"addToHistory",value:function(e){return(!this.getState()||JSON.stringify(this.getState())!==JSON.stringify(e))&&(0!==this.states.length&&(this.end=V(this.pos+1,this.maxLength),this.pos=this.end,this.start===this.end&&(this.start=V(this.end+1,this.maxLength))),this.states[this.pos]=this.deepCopy?H(e):e,!0)}},{key:"getState",value:function(){if(0===this.states.length)return null;var e=this.states[this.pos];return this.deepCopy?H(e):e}}]),e}(),rr=ur,ar=Object(u["i"])("div",{class:"w-0 relative",style:{height:"72px","margin-top":"-72px"}},null,-1),ir={key:0,class:"absolute inset-0 opacity-10 ring-8 ring-blue-400 animate-pulse rounded-lg"},or={key:1,class:"z-30"},cr={key:2},sr=Object(u["i"])("h3",{class:"text-gray-400 text-sm mb-1"},"Machine Translation",-1),lr={class:"text-gray-800"},dr={class:"w-full flex justify-center mt-7 mb-1"},hr=Object(u["i"])("h3",{class:"text-gray-400 text-sm mb-1"},"Suggestion",-1),fr={class:"mb-6"},gr={class:"w-full flex space-x-2 justify-between"},br={class:"flex space-x-2"},pr={key:0,class:"flex space-x-2"};function mr(e,t,n,r,a,i){var o=Object(u["I"])("arrow-down-icon"),c=Object(u["I"])("check-icon"),s=Object(u["I"])("base-button"),l=Object(u["I"])("x-icon"),d=Object(u["I"])("arrow-up-icon"),h=Object(u["I"])("base-card");return Object(u["A"])(),Object(u["h"])("div",{class:Object(u["t"])([{selected:e.isSelected},"relative suggestion-card"])},[ar,Object(u["l"])(h,{onClick:t[4]||(t[4]=function(t){return e.$emit("newFocus",e.textSegment._id)}),class:Object(u["t"])(["min-h-24 flex-shrink-0 p-4 duration-300 ring-2 ring-transparent ring-inset h-full relative transform",{"ring-blue-300 bg-blue-50":e.isSelected,"cursor-pointer":!e.isSelected,"hover:shadow-lg hover:-translate-y-0.5 hover:duration-75":!e.isSelected}])},{default:Object(u["R"])((function(){return[e.isFirstSuggestion&&e.showNudge?(Object(u["A"])(),Object(u["h"])("div",ir)):Object(u["g"])("",!0),e.isSelected?(Object(u["A"])(),Object(u["h"])("div",cr,[sr,Object(u["i"])("p",lr,[(Object(u["A"])(!0),Object(u["h"])(u["a"],null,Object(u["G"])(e.textSegment.mtTextStructure,(function(e,t){return Object(u["A"])(),Object(u["h"])("span",{key:t,class:Object(u["t"])({"bg-pink-400 bg-opacity-20 border-b-2 border-mtc_pink-300":e.highlight})},Object(u["L"])(e.value),3)})),128))]),Object(u["i"])("div",dr,[Object(u["l"])(o,{class:"h-5 w-5 text-gray-400"})]),hr,Object(u["i"])("p",fr,[(Object(u["A"])(!0),Object(u["h"])(u["a"],null,Object(u["G"])(e.textSegment.apeTextStructure,(function(e,t){return Object(u["A"])(),Object(u["h"])("span",{key:t,class:Object(u["t"])({"bg-mtc_medium_aquamarine-400 bg-opacity-30 border-b-2 border-mtc_medium_aquamarine-700":e.highlight})},Object(u["L"])(e.value),3)})),128))]),Object(u["i"])("div",gr,[Object(u["i"])("div",br,[Object(u["l"])(s,{title:"Apply",type:"primary-green",onClick:t[0]||(t[0]=function(t){return e.$emit("apply")})},{icon:Object(u["R"])((function(){return[Object(u["l"])(c,{class:"w-5 h-5"})]})),_:1}),Object(u["l"])(s,{title:"Discard",type:"secondary",onClick:t[1]||(t[1]=function(t){return e.$emit("discard")})},{icon:Object(u["R"])((function(){return[Object(u["l"])(l,{class:"w-5 h-5"})]})),_:1})]),(Object(u["A"])(),Object(u["h"])("div",pr,[Object(u["l"])(s,{disabled:e.isFirstSuggestion,type:"tertiary",onClick:t[2]||(t[2]=function(t){return e.$emit("previous")})},{icon:Object(u["R"])((function(){return[Object(u["l"])(d,{class:"w-5 h-5 -mx-2"})]})),_:1},8,["disabled"]),Object(u["l"])(s,{disabled:e.isLastSuggestion,type:"tertiary",onClick:t[3]||(t[3]=function(t){return e.$emit("next")})},{icon:Object(u["R"])((function(){return[Object(u["l"])(o,{class:"w-5 h-5 -mx-2"})]})),_:1},8,["disabled"])]))])])):(Object(u["A"])(),Object(u["h"])("p",or,[(Object(u["A"])(!0),Object(u["h"])(u["a"],null,Object(u["G"])(e.textSegment.mtTextStructure,(function(e,t){return Object(u["A"])(),Object(u["h"])("span",{key:t,class:Object(u["t"])({"border-b-2 border-blue-400":e.highlight})},Object(u["L"])(e.value),3)})),128))]))]})),_:1},8,["class"])],2)}var Dr=Object(u["n"])({components:{BaseCard:rn,ArrowUpIcon:m["c"],ArrowDownIcon:m["a"],BaseButton:Qt,CheckIcon:m["d"],XIcon:m["h"]},props:{textSegment:{type:Object,required:!0},selectedTextSegmentId:{type:String,default:function(){return null},required:!1},isFirstSuggestion:{type:Boolean,required:!0},isLastSuggestion:{type:Boolean,required:!0}},emits:{apply:function(){return!0},discard:function(){return!0},previous:function(){return!0},next:function(){return!0},newFocus:function(e){return!0}},setup:function(e){var t=De(),n=Object(u["F"])(!1);setTimeout((function(){Object(u["Q"])((function(){n.value=t.state.usingTheApplicationForTheFirstTime}))}),5e3);var r=Object(u["d"])((function(){return e.selectedTextSegmentId===e.textSegment._id}));return Object(u["Q"])((function(){r.value&&(null===t||void 0===t||t.methods.updateState({usingTheApplicationForTheFirstTime:!1}))})),{isSelected:r,showNudge:n}}});const vr=y()(Dr,[["render",mr]]);var yr=vr,Or={xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-back-up",width:"20",height:"20",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},wr=Object(u["i"])("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),jr=Object(u["i"])("path",{d:"M9 13l-4 -4l4 -4m-4 4h11a4 4 0 0 1 0 8h-1"},null,-1),Ar=[wr,jr];function xr(e,t){return Object(u["A"])(),Object(u["h"])("svg",Or,Ar)}const Er={},Fr=y()(Er,[["render",xr]]);var Cr=Fr,kr={xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-forward-up",width:"20",height:"20",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Sr=Object(u["i"])("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),Tr=Object(u["i"])("path",{d:"M15 13l4 -4l-4 -4m4 4h-11a4 4 0 0 0 0 8h1"},null,-1),Br=[Sr,Tr];function Ir(e,t){return Object(u["A"])(),Object(u["h"])("svg",kr,Br)}const Lr={},_r=y()(Lr,[["render",Ir]]);var Rr,Mr=_r,Nr=(n("a630"),n("3ca3"),n("1c8b"));function Pr(e){var t=document.getElementsByClassName(e);Array.from(t).forEach(function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.classList.contains("suggestion-card"),e.next=3,Object(Nr["a"])(t,{behavior:"smooth",scrollMode:n?"always":"if-needed",block:n?"start":"center"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}(function(e){e["idle"]="idle",e["active"]="active"})(Rr||(Rr={}));var Hr,Vr=function e(t,n){var u=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[60,180,300];Object(ge["a"])(this,e),this.onIdle=t,this.onActive=n,this.idleTimeoutsSeconds=r,this.reset=function(){u.currentIntervalSeconds=0,u.intervalId&&clearInterval(u.intervalId),u.status===Rr.idle&&(u.status=Rr.active,u.onActive());var e=setInterval((function(){u.currentIntervalSeconds+=1,u.idleTimeoutsSeconds.forEach((function(e){u.currentIntervalSeconds===e&&(u.status=Rr.idle,u.onIdle(e))})),u.currentIntervalSeconds>=Math.max.apply(Math,Object(ze["a"])(u.idleTimeoutsSeconds))&&clearInterval(e)}),1e3);return u.intervalId=e,e},this.registerEventListeners=function(){document.addEventListener("click",u.reset),document.addEventListener("keydown",u.reset),document.addEventListener("wheel",u.reset),document.addEventListener("mousemove",u.reset)},this.removeEventListeners=function(){document.removeEventListener("click",u.reset),document.removeEventListener("keydown",u.reset),document.removeEventListener("wheel",u.reset),document.removeEventListener("mousemove",u.reset)},this.status=Rr.active,this.intervalId=this.reset(),this.currentIntervalSeconds=0},Ur=Vr;(function(e){e["IdleEvent"]="IdleEvent",e["Idle1min"]="Idle1min",e["Idle3min"]="Idle3min",e["Idle5min"]="Idle5min",e["ActiveEvent"]="ActiveEvent",e["AcceptEvent"]="AcceptEvent",e["RejectEvent"]="RejectEvent",e["CopyEvent"]="CopyEvent",e["UndoEvent"]="UndoEvent",e["RedoEvent"]="RedoEvent"})(Hr||(Hr={}));var zr=function(){function e(){Object(ge["a"])(this,e)}return Object(be["a"])(e,null,[{key:"log",value:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(n){var u,r,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(he.state.user){t.next=3;break}return console.debug("user is not defined"),t.abrupt("return");case 3:if(!R.useFakeApi){t.next=6;break}return console.debug("Skipped logging event of type: ".concat(n," for user: ").concat(null===(r=he.state.user)||void 0===r?void 0:r.email," because fake API is being used")),t.abrupt("return");case 6:return t.next=8,Ft(he.state.user);case 8:return a=t.sent,i={event:n,userEmail:null===(u=he.state.user)||void 0===u?void 0:u.email,timestamp:(new Date).toUTCString()},t.next=12,fetch("".concat(R.baseUrlApi).concat(e.eventRoute),{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(i)});case 12:if(o=t.sent,o.ok){t.next=15;break}throw Error(o.statusText);case 15:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()}]),e}();zr.eventRoute="/events",zr.onIdle=function(e){switch(e){case 300:return zr.log(Hr.Idle5min);case 180:return zr.log(Hr.Idle3min);case 60:return zr.log(Hr.Idle1min);default:return null}},zr.onActive=function(){zr.log(Hr.ActiveEvent)},zr.idleTimer=new Ur(zr.onIdle,zr.onActive);var qr=Object(u["n"])({components:{BaseButton:Qt,BaseCard:rn,ArrowLeftIcon:m["b"],ClipboardCopyIcon:m["e"],Tiptap:mu,SuggestionCard:yr,BackIcon:Cr,ForwardIcon:Mr},mounted:function(){zr.idleTimer.registerEventListeners()},unmounted:function(){zr.idleTimer.removeEventListeners()},setup:function(){var e=Object(je["c"])(),t=ve(),n=De(),r=n.state,a=n.methods,i=Object(u["M"])(r),o=i.augmentedStructure,c=i.augmentedTextSegments,s=i.originalStructure,d=a.applySuggestion,h=a.discardSuggestion,f=a.applyEdits,g=a.replaceState,b=a.updateState,p=Object(u["d"])((function(){return $(c.value||[])})),m=Object(u["d"])((function(){var e;return G(null===(e=p.value[0])||void 0===e?void 0:e._id)})),D=Object(u["d"])((function(){var e;return G(null===(e=p.value.slice(-1)[0])||void 0===e?void 0:e._id)})),v=Object(u["F"])(K);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;v.value!==e&&(null!==e?setTimeout((function(){v.value=e}),t):y(K,t))}function O(e){try{e&&y(e)}catch(n){t.notify("Action failed: ".concat(n.message),{messageType:l.error})}}var w=null;function j(e){w=e}var A=Object(u["F"])({type:"doc"}),x=Object(u["F"])({type:"doc"});Object(u["Q"])((function(){try{if(!s.value||!c.value||!o.value)throw new Error("Original structure or augmentedTextSegments or augmentedStructure is not available.");A.value=pt(s.value,c.value,!0),x.value=pt(o.value,c.value)}catch(e){t.notify(e.message,{messageType:l.error})}}));var F=-1;function k(){return S.apply(this,arguments)}function S(){return S=Object(E["a"])(regeneratorRuntime.mark((function e(){var n,u,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:750,u=Date.now(),F=u,e.prev=3,e.next=6,ft(x.value);case 6:r=e.sent,a=r.textSegments,i=r.structure,setTimeout(Object(E["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,u===F){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,f(a);case 5:b({augmentedStructure:i}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.notify("Edits could not be applied: ".concat(e.t0.message),{messageType:l.error});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),t.notify("Editor content could not be parsed: ".concat(e.t0.message),{messageType:l.error});case 15:case"end":return e.stop()}}),e,null,[[3,12]])}))),S.apply(this,arguments)}function T(){return B.apply(this,arguments)}function B(){return B=Object(E["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(w){e.next=2;break}throw new Error("Editor for translated text does not exist.");case 2:if(null!==c.value){e.next=4;break}throw new Error("Cannot copy text because augmentedTextSegments is null");case 4:if(t=R.saveAllTextSegments?c.value:Dt(w,c.value),n=z(r.srcLang,r.trgLang),!R.useFakeApi){e.next=10;break}console.debug("Skipped sending post edit data to API because fake api is used"),e.next=12;break;case 10:return e.next=12,It(t,r.srcLang,r.trgLang,r.translationSessionId,r.user,r.dictionaries[n].selectedDicts,r.dictionaries[n].userDictJSON);case 12:zr.log(Hr.CopyEvent);case 13:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function I(){return L.apply(this,arguments)}function L(){return L=Object(E["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,null!==w){e.next=3;break}throw new Error("Cannot copy translated text because the editor is missing.");case 3:return e.next=5,vt(w);case 5:return w.commands.selectAll(),e.prev=6,e.next=9,T();case 9:e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](6),Object(C["warn"])("Sending edits to server failed"),Object(C["error"])(e.t0);case 15:w.commands.setTextSelection(0),t.notify("Successfully copied the text!",{automaticallyDismissAfter:3e3,messageType:l.success}),e.next=22;break;case 19:e.prev=19,e.t1=e["catch"](0),t.notify("Failed to copy text: ".concat(e.t1.message),{messageType:l.error});case 22:case"end":return e.stop()}}),e,null,[[0,19],[6,11]])}))),L.apply(this,arguments)}var _=100,M=new rr(_);M.addToHistory(r);var N=Object(u["F"])(!1),P=Object(u["F"])(!1);function H(){var e=r.user;try{if(M.goBack()){var n=M.getState();n&&(n.user=e,g(n),y(null),zr.log(Hr.UndoEvent))}}catch(u){t.notify("Failed to undo: ".concat(u.message),{messageType:l.error})}}function V(){var e=r.user;try{if(M.goForward()){var n=M.getState();n&&(n.user=e,g(n),y(null),zr.log(Hr.RedoEvent))}}catch(u){t.notify("Failed to redo: ".concat(u.message),{messageType:l.error})}}function U(e){(e.metaKey||e.ctrlKey)&&"KeyZ"===e.code&&(e.shiftKey?V():H())}function q(e){if(c.value){var t=Q(e,c.value,"backward");y(t,20)}}function W(e){if(c.value){var t=Q(e,c.value,"forward");y(t,20)}}function J(e){return Y.apply(this,arguments)}function Y(){return Y=Object(E["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(n);case 3:W(n),zr.log(Hr.AcceptEvent),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.notify("Action failed: ".concat(e.t0.message),{messageType:l.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Y.apply(this,arguments)}function X(e){return Z.apply(this,arguments)}function Z(){return Z=Object(E["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(n);case 3:W(n),zr.log(Hr.RejectEvent),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.notify("Action failed: ".concat(e.t0.message),{messageType:l.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Z.apply(this,arguments)}function ee(){e.push({name:"StartView"})}function te(e){(e.metaKey||e.ctrlKey)&&"KeyS"===e.code&&(e.preventDefault(),t.notify("Your progress is saved automatically!",{messageType:l.success,automaticallyDismissAfter:3e3}))}function ne(e){try{U(e),te(e)}catch(n){t.notify("Keyboard shortcut failed: ".concat(n.message),{messageType:l.error})}}return Object(u["P"])(r,(function(e){e.isInTransaction||(M.addToHistory(e),N.value=M.canGoBack(),P.value=M.canGoForward())}),{deep:!0}),document.addEventListener("keydown",ne),Object(u["w"])((function(){document.removeEventListener("keydown",ne)})),Object(u["P"])(v,(function(){try{setTimeout((function(){Pr("selected")}),50)}catch(e){Object(C["warn"])("Automatic scrolling failed",e)}})),{handleMarkClick:O,undoIsPossible:N,redoIsPossible:P,goToStageOne:ee,undo:H,redo:V,applySuggestionButtonClicked:J,discardSuggestionButtonClicked:X,editorContentUntranslated:A,editorContentTranslated:x,setNewTextSegmentSelection:y,textSegmentsWithActiveSuggestion:p,selectedTextSegmentId:v,selectPreviousTextSegmentWithActiveSuggestion:q,selectNextTextSegmentWithActiveSuggestion:W,idOfFirstTextSegmentWithActiveSuggestion:m,idOfLastTextSegmentWithActiveSuggestion:D,handleUserEdit:k,copyTranslatedText:I,registerNewTranslatedTextEditor:j,handleTranslatedTextCopy:T,enableSpellcheck:R.enableSpellcheck}}});n("86f8");const Wr=y()(qr,[["render",nr],["__scopeId","data-v-1f979a5d"]]);var Kr=Wr,Gr={class:"flex justify-center items-center h-full"},Jr=Object(u["i"])("h1",{class:"font-heading text-lg pb-2"},"Sign In",-1);function Qr(e,t,n,r,a,i){var o=Object(u["I"])("base-button"),c=Object(u["I"])("base-card");return Object(u["A"])(),Object(u["h"])("div",Gr,[Object(u["l"])(c,{class:"p-8 w-full max-w-md"},{default:Object(u["R"])((function(){return[Object(u["i"])("form",{class:"flex flex-col space-y-4",onSubmit:t[2]||(t[2]=Object(u["T"])((function(){return e.buttonClicked&&e.buttonClicked.apply(e,arguments)}),["prevent"]))},[Jr,Object(u["S"])(Object(u["i"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.email=t}),ref:"emailInput",class:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight outline-none focus:ring ring-blue-200",id:"email",type:"email",placeholder:"E-mail",required:""},null,512),[[u["O"],e.email]]),Object(u["S"])(Object(u["i"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.password=t}),ref:"passwordInput",class:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight outline-none focus:ring ring-blue-200",id:"password",type:"password",placeholder:"Password",required:""},null,512),[[u["O"],e.password]]),Object(u["l"])(o,{title:"Log in",type:"primary-green",class:"pt-4",disabled:!e.buttonIsEnabled},null,8,["disabled"])],32)]})),_:1})])}var $r=n("ea7b"),Yr=Object(u["n"])({components:{BaseCard:rn,BaseButton:Qt},props:{targetPath:{type:String,required:!1}},setup:function(e){var t=Object(u["F"])(""),n=Object(u["F"])(null),r=Object(u["F"])(""),a=Object(u["F"])(null),i=Object(u["F"])(!1),o=Object($r["a"])(),c=Object(je["c"])(),s=ve();function d(){Object($r["b"])(o,t.value,r.value).then((function(){var t=e.targetPath||"/";c.push({path:t})})).catch((function(){s.notify("Something is not right. Please check your input and try again.",{messageType:l.alert})}))}return Object(u["P"])([t,r],(function(){n.value.checkValidity()&&a.value.checkValidity()?i.value=!0:i.value=!1})),{email:t,password:r,emailInput:n,passwordInput:a,buttonIsEnabled:i,buttonClicked:d}}});const Xr=y()(Yr,[["render",Qr]]);var Zr=Xr,ea={class:"flex justify-center items-center h-full"},ta={key:0,class:"flex flex-col"},na=Object(u["i"])("h1",{class:"mx-auto text-xl font-heading mb-8"}," Successfully logged out. ",-1),ua={key:1},ra=Object(u["i"])("h1",{class:"mx-auto text-xl font-heading"},"Logging you out...",-1),aa=[ra];function ia(e,t,n,r,a,i){var o=Object(u["I"])("base-button"),c=Object(u["I"])("base-card");return Object(u["A"])(),Object(u["h"])("div",ea,[Object(u["l"])(c,{class:"p-8 w-full max-w-md"},{default:Object(u["R"])((function(){return[e.loggedOut?(Object(u["A"])(),Object(u["h"])("div",ta,[na,Object(u["l"])(o,{title:"Log in again",type:"primary-green",onClick:e.buttonClicked},null,8,["onClick"])])):(Object(u["A"])(),Object(u["h"])("div",ua,aa))]})),_:1})])}var oa=Object(u["n"])({components:{BaseCard:rn,BaseButton:Qt},setup:function(){var e=Object($r["a"])(),t=Object(u["F"])(!1),n=Object(je["c"])(),r=ve();function a(){n.push({name:"AuthenticationView"})}return Object($r["c"])(e).then((function(){t.value=!0})).catch((function(){r.notify("Something went wrong. Please reload the page to try again.",{messageType:l.error})})),{loggedOut:t,buttonClicked:a}}});const ca=y()(oa,[["render",ia]]);var sa=ca,la={class:"flex justify-center items-center h-full"},da={class:"flex flex-col"},ha=Object(u["i"])("h1",{class:"mx-auto text-xl font-heading mb-8"},"Page cannot be found.",-1);function fa(e,t,n,r,a,i){var o=Object(u["I"])("base-button"),c=Object(u["I"])("base-card");return Object(u["A"])(),Object(u["h"])("div",la,[Object(u["l"])(c,{class:"p-8 w-full max-w-md"},{default:Object(u["R"])((function(){return[Object(u["i"])("div",da,[ha,Object(u["l"])(o,{title:"Go home",type:"primary-green",onClick:e.buttonClicked},null,8,["onClick"])])]})),_:1})])}var ga=Object(u["n"])({components:{BaseCard:rn,BaseButton:Qt},setup:function(){var e=Object(je["c"])();function t(){e.push({path:"/"})}return{buttonClicked:t}}});const ba=y()(ga,[["render",fa]]);var pa=ba;function ma(e){var t=e.store,n=t.state,r=[{path:"/",name:"StartView",component:Vu,meta:{requiresAuth:!0}},{path:"/suggestions",name:"SuggestionsView",component:Kr,meta:{requiresAuth:!0},beforeEnter:function(e,t,u){n.textSegmentsFromApi?u():u({name:"StartView"})}},{path:"/auth",name:"AuthenticationView",component:Zr,props:!0,meta:{requiresNoAuth:!0,authRelated:!0}},{path:"/logout",name:"LogoutView",component:sa,meta:{requiresAuth:!0,preventRedirectOnAuthStateChange:!0,authRelated:!0}},{path:"/:catchAll(.*)",name:"PageNotFoundView",component:pa}],a=Object(je["a"])({history:Object(je["b"])(),routes:r});return Object(u["Q"])((function(){var e=a.currentRoute.value.meta,t=a.currentRoute.value.fullPath;U()&&!e.preventRedirectOnAuthStateChange&&(!n.user&&e.requiresAuth?a.push({name:"AuthenticationView",params:{targetPath:t}}):n.user&&e.requiresNoAuth&&a.push({name:"StartView",params:{targetPath:t}}))})),a.beforeEach((function(e,t,u){var r=e.meta;if(U()||!r.authRelated)if(U()){if(r.requiresAuth&&!n.user){var a={};return"LogoutView"!==e.name&&(a.targetPath=e.fullPath),void u({name:"AuthenticationView",params:a})}r.requiresNoAuth&&n.user?u(t):u()}else u();else u(t)})),a}var Da=ma;n("5717");Object(r["a"])(R.firebaseConfig);var va=Object(a["b"])();Object(a["c"])(va,R.loginPersistence),va.onAuthStateChanged((function(e){he.methods.updateState({user:e})}));var ya=Object(u["e"])(we);ya.provide(fe,he),ya.provide(me,new pe),ya.use(Da({store:he})),ya.mount("#app")},de1f:function(e,t,n){},f24d:function(e,t,n){},f2e0:function(e,t,n){"use strict";n("f24d")},ff02:function(e,t,n){"use strict";n("ff7e")},ff7e:function(e,t,n){}});
//# sourceMappingURL=app.ffde1e40.js.map