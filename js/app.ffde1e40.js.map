{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/UI/BaseDialog.vue?b72b","webpack:///./src/components/editor/Tiptap.vue?6c3f","webpack:///./src/views/SuggestionsView.vue?06aa","webpack:///./src/components/UI/BaseNotification.vue?65d3","webpack:///./src/App.vue?5db9","webpack:///./src/App.vue?cd5a","webpack:///./src/components/TheNotifier.vue?dce9","webpack:///./src/modules/types.ts","webpack:///./src/components/UI/BaseNotification.vue?3002","webpack:///./src/components/UI/BaseNotification.vue","webpack:///./src/components/UI/BaseNotification.vue?a5c3","webpack:///./src/components/TheNotifier.vue","webpack:///./src/components/TheNotifier.vue?6f98","webpack:///./src/modules/environmentUtil.ts","webpack:///./src/modules/options.ts","webpack:///./src/modules/otherUtil.ts","webpack:///./src/modules/suggestionUtil.ts","webpack:///./src/modules/dictUtil.ts","webpack:///./src/store/index.ts","webpack:///./src/modules/Notifier.ts","webpack:///./src/modules/injectUtil.ts","webpack:///./src/App.vue","webpack:///./src/App.vue?97f5","webpack:///./src/views/StartView.vue?4446","webpack:///./src/modules/tiptap_extensions/TextSegmentMark.ts","webpack:///./src/modules/tiptap_extensions/SuggestionMark.ts","webpack:///./src/modules/editorUtil.ts","webpack:///./src/modules/serverUtil.ts","webpack:///./src/components/UI/BaseSelector.vue?6514","webpack:///./src/components/UI/BaseSelector.vue","webpack:///./src/components/UI/BaseSelector.vue?afde","webpack:///./src/components/UI/BaseButton.vue","webpack:///./src/components/UI/BaseButton.vue?02d7","webpack:///./src/components/UI/BaseDialog.vue","webpack:///./src/components/UI/BaseCard.vue","webpack:///./src/components/UI/BaseCard.vue?d863","webpack:///./src/components/UI/BaseLoadingAnimation.vue","webpack:///./src/components/UI/BaseLoadingAnimation.vue?9ac6","webpack:///./src/components/UI/BaseDialog.vue?40dd","webpack:///./src/components/start_view/ElementLabel.vue","webpack:///./src/components/start_view/ElementLabel.vue?0f84","webpack:///./src/components/editor/Tiptap.vue?16fa","webpack:///./src/components/editor/EditorMenu.vue","webpack:///./src/components/editor/EditorMenuButton.vue","webpack:///./src/components/editor/EditorMenuButton.vue?6b22","webpack:///./src/components/custom_icons/BlockquoteIcon.vue","webpack:///./src/components/custom_icons/BlockquoteIcon.vue?6ead","webpack:///./src/components/custom_icons/BulletedListIcon.vue","webpack:///./src/components/custom_icons/BulletedListIcon.vue?a179","webpack:///./src/components/custom_icons/OrderedListIcon.vue","webpack:///./src/components/custom_icons/OrderedListIcon.vue?6d56","webpack:///./src/components/editor/EditorMenu.vue?9635","webpack:///./src/modules/tiptap_extensions/Highlight.ts","webpack:///./src/components/editor/Tiptap.vue","webpack:///./src/components/editor/Tiptap.vue?9ea0","webpack:///./src/components/start_view/TheDictionaryOptions.vue?550e","webpack:///./src/components/start_view/TheDictionaryOptions.vue","webpack:///./src/components/start_view/TheDictionaryOptions.vue?5efa","webpack:///./src/demoHelpers/demoSrcText.ts","webpack:///./src/views/StartView.vue","webpack:///./src/views/StartView.vue?d51b","webpack:///./src/views/SuggestionsView.vue?a714","webpack:///./src/modules/HistoryManager.ts","webpack:///./src/components/suggestions_view/SuggestionCard.vue?259b","webpack:///./src/components/suggestions_view/SuggestionCard.vue","webpack:///./src/components/suggestions_view/SuggestionCard.vue?98ba","webpack:///./src/components/custom_icons/BackIcon.vue","webpack:///./src/components/custom_icons/BackIcon.vue?f034","webpack:///./src/components/custom_icons/ForwardIcon.vue","webpack:///./src/components/custom_icons/ForwardIcon.vue?28dd","webpack:///./src/modules/IdleTimer.ts","webpack:///./src/modules/scrollUtil.ts","webpack:///./src/modules/eventLogger.ts","webpack:///./src/views/SuggestionsView.vue","webpack:///./src/views/SuggestionsView.vue?dc8b","webpack:///./src/views/AuthenticationView.vue?74e5","webpack:///./src/views/AuthenticationView.vue","webpack:///./src/views/AuthenticationView.vue?656c","webpack:///./src/views/LogoutView.vue?48b1","webpack:///./src/views/LogoutView.vue","webpack:///./src/views/LogoutView.vue?6250","webpack:///./src/views/PageNotFoundView.vue?59c6","webpack:///./src/views/PageNotFoundView.vue","webpack:///./src/views/PageNotFoundView.vue?ad50","webpack:///./src/router/index.ts","webpack:///./src/main.ts","webpack:///./src/components/UI/BaseLoadingAnimation.vue?f3c5","webpack:///./src/views/StartView.vue?179d"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_ctx","_cache","$props","$setup","$data","$options","_component_the_notifier","_component_router_view","notifier","default","Component","route","class","_","TextSegmentEditType","LanguageCode","EnvironmentVariable","NotificationMessageType","_hoisted_1","style","_component_base_notification","show","showNotification","messageType","notificationType","message","notificationMessage","onDismiss","$event","dismissCurrentNotification","_hoisted_2","_hoisted_3","_component_check_icon","_component_exclamation_icon","_component_x_icon","to","onClick","$emit","success","alert","error","components","CheckIcon","ExclamationIcon","XIcon","emits","dismiss","props","type","Boolean","required","Number","String","setup","__exports__","BaseNotification","Error","onNewNotification","msg","options","onDismissNotification","getEnvVar","val","configs","undefined","getEnvVarOrFallback","fallback","toLowerCase","isInDevelopmentMode","setLevel","logLevel","devFirebaseConfig","apiKey","appId","messagingSenderId","projectId","authDomain","storageBucket","prodFirebaseConfig","useFakeApi","enableFakeApi","fakeApiDelay","maxSuggestionRatio","baseUrlApi","backendURL","enableCharacterLimit","characterLimit","saveAllTextSegments","sendAllTextSegments","availableLanguagePairs","from","German","English","allowUserDict","availableDicts","allowMultipleDictSelection","enableSpellcheck","environment","firebaseConfig","enableAuthInDevelopment","enableAuthInDev","enableAuthInProduction","enableAuthInProd","loginPersistence","splitStringIntoSentencesAndWhitespace","str","matchedString","replace","split","filter","stringContainsOnlyWhitespace","getLastElementInArray","arr","getDeepCopyOfObject","obj","JSON","parse","stringify","posMod","remain","Math","floor","authenticationIsEnabled","getLanguagePairKey","sourceLangCode","targetLangCode","onlyUniqueValues","index","self","indexOf","defaultTextSegmentId","getCleanId","id","textSegment","suggestionIsActive","getIdOfAdjacentTextSegmentWithActiveSuggestion","currentTextSegment","textSegments","direction","tsWithSuggestion","ts","_id","currentIndex","findIndex","newId","getTextSegmentsWithActiveSuggestion","highlightWhitespaceBetweenHighlights","initialVal","a","b","reducer","acc","highlight","newElement","forEach","el","reduce","getHighlightsWithStrategy","strategy","diff","currentChain","filterAndCombineChanges","otherStrategy","getHighlights","fromHighlights","toHighlights","validateUserDictLine","line","lineNumber","numEqual","elements","matches","match","illegalCharacters","replaceAll","validateUserDict","lines","parseUserDictRaw","input","lineElements","userDictShouldBeDisplayed","languagePairKey","x","getLocalStorage","localStorageState","localStorage","getItem","setLocalStorage","state","replaceStateWithSavedValues","localStorageStore","dataVersion","assign","initialState","originalEditorContent","originalStructure","originalTextSegments","textSegmentsFromApi","initialAugmentedTextSegments","augmentedTextSegments","augmentedStructure","translationSessionId","srcLang","trgLang","dictionaries","user","isInTransaction","usingTheApplicationForTheFirstTime","updateDictionaryOptions","langPair","langPairKey","dictObject","selectedDicts","includes","userDictJSON","userDictRaw","deep","applySuggestion","apeText","before","hpeText","after","edits","accepted","discardSuggestion","mtText","rejected","applyEdits","newTextSegments","nts","srcText","existingTextSegment","find","edited","mtTextStructure","apeTextStructure","created","newTextSegment","deleted","replaceState","newState","updateState","partialState","keepTransaction","map","hasActiveSuggestion","structure","updateUserDictRaw","langDictionaries","updateSelectedDicts","methods","storeKey","notifyFunctions","dismissFunctions","currentNotificationId","notificationQueue","localNotificationId","Date","now","this","f","automaticallyDismissAfter","setTimeout","displayNotification","newNotification","notifierKey","useStore","store","useNotifier","TheNotifier","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","src","alt","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_component_base_button","_component_base_dialog","_component_the_dictionary_options","_component_element_label","_component_tiptap","_component_base_card","_component_src_lang_selector","_component_trg_lang_selector","_component_book_open_icon","_component_translate_icon","_component_router_link","visible","showTranslationDialog","title","description","buttons","abortTranslation","dictOptionsAvailable","dictionaryOptionsAreVisible","hideDictionaryOptions","demoNotificationIsVisible","text","modelValue","editorContent","enableTextSegment","enableSuggestion","editable","selectedSrcLangIndex","menuOptions","srcLangs","upperCase","selectedTrgLangIndex","trgLangs","showDictionaryOptions","disabled","icon","startTranslation","defaultId","idName","markName","htmlTag","TextSegmentMark","priority","addOptions","HTMLAttributes","addAttributes","parseHTML","element","getAttribute","renderHTML","attributes","hasSuggestion","tag","Mark","textSegmentIdName","SuggestionMark","clickEvent","getTextSegmentIdFromMarks","marks","textSegmentId","attrs","mergeTextSegmentsWithSameId","currentId","currentText","cleanedTextSegments","removeDuplicateTextNodes","content","lastId","newContent","node","requiresNewTextSegmentId","parseHistory","getTextSegmentIdFromMarksWithReplacement","idReplacements","parseEditorContentInternal","contentNode","oldIdReplacements","copiedContentNode","structureProps","localParseHistory","structures","splitText","tempTextSegments","tempContent","child","concat","childTextSegments","childStructures","childParseHistory","childIdReplacements","parseEditorContent","buildEditorContentWithMarksInternal","takeSource","copiedStructure","targetObjects","textSegmentMark","suggestionMark","textSegmentRegions","segments","textSegmentWithMarks","childTargetObjects","targetObj","emptyElement","buildEditorContentWithMarks","getIdsOfSelectedTextSegments","selection","doc","selectedTextSegmentIds","descendants","pos","startPos","endPos","nodeSize","isInSelection","getSelectedTextSegments","editor","ids","copyEditorContentAsText","item","Blob","getHTML","textContent","selectionIsEmpty","cursorIsAtDocumentLocation","location","minPos","max","targetPos","size","maxPos","getTextSegmentIdOfSelectedMarks","empty","$head","closeNode","nodeAfter","nodeBefore","suggestionLimiter","tr","results","numTextSegments","numPresentSuggestions","targetSuggestionNum","numToRemove","removalProbability","random","requestFakeTranslationData","mt","pe","Promise","resolve","getUserToken","userToken","getIdToken","requestRealTranslationData","userDict","body","fetch","method","headers","Accept","Authorization","response","ok","statusText","json","responseBody","requestTranslationData","sendPostEditData","apeAccepted","edit","option","selectedIndex","updateSelectedIndex","toUpperCase","_index","context","emit","min","emitClick","click","emitBackgroundClick","BaseCard","BaseLoadingAnimation","backgroundClick","_component_editor_content","_component_editor_menu","showMenu","spellcheck","unfocused","onMouseenter","handleMenuFocus","onMouseleave","handleMenuBlur","chain","focus","toggleHeading","run","active","isActive","setParagraph","toggleBulletList","toggleOrderedList","toggleBlockquote","setHorizontalRule","storage","characterCount","characters","xmlns","width","height","viewBox","stroke-width","stroke","fill","stroke-linecap","stroke-linejoin","script","TextMenuButton","BlockquoteIcon","BulletedListIcon","OrderedListIcon","getSelectedTextSegmentId","addProseMirrorPlugins","decorations","selectedTextSegmentId","isSelected","mark","inline","EditorContent","EditorMenu","enableHistory","enableHighlight","userEdit","markClick","_textSegmentId","newEditor","_editor","textSegmentSelectionChange","_editorContent","starterKitOptions","bold","code","italic","strike","codeBlock","gapcursor","history","extensions","configure","Highlight","limit","editorIsFocused","onUpdate","e","getJSON","onSelectionUpdate","onFocus","onBlur","applyDecoration","view","transaction","dispatch","destroy","newVal","isSameContent","$anchor","setContent","setTextSelection","menuIsFocused","showUserDict","newUserDictRaw","inputIsValid","rows","availableDictionaries","checked","newSelectedDictionaries","onChange","updateDictionarySelection","target","lastEditTime","thisEditTime","notify","selected","changeVal","v","console","warn","level","SrcLangSelector","BaseSelector","trgLangSelector","ElementLabel","BaseButton","BaseDialog","TranslateIcon","Tiptap","BookOpenIcon","TheDictionaryOptions","router","selectedSrcLangCode","selectedTrgLangCode","firstAvailableLanguagePair","pair","demoSrcText","latestTranslationId","thisTranslationId","_component_arrow_left_icon","_component_back_icon","_component_forward_icon","_component_clipboard_copy_icon","_component_suggestion_card","goToStageOne","undo","undoIsPossible","redo","redoIsPossible","copyTranslatedText","editorContentUntranslated","onMarkClick","handleMarkClick","editorContentTranslated","onUserEdit","handleUserEdit","onNewEditor","registerNewTranslatedTextEditor","onCopy","handleTranslatedTextCopy","textSegmentsWithActiveSuggestion","isFirstSuggestion","idOfFirstTextSegmentWithActiveSuggestion","isLastSuggestion","idOfLastTextSegmentWithActiveSuggestion","onNewFocus","setNewTextSegmentSelection","onApply","applySuggestionButtonClicked","onDiscard","discardSuggestionButtonClicked","onPrevious","selectPreviousTextSegmentWithActiveSuggestion","onNext","selectNextTextSegmentWithActiveSuggestion","maxLength","deepCopy","clear","start","end","states","lastReturnedState","canGoBack","canGoForward","getState","_component_arrow_down_icon","_component_arrow_up_icon","showNudge","ArrowUpIcon","ArrowDownIcon","discard","previous","next","newFocus","IdleStatus","scrollToElementsWithClass","cssClass","document","getElementsByClassName","Array","isSuggestionCard","classList","contains","behavior","scrollMode","block","EventLogType","onIdle","onActive","idleTimeoutsSeconds","reset","currentIntervalSeconds","intervalId","clearInterval","status","idle","setInterval","threshold","registerEventListeners","addEventListener","removeEventListeners","removeEventListener","event","debug","email","postBody","userEmail","timestamp","toUTCString","EventLogger","eventRoute","idleThresholdSeconds","log","Idle5min","Idle3min","Idle1min","ActiveEvent","idleTimer","ArrowLeftIcon","ClipboardCopyIcon","SuggestionCard","BackIcon","ForwardIcon","mounted","unmounted","delay","translatedTextEditor","lastUserEditTime","thisUserEditTime","textSegmentsToSend","CopyEvent","commands","selectAll","maxHistoryLength","historyManager","addToHistory","goBack","UndoEvent","goForward","RedoEvent","processHistoryEventsInKeyboardEvent","metaKey","ctrlKey","shiftKey","AcceptEvent","RejectEvent","processSaveEventInKeyboardEvent","preventDefault","handleKeyPress","onSubmit","buttonClicked","ref","placeholder","password","buttonIsEnabled","targetPath","emailInput","passwordInput","auth","then","path","catch","checkValidity","loggedOut","getRouter","routes","component","StartView","meta","requiresAuth","SuggestionsView","beforeEnter","_to","_from","AuthenticationView","requiresNoAuth","authRelated","LogoutView","preventRedirectOnAuthStateChange","PageNotFoundView","currentRoute","currentPath","fullPath","params","beforeEach","toMeta","onAuthStateChanged","app","App","provide","use","mount"],"mappings":"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","file":"js/app.ffde1e40.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BaseDialog.vue?vue&type=style&index=0&id=8ff9d4f0&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Tiptap.vue?vue&type=style&index=0&id=605cc1ed&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SuggestionsView.vue?vue&type=style&index=0&id=1f979a5d&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BaseNotification.vue?vue&type=style&index=0&id=606139db&scoped=true&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=0a334bfd&scoped=true&lang=css\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, Transition as _Transition, withCtx as _withCtx, Fragment as _Fragment } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_the_notifier = _resolveComponent(\"the-notifier\")!\n  const _component_router_view = _resolveComponent(\"router-view\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_the_notifier, { notifier: _ctx.notifier }, null, 8, [\"notifier\"]),\n    _createVNode(_component_router_view, null, {\n      default: _withCtx(({ Component, route }) => [\n        _createVNode(_Transition, { name: \"fade-route\" }, {\n          default: _withCtx(() => [\n            (_openBlock(), _createElementBlock(\"div\", {\n              key: route.name,\n              class: \"bg-gradient-to-bl from-gray-100 to-gray-200 fixed inset-0 overflow-auto\"\n            }, [\n              (_openBlock(), _createBlock(_resolveDynamicComponent(Component)))\n            ]))\n          ]),\n          _: 2\n        }, 1024)\n      ]),\n      _: 1\n    })\n  ], 64))\n}","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"inset-0 fixed pointer-events-none\",\n  style: {\"z-index\":\"200000\"}\n}, null, -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_base_notification = _resolveComponent(\"base-notification\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_base_notification, {\n      show: _ctx.showNotification,\n      messageType: _ctx.notificationType,\n      message: _ctx.notificationMessage,\n      onDismiss: _cache[0] || (_cache[0] = ($event: any) => (_ctx.notifier?.dismissCurrentNotification()))\n    }, null, 8, [\"show\", \"messageType\", \"message\"]),\n    _hoisted_1\n  ], 64))\n}","// eslint-disable-next-line import/no-extraneous-dependencies\nimport { User } from '@firebase/auth';\nimport { JSONContent } from '@tiptap/core';\n\ninterface DictionaryEntries {\n  [key: string]: string;\n}\n\ninterface Mark {\n  type: string;\n  attrs?: Record<string, any>;\n  [key: string]: any;\n}\n\nenum TextSegmentEditType {\n  edited = 'edited',\n  accepted = 'accepted',\n  rejected = 'rejected',\n  created = 'created',\n  deleted = 'deleted',\n}\n\ninterface TextSegmentEdit {\n  type: TextSegmentEditType;\n  before: string;\n  after: string;\n}\n\ninterface Translatable {\n  _id: string;\n  srcText: string;\n}\n\nenum LanguageCode {\n  German = 'de',\n  English = 'en',\n}\n\ntype TranslationRequestBody = {\n  _id: string;\n  srcLang: LanguageCode;\n  trgLang: LanguageCode;\n  textSegments: {\n    _id: string;\n    srcText: string;\n    mtText?: string;\n    apeText?: string;\n  }[];\n  userDict: DictionaryEntries;\n  selectedDicts: string[];\n};\n\ntype TranslationResponseBody = {\n  _id: string;\n  srcLang: LanguageCode;\n  trgLang: LanguageCode;\n  textSegments: {\n    _id: string;\n    srcText: string;\n    mtText?: string;\n    apeText?: string;\n  }[];\n};\n\ntype SendPostEditRequestBody = {\n  _id: string;\n  srcLang: LanguageCode;\n  trgLang: LanguageCode;\n  textSegments: {\n    _id: string;\n    srcText: string;\n    mtText: string;\n    apeText: string;\n    hpeText: string;\n    apeAccepted: Boolean;\n  }[];\n  userDict: DictionaryEntries;\n  selectedDicts: string[];\n};\n\ninterface TranslationResult {\n  _id: string;\n  srcText: string;\n  mtText: string;\n  apeText: string;\n}\n\ninterface TextSegmentStructureElement {\n  value: string;\n  highlight: boolean;\n}\n\ninterface TextSegment extends Translatable {\n  _id: string;\n  // Untranslated text\n  srcText: string;\n\n  // Machine Translation text\n  mtText: string;\n  mtTextStructure: TextSegmentStructureElement[];\n\n  // Suggestion from the APE model\n  apeText: string;\n  apeTextStructure: TextSegmentStructureElement[];\n\n  // The displayed text of the text segment (after all edits).\n  hpeText: string;\n\n  // Whether a suggestion should be displayed.\n  // This is false once the user edits the text segment.\n  suggestionIsActive: boolean;\n\n  // The steps that were taken to get to the final text.\n  edits: TextSegmentEdit[];\n}\n\ninterface MarkIds {\n  textSegmentId: string;\n}\n\ninterface JSONContentStructure extends JSONContent {\n  textSegmentId?: string;\n  content?: JSONContentStructure[];\n}\n\ninterface StoreState {\n  dataVersion: number;\n  originalEditorContent: JSONContent | null;\n  originalStructure: JSONContentStructure | null;\n  originalTextSegments: Translatable[] | null;\n  textSegmentsFromApi: TranslationResult[] | null;\n  augmentedTextSegments: TextSegment[] | null;\n  initialAugmentedTextSegments: TextSegment[] | null;\n  augmentedStructure: JSONContentStructure | null;\n  isInTransaction: boolean;\n  user: User | null;\n  translationSessionId: string;\n  srcLang: LanguageCode;\n  trgLang: LanguageCode;\n  dictionaries: {\n    // Keys are of the form de-en, where de is the source and en the target language\n    [key: string]: {\n      userDictRaw: string;\n      userDictJSON: DictionaryEntries;\n      selectedDicts: string[];\n      availableDicts: string[];\n    };\n  };\n  usingTheApplicationForTheFirstTime: Boolean;\n}\n\ntype PartialStoreState = Partial<StoreState>;\n\nenum EnvironmentVariable {\n  backendURL = 'VUE_APP_BACKEND_URL',\n  enableAuthInDev = 'VUE_APP_ENABLE_AUTHENTICATION_IN_DEVELOPMENT',\n  enableAuthInProd = 'VUE_APP_ENABLE_AUTHENTICATION_IN_PRODUCTION',\n  enableFakeApi = 'VUE_APP_ENABLE_FAKE_API',\n  logLevel = 'VUE_APP_LOG_LEVEL',\n  characterLimit = 'VUE_APP_CHARACTER_LIMIT',\n  enableCharacterLimit = 'VUE_APP_ENABLE_CHARACTER_LIMIT',\n  enableSpellcheck = 'VUE_APP_ENABLE_SPELLCHECK',\n  fakeApiDelay = 'VUE_APP_FAKE_API_DELAY',\n  allowMultipleDictSelection = 'VUE_APP_ALLOW_MULTIPLE_DICTIONARY_SELECTION',\n  maxSuggestionRatio = 'VUE_APP_MAX_SUGGESTION_RATIO',\n  sendAllTextSegments = 'VUE_APP_SEND_ALL_TEXT_SEGMENTS',\n  environment = 'VUE_APP_ENVIRONMENT',\n}\n\nenum NotificationMessageType {\n  success,\n  alert,\n  error,\n}\n\ntype LanguagePairKey<A extends string, B extends string> = `${A}-${B}`;\n\nexport {\n  NotificationMessageType,\n  EnvironmentVariable,\n  TranslationRequestBody,\n  TranslationResponseBody,\n  SendPostEditRequestBody,\n  MarkIds,\n  TextSegment,\n  Translatable,\n  TranslationResult,\n  Mark,\n  JSONContentStructure,\n  StoreState,\n  PartialStoreState,\n  TextSegmentStructureElement,\n  LanguageCode,\n  TextSegmentEditType,\n  DictionaryEntries,\n  LanguagePairKey,\n};\n","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, Teleport as _Teleport, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-606139db\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"h-44 w-screen absolute left-0 top-0 from-black from bg-gradient-to-b opacity-10\",\n  style: {\"z-index\":\"200000\"}\n}\nconst _hoisted_2 = { class: \"bg-white max-w-xl rounded-3xl flex items-center p-2 space-x-4 pr-5 shadow-2xl justify-center\" }\nconst _hoisted_3 = { class: \"text-gray-700 font-semibold\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_check_icon = _resolveComponent(\"check-icon\")!\n  const _component_exclamation_icon = _resolveComponent(\"exclamation-icon\")!\n  const _component_x_icon = _resolveComponent(\"x-icon\")!\n\n  return (_openBlock(), _createBlock(_Teleport, { to: \"body\" }, [\n    _createVNode(_Transition, { name: \"fade\" }, {\n      default: _withCtx(() => [\n        (_ctx.show)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }),\n    _createVNode(_Transition, { name: \"drop-down\" }, {\n      default: _withCtx(() => [\n        (_ctx.show)\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('dismiss'))),\n              class: \"fixed inset-0 left-0 top-0 flex justify-center items-start pt-8\",\n              style: {\"z-index\":\"200001\"}\n            }, [\n              _createElementVNode(\"div\", _hoisted_2, [\n                _createElementVNode(\"div\", {\n                  class: _normalizeClass([\"rounded-full p-2\", {\n              // Success\n              'bg-mtc_medium_aquamarine-400 text-mtc_medium_aquamarine-900':\n                _ctx.messageType === _ctx.NotificationMessageType.success,\n\n              // Alert\n              'bg-yellow-400 text-yellow-900':\n                _ctx.messageType === _ctx.NotificationMessageType.alert,\n\n              // Error\n              'bg-red-400 text-red-900':\n                _ctx.messageType === _ctx.NotificationMessageType.error,\n            }])\n                }, [\n                  (_ctx.messageType === _ctx.NotificationMessageType.success)\n                    ? (_openBlock(), _createBlock(_component_check_icon, {\n                        key: 0,\n                        class: \"w-5 h-5\"\n                      }))\n                    : (_ctx.messageType === _ctx.NotificationMessageType.alert)\n                      ? (_openBlock(), _createBlock(_component_exclamation_icon, {\n                          key: 1,\n                          class: \"w-5 h-5\"\n                        }))\n                      : (_openBlock(), _createBlock(_component_x_icon, {\n                          key: 2,\n                          class: \"w-5 h-5\"\n                        }))\n                ], 2),\n                _createElementVNode(\"h2\", _hoisted_3, _toDisplayString(_ctx.message), 1)\n              ])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ]))\n}","\nimport { CheckIcon, ExclamationIcon, XIcon } from '@heroicons/vue/solid';\nimport { defineComponent, PropType } from 'vue';\nimport { NotificationMessageType } from '@/modules/types';\n\nexport default defineComponent({\n  components: {\n    CheckIcon,\n    ExclamationIcon,\n    XIcon,\n  },\n  emits: {\n    dismiss: () => true,\n  },\n  props: {\n    show: {\n      type: Boolean,\n      required: true,\n    },\n    messageType: {\n      type: Number as PropType<NotificationMessageType>,\n      default: () => NotificationMessageType.alert,\n    },\n    message: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    return {\n      NotificationMessageType,\n    };\n  },\n});\n","import { render } from \"./BaseNotification.vue?vue&type=template&id=606139db&scoped=true&ts=true\"\nimport script from \"./BaseNotification.vue?vue&type=script&lang=ts\"\nexport * from \"./BaseNotification.vue?vue&type=script&lang=ts\"\n\nimport \"./BaseNotification.vue?vue&type=style&index=0&id=606139db&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-606139db\"]])\n\nexport default __exports__","\nimport { defineComponent, PropType, ref } from 'vue';\nimport { NotificationMessageType } from '@/modules/types';\nimport BaseNotification from './UI/BaseNotification.vue';\nimport { Notifier } from '@/modules/Notifier';\n\nexport default defineComponent({\n  components: {\n    BaseNotification,\n  },\n  props: {\n    notifier: {\n      type: Object as PropType<Notifier>,\n      required: true,\n    },\n  },\n  setup(props) {\n    const showNotification = ref(false);\n    const notificationType = ref(NotificationMessageType.alert);\n    const notificationMessage = ref('');\n\n    if (!props.notifier) {\n      throw new Error('Notifier is undefined.');\n    }\n\n    props.notifier.onNewNotification((msg, options) => {\n      notificationMessage.value = msg;\n      showNotification.value = true;\n      notificationType.value = options.messageType;\n    });\n\n    props.notifier.onDismissNotification(() => {\n      showNotification.value = false;\n    });\n\n    return {\n      showNotification,\n      notificationType,\n      notificationMessage,\n    };\n  },\n});\n","import { render } from \"./TheNotifier.vue?vue&type=template&id=75f9df43&ts=true\"\nimport script from \"./TheNotifier.vue?vue&type=script&lang=ts\"\nexport * from \"./TheNotifier.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { warn } from 'loglevel';\nimport { EnvironmentVariable } from './types';\n\n/**\n * Get the environment variable with the specified key.\n * As a first preference, variables from the frontend.env will be returned.\n * As a second preference, variables from the node process env will be returned.\n * @param key The key under which the environment variable is stored.\n * @returns The value as a string or null if it cannot be found.\n */\nfunction getEnvVar(key: EnvironmentVariable) {\n  const val = (window as any)?.configs?.[key] || process.env[key];\n  if (val !== undefined && val !== null) {\n    return String(val);\n  }\n  warn(`The environment variable ${key} could not be found!`);\n  return null;\n}\n\n/**\n * Tries to return the environment variable with the specified key according to the\n * preference specified in the function getEnvVar.\n * This function will convert the value to the specified type.\n * If this variable cannot be found, the fallback will be returned.\n * @param key\n * @param fallback\n * @returns The found environment variable or the specified fallback.\n * @throws If the type is unsupported.\n */\nfunction getEnvVarOrFallback<A extends boolean | string | number>(\n  key: EnvironmentVariable,\n  fallback: A,\n) {\n  const val = getEnvVar(key);\n\n  if (val === null || val === undefined) {\n    return fallback;\n  }\n\n  if (typeof fallback === 'boolean') {\n    return (String(val).toLowerCase() === 'true') as A;\n  }\n\n  if (typeof fallback === 'number') {\n    return Number(val) as A;\n  }\n\n  if (typeof fallback === 'string') {\n    return val as A;\n  }\n\n  throw new Error('Unsupported fallback type.');\n}\n\nfunction isInDevelopmentMode() {\n  return process.env.NODE_ENV === 'development';\n}\n\nexport { getEnvVar, getEnvVarOrFallback, isInDevelopmentMode };\n","import { browserLocalPersistence } from '@firebase/auth';\nimport log, { LogLevelDesc } from 'loglevel';\nimport { getEnvVarOrFallback } from './environmentUtil';\nimport { EnvironmentVariable, LanguageCode } from './types';\n\nlog.setLevel(\n  getEnvVarOrFallback<LogLevelDesc>(EnvironmentVariable.logLevel, 'TRACE'),\n);\n\nconst devFirebaseConfig = {\n  apiKey: 'AIzaSyBn033H95JRoJL1LNHGUXVUMM6cVHZtB8s',\n  appId: '1:461990907139:web:b34f70551ca6daeaa8ed36',\n  messagingSenderId: '461990907139',\n  projectId: 'mtc-dev',\n  authDomain: 'mtc-dev.firebaseapp.com',\n  storageBucket: 'mtc-dev.appspot.com',\n};\n\nconst prodFirebaseConfig = {\n  apiKey: 'AIzaSyDs-5vDpSPiIH7M7XMl3f-shmzBhgg0wvE',\n  appId: '1:176136282412:web:3c277bd4572057deef4c89',\n  messagingSenderId: '176136282412',\n  projectId: 'mtc-production',\n  authDomain: 'mtc-production.firebaseapp.com',\n  storageBucket: 'mtc-production.appspot.com',\n};\n\nconst options = {\n  /**\n   * GENERAL OPTIONS -------------------------------------------------------------------------------\n   */\n\n  // Generate a fake machine translation and fake suggestions instead of contacting the backend.\n  useFakeApi: getEnvVarOrFallback<boolean>(\n    EnvironmentVariable.enableFakeApi,\n    true,\n  ),\n\n  // This can be used to simulate that the translation takes some time. Value in milliseconds.\n  fakeApiDelay: getEnvVarOrFallback<number>(\n    EnvironmentVariable.fakeApiDelay,\n    500,\n  ),\n\n  // In percent divided by 100\n  maxSuggestionRatio: getEnvVarOrFallback<number>(\n    EnvironmentVariable.maxSuggestionRatio,\n    0.2,\n  ),\n\n  baseUrlApi: getEnvVarOrFallback<string>(EnvironmentVariable.backendURL, ''),\n\n  // Controls the character limit for the translation.\n  enableCharacterLimit: getEnvVarOrFallback<boolean>(\n    EnvironmentVariable.enableCharacterLimit,\n    true,\n  ),\n\n  characterLimit: getEnvVarOrFallback<number>(\n    EnvironmentVariable.characterLimit,\n    10000,\n  ),\n\n  saveAllTextSegments: getEnvVarOrFallback<boolean>(\n    EnvironmentVariable.sendAllTextSegments,\n    true,\n  ),\n\n  /**\n   * LANGUAGE OPTIONS ------------------------------------------------------------------------------\n   */\n\n  availableLanguagePairs: [\n    {\n      from: LanguageCode.German,\n      to: LanguageCode.English,\n      allowUserDict: true,\n      availableDicts: ['trans_dict.de_en'],\n    },\n  ] as {\n    from: LanguageCode;\n    to: LanguageCode;\n    allowUserDict: Boolean;\n    availableDicts: string[];\n  }[],\n\n  // If this is selected, the user can select multiple dictionaries at the same time.\n  // Otherwise, they can only select one dictionary per translation.\n  allowMultipleDictSelection: getEnvVarOrFallback<boolean>(\n    EnvironmentVariable.allowMultipleDictSelection,\n    true,\n  ),\n\n  enableSpellcheck: getEnvVarOrFallback<boolean>(\n    EnvironmentVariable.enableSpellcheck,\n    true,\n  ),\n\n  /**\n   * AUTHENTICATION OPTIONS ------------------------------------------------------------------------\n   */\n\n  environment: getEnvVarOrFallback<string>(\n    EnvironmentVariable.environment,\n    'dev',\n  ).toLowerCase(),\n\n  firebaseConfig: getEnvVarOrFallback<string>(EnvironmentVariable.environment, 'dev').toLowerCase() === 'prod' ? prodFirebaseConfig : devFirebaseConfig,\n\n  enableAuthInDevelopment: getEnvVarOrFallback<boolean>(\n    EnvironmentVariable.enableAuthInDev,\n    false,\n  ),\n\n  enableAuthInProduction: getEnvVarOrFallback<boolean>(\n    EnvironmentVariable.enableAuthInProd,\n    false,\n  ),\n\n  // Controls when the user will be logged out automatically\n  loginPersistence: browserLocalPersistence,\n};\n\nexport default options;\n","import { isInDevelopmentMode } from './environmentUtil';\nimport options from './options';\nimport { LanguagePairKey } from './types';\n\n/**\n * @param str A string\n * @returns An array of sentences in str and the whitespace that divides them.\n */\nfunction splitStringIntoSentencesAndWhitespace(str: string) {\n  const matchedString = str.replace(\n    /([.|:|!|?]+)([\"|“|”|‘|’|'|«|»|「|」|(|)|{|}|[|\\]]*)([.|:|!|?]*)([\\s|\\n|\\r|\\n]+)/gm,\n    '$1$2$3|$4|',\n  );\n\n  return matchedString.split('|').filter((s) => s.length > 0);\n}\n\n/**\n * Removes all whitespace characters at the end of a string.\n * @returns The cleaned string.\n */\nfunction removeTrailingWhitespace(str: string) {\n  return str.replace(/(\\s|\\n|\\r|\\n)*$/gm, '');\n}\n\n// Returns true if string is empty.\nfunction stringContainsOnlyWhitespace(str: string) {\n  return !str.replace(/(\\s|\\n|\\r|\\n)*/g, '').length;\n}\n\nfunction getLastElementInArray<A>(arr: A[]) {\n  return arr.length === 0 ? undefined : arr[arr.length - 1];\n}\n\nfunction getDeepCopyOfObject<A>(obj: A): A {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nfunction posMod(n: number, m: number) {\n  const remain = n % m;\n  return Math.floor(remain >= 0 ? remain : remain + m);\n}\n\nfunction authenticationIsEnabled() {\n  return (\n    (isInDevelopmentMode() && options.enableAuthInDevelopment)\n    || (!isInDevelopmentMode() && options.enableAuthInProduction)\n  );\n}\n\nfunction getLanguagePairKey<T1 extends string, T2 extends string>(\n  sourceLangCode: T1,\n  targetLangCode: T2,\n) {\n  return `${sourceLangCode}-${targetLangCode}` as LanguagePairKey<T1, T2>;\n}\n\n/**\n * This function is intended to be used like this: arr.filter(onlyUniqueValues)\n * If used like this, it will filter out all duplicated values in arr.\n */\nfunction onlyUniqueValues<A, B extends Array<A>>(\n  value: A,\n  index: number,\n  self: B,\n) {\n  return self.indexOf(value) === index;\n}\n\nexport {\n  posMod,\n  splitStringIntoSentencesAndWhitespace,\n  removeTrailingWhitespace,\n  getDeepCopyOfObject,\n  stringContainsOnlyWhitespace,\n  getLastElementInArray,\n  authenticationIsEnabled,\n  getLanguagePairKey,\n  onlyUniqueValues,\n};\n","import { Change, diffWords } from 'diff';\nimport { stringContainsOnlyWhitespace } from './otherUtil';\nimport { TextSegment, TextSegmentStructureElement } from './types';\n\n/**\n * This id is used if no text segment is currently selected.\n */\nconst defaultTextSegmentId = '-1';\n\n/**\n * Returns an id that is defined in any case.\n */\nfunction getCleanId(id: any) {\n  if (id === null || id === undefined) {\n    return defaultTextSegmentId;\n  }\n  return String(id);\n}\n\n/**\n * @returns Whether the text segment has an active suggestion or not.\n */\nfunction hasActiveSuggestion(textSegment: TextSegment) {\n  return textSegment.suggestionIsActive;\n}\n\n/**\n * Gets the id of another text segment with an active suggestion.\n * @param currentTextSegment The currently selected textSegment.\n * @param textSegments All available textSegments.\n * @param direction Specifies in which direction it should the next text segment.\n * @returns The id of the next text segment with an active id in the specified direction. Returns -1\n * if something goes wrong.\n */\nfunction getIdOfAdjacentTextSegmentWithActiveSuggestion(\n  currentTextSegment: TextSegment,\n  textSegments: TextSegment[],\n  direction: 'forward' | 'backward',\n) {\n  const tsWithSuggestion = textSegments.filter(\n    (ts) => ts.suggestionIsActive || ts._id === currentTextSegment._id,\n  );\n  const currentIndex = tsWithSuggestion.findIndex(\n    (ts) => ts._id === currentTextSegment._id,\n  );\n  const newId = tsWithSuggestion[currentIndex + (direction === 'forward' ? 1 : -1)]?._id;\n  return getCleanId(newId);\n}\n\n/**\n * @param textSegments Array of textSegments\n * @returns Array of textSegments with active suggestion.\n */\nfunction getTextSegmentsWithActiveSuggestion(textSegments: TextSegment[]) {\n  return textSegments.filter((s) => hasActiveSuggestion(s));\n}\n\n/**\n * Highlights whitespace when both adjacent words are highlighted.\n * @param arr An array with highlight information\n * @returns A cleaned version of arr: non-highlighted whitespace between two consecutive highlighted\n * text regions will be highlighted as well.\n */\nfunction highlightWhitespaceBetweenHighlights(\n  arr: TextSegmentStructureElement[],\n) {\n  const initialVal = {\n    a: null as TextSegmentStructureElement | null,\n    b: null as TextSegmentStructureElement | null,\n    result: [] as TextSegmentStructureElement[],\n  };\n\n  function reducer(\n    acc: typeof initialVal,\n    c: TextSegmentStructureElement,\n    i: number,\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    arr: TextSegmentStructureElement[],\n  ) {\n    // Buffer not full\n    if (acc.a === null || acc.b === null) {\n      acc.a = acc.b;\n      acc.b = c;\n    } else if (\n      acc.a.highlight\n      && !acc.b.highlight\n      && c.highlight\n      && stringContainsOnlyWhitespace(acc.b.value)\n    ) {\n      // We can merge the three items in this case.\n      const newElement = {\n        value: acc.a.value + acc.b.value + c.value,\n        highlight: true,\n      };\n\n      acc.a = null;\n      acc.b = newElement;\n    } else {\n      // We cannot merge the three items\n      acc.result.push(acc.a);\n      acc.a = acc.b;\n      acc.b = c;\n    }\n\n    // Cleanup if it's the last element (add buffer elements to the result)\n    if (i === arr.length - 1) {\n      [acc.a, acc.b].forEach((el) => {\n        if (el !== null) {\n          acc.result.push(el);\n        }\n      });\n    }\n\n    return acc;\n  }\n\n  return arr.reduce(reducer, initialVal).result;\n}\n\n/**\n * @param from The original text\n * @param to The new text\n * @param strategy Either 'removed' or 'added'.\n * @param diff Array of changes (result of diffing algorithm)\n * @returns If strategy === 'removed', it will return the changes in the original text (which parts were removed).\n * If strategy === 'added', it will return the changes in the new text (which parts were added).\n */\nfunction getHighlightsWithStrategy(\n  strategy: 'removed' | 'added',\n  diff: Change[],\n) {\n  // We only want to know which parts of the string need to be highlighted.\n  // If the strategy is 'removed', we want to know which parts stay the same in the text and\n  // which parts are removed. We don't care about anything else in that case. We treat the case where\n  // the strategy is 'added' analogously\n\n  interface Accumulator {\n    currentChain: TextSegmentStructureElement | null;\n    result: TextSegmentStructureElement[];\n  }\n\n  const initialVal: Accumulator = {\n    currentChain: null,\n    result: [],\n  };\n\n  /**\n   * Filters out all changes that do not correspond to the current strategy.\n   * Combines changes that belong together according to the strategy.\n   * @param acc The accumulated result until now.\n   * @param c The current change (element of arr)\n   * @param i The current index in arr\n   * @param arr The array we're working on\n   * @returns A new accumulator that is created by combining acc and c\n   */\n  function filterAndCombineChanges(\n    acc: Accumulator,\n    c: Change,\n    i: number,\n    arr: Change[],\n  ) {\n    const otherStrategy = strategy === 'removed' ? 'added' : 'removed';\n\n    // Only work on relevant elements\n    // E.g., if strategy === 'removed' and c.added === true, we skip this element,\n    // because it is not relevant if we're looking for words that were deleted from the text.\n    if (!c[otherStrategy]) {\n      // End a chain\n      if (\n        acc.currentChain !== null\n        // c cannot be added to the current chain because its highlight value differs\n        && acc.currentChain.highlight !== Boolean(c[strategy])\n      ) {\n        acc.result.push(acc.currentChain);\n        acc.currentChain = null;\n      }\n\n      // Start a chain\n      if (acc.currentChain === null) {\n        acc.currentChain = {\n          // Start with the text value of the current change\n          value: c.value,\n          // The change's highlight value is that of the current change\n          highlight: Boolean(c[strategy]),\n        };\n      } else {\n        // Continue a chain\n        // Just concatenate the text value of the current chain with the text value of the the current change c\n        acc.currentChain.value += c.value;\n      }\n    }\n\n    // Tidy up if it's the last change\n    if (i === arr.length - 1 && acc.currentChain !== null) {\n      acc.result.push(acc.currentChain);\n    }\n\n    return acc;\n  }\n\n  // Reduces the array from left to right with the function 'reducer' and the initial value 'initialVal'.\n  const { result } = diff.reduce(filterAndCombineChanges, initialVal);\n  // Highlight whitespace between two consecutive highlighted regions\n  return highlightWhitespaceBetweenHighlights(result);\n}\n\n/**\n * Decides what parts of the 'from' and the 'to' string should be highlighted\n * See the tests for examples of the functionality.\n * @param from Original text\n * @param to Changed text\n * @returns An object describing what should be highlighted both in the 'from' and 'to' string\n */\nfunction getHighlights(from: string, to: string) {\n  // Gives us a list of elements that\n  // - are unchanged\n  // - were added\n  // - were removed\n  const diff = diffWords(from, to);\n\n  return {\n    fromHighlights: getHighlightsWithStrategy('removed', diff),\n    toHighlights: getHighlightsWithStrategy('added', diff),\n  };\n}\n\nexport {\n  getIdOfAdjacentTextSegmentWithActiveSuggestion,\n  getTextSegmentsWithActiveSuggestion,\n  getCleanId,\n  defaultTextSegmentId,\n  hasActiveSuggestion,\n  getHighlights,\n};\n","import options from './options';\nimport { getLanguagePairKey } from './otherUtil';\nimport { LanguageCode, LanguagePairKey } from './types';\n\nfunction validateUserDictLine(line: string, lineNumber: number) {\n  if (line.length === 0) {\n    throw new Error(`Line ${lineNumber} is empty.`);\n  }\n  const numEqual = line.split('').filter((c) => c === '=').length;\n  if (numEqual !== 1) {\n    throw new Error(\n      `Each line must contain exactly one equal sign. In line ${\n        lineNumber + 1\n      }, there are ${numEqual} equal signs.`,\n    );\n  }\n\n  const elements = line.split('=');\n  if (elements.length !== 2 || elements[0] === '' || elements[1] === '') {\n    throw new Error(`Line ${lineNumber + 1} is invalid`);\n  }\n\n  const matches = line.match(/([\\p{L}-]|[-=])*/gu);\n  let illegalCharacters = line;\n  // eslint-disable-next-line no-unused-expressions\n  matches?.forEach((match) => {\n    illegalCharacters = illegalCharacters.replaceAll(match, '');\n  });\n\n  if (illegalCharacters.length > 0) {\n    throw new Error(\n      `Line ${\n        lineNumber + 1\n      } contains invalid characters: ${illegalCharacters}`,\n    );\n  }\n}\n\nfunction validateUserDict(val: string) {\n  const lines = val.split('\\n');\n  lines.forEach((line, i) => {\n    if (line.length === 0) {\n      return;\n    }\n    validateUserDictLine(line, i);\n  });\n}\n\nfunction parseUserDictRaw(input: string) {\n  const result: { [key: string]: string } = {};\n  input.split('\\n').forEach((line) => {\n    try {\n      validateUserDictLine(line, 0);\n      const lineElements = line.split('=');\n      const key = lineElements[0];\n      const value = lineElements[1];\n      result[key] = value;\n    } catch {\n      // In case of an error, we do nothing. Only valid lines will be converted into JSON.\n    }\n  });\n  return result;\n}\n\nfunction userDictShouldBeDisplayed(\n  languagePairKey: LanguagePairKey<LanguageCode, LanguageCode>,\n) {\n  return !!options.availableLanguagePairs.filter(\n    (x) => getLanguagePairKey(x.from, x.to) === languagePairKey,\n  )[0]?.allowUserDict;\n}\n\nexport { userDictShouldBeDisplayed, validateUserDict, parseUserDictRaw };\n","import { v4 as uuid } from 'uuid';\nimport {\n  reactive, watch, InjectionKey,\n} from 'vue';\nimport { getDeepCopyOfObject, getLanguagePairKey } from '../modules/otherUtil';\nimport {\n  LanguageCode,\n  LanguagePairKey,\n  PartialStoreState,\n  StoreState,\n  TextSegment,\n  TextSegmentEditType,\n  Translatable,\n} from '@/modules/types';\nimport { getHighlights } from '@/modules/suggestionUtil';\nimport options from '@/modules/options';\nimport { parseUserDictRaw } from '@/modules/dictUtil';\n\nfunction getLocalStorage() {\n  const localStorageState = localStorage.getItem('state');\n  if (!localStorageState) return null;\n  return JSON.parse(localStorageState);\n}\n\nasync function setLocalStorage(state: StoreState) {\n  // We don't need to store anything to the browser for this demo.\n  return;\n  localStorage.setItem('state', JSON.stringify(state));\n}\n\nfunction replaceStateWithSavedValues(state: StoreState) {\n  const localStorageStore = getLocalStorage();\n\n  if (\n    localStorageStore\n    && localStorageStore.dataVersion !== null\n    && localStorageStore.dataVersion === state.dataVersion\n  ) {\n    Object.assign(state, localStorageStore);\n  }\n}\n\nconst initialState: StoreState = {\n  // The data in local storage will only be used if the data version matches.\n  dataVersion: 22,\n\n  originalEditorContent: { type: 'doc' },\n\n  // The initial structure of the editor content\n  originalStructure: null,\n\n  // Text segments before the translation\n  originalTextSegments: null,\n\n  // Text segments after the translation\n  textSegmentsFromApi: null,\n\n  // Translated text segments with some post processing without any edits\n  initialAugmentedTextSegments: null,\n\n  // Translated text segments with some post processing and with all edits\n  augmentedTextSegments: null,\n\n  // The structure of the editor content after possible changes\n  augmentedStructure: null,\n\n  // The id of the current session\n  translationSessionId: '',\n\n  // Languages used in the translation\n  srcLang: LanguageCode.German,\n  trgLang: LanguageCode.English,\n\n  // This object holds all information about dictionaries for each available language pair\n  dictionaries: {},\n\n  // Firebase user object\n  user: null,\n\n  // Meta information that prevents stores to the local storage of an intermediate state\n  isInTransaction: false,\n\n  // This is used to decide whether the user should be nudged to click on the first suggestion\n  usingTheApplicationForTheFirstTime: true,\n};\n\n/**\n * This will populate or update the dictionary object in the state.\n * Selected dictionaries that are no longer available will be unselected.\n * Empty fields will be populated.\n * Dictionary options of no longer supported language pairs will not be deleted.\n */\nfunction updateDictionaryOptions(state: StoreState) {\n  options.availableLanguagePairs.forEach((langPair) => {\n    const langPairKey = getLanguagePairKey(langPair.from, langPair.to);\n\n    const dictObject = state.dictionaries[langPairKey] || {};\n\n    dictObject.availableDicts = langPair.availableDicts || [];\n    dictObject.selectedDicts = dictObject.selectedDicts?.filter((d) => dictObject.availableDicts.includes(d)) || [];\n    dictObject.userDictJSON = dictObject.userDictJSON || {};\n    dictObject.userDictRaw = dictObject.userDictRaw || '';\n\n    state.dictionaries[langPairKey] = dictObject;\n  });\n}\n\nconst state = reactive<StoreState>(initialState);\nreplaceStateWithSavedValues(state);\nupdateDictionaryOptions(state);\n\n// Printing and saving the state when it changes\nwatch(\n  state,\n  (s) => {\n    if (!s.isInTransaction) {\n      setLocalStorage(s);\n    }\n  },\n  { deep: true },\n);\n\nconst methods = {\n  // Change to support multiple suggestions.\n  /**\n   * Apply the currently active suggestion in the passed text segment.\n   * @param textSegment The text segment in which the active suggestion is to be applied.\n   */\n  applySuggestion: async (textSegment: TextSegment) => {\n    if (!state.augmentedTextSegments) {\n      throw new Error(\n        'Cannot apply suggestion if there are no augmentedTextSegments.',\n      );\n    }\n\n    const { _id } = textSegment;\n\n    state.augmentedTextSegments.forEach((ts) => {\n      if (ts._id === _id) {\n        const {\n          apeText,\n          suggestionIsActive,\n        } = ts;\n\n        if (!suggestionIsActive) {\n          throw new Error(\n            'Cannot apply suggestion when suggestion is inactive.',\n          );\n        }\n\n        const before = ts.hpeText;\n        const after = apeText;\n        // eslint-disable-next-line no-param-reassign\n        ts.hpeText = after;\n        // eslint-disable-next-line no-param-reassign\n        ts.suggestionIsActive = false;\n        ts.edits.push({\n          type: TextSegmentEditType.accepted,\n          before,\n          after,\n        });\n      }\n\n      return ts;\n    });\n  },\n\n  /**\n   * Discard the active suggestion in the passed text segment.\n   * @param textSegment The text segment in which the active suggestion is to be discarded.\n   */\n  discardSuggestion: async (textSegment: TextSegment) => {\n    if (!state.augmentedTextSegments) {\n      throw new Error(\n        'Cannot reject suggestion if there are no augmentedTextSegments.',\n      );\n    }\n\n    const { _id } = textSegment;\n\n    state.augmentedTextSegments.forEach((ts) => {\n      if (ts._id === _id) {\n        const {\n          suggestionIsActive,\n          mtText,\n          hpeText,\n        } = ts;\n\n        if (!suggestionIsActive) {\n          throw new Error('Cannot reject inactive suggestion.');\n        }\n\n        const before = hpeText;\n        const after = mtText;\n        // eslint-disable-next-line no-param-reassign\n        ts.hpeText = after;\n        // eslint-disable-next-line no-param-reassign\n        ts.suggestionIsActive = false;\n        ts.edits.push({\n          type: TextSegmentEditType.rejected,\n          before,\n          after,\n        });\n      }\n\n      return ts;\n    });\n  },\n  applyEdits: async (newTextSegments: Translatable[]) => {\n    if (!state.augmentedTextSegments) {\n      throw new Error(\n        'Cannot apply edits if there are no augmentedTextSegments.',\n      );\n    }\n\n    newTextSegments.forEach(async (nts) => {\n      if (!state.augmentedTextSegments) {\n        throw new Error(\n          'Cannot apply edits if there are no augmentedTextSegments.',\n        );\n      }\n\n      const {\n        _id,\n        srcText,\n      } = nts;\n      const existingTextSegment = state.augmentedTextSegments.find(\n        (s) => s._id === _id,\n      );\n\n      if (!existingTextSegment) {\n        // New textSegment was found.\n\n        const ts: TextSegment = {\n          _id: nts._id,\n          srcText: '',\n          mtText: '',\n          mtTextStructure: [],\n          apeTextStructure: [],\n          hpeText: nts.srcText,\n          edits: [\n            {\n              type: TextSegmentEditType.created,\n              before: '',\n              after: nts.srcText,\n            },\n          ],\n          apeText: '',\n          suggestionIsActive: false,\n        };\n\n        state.augmentedTextSegments.push(ts);\n      } else if (\n        // Existing textSegment was found.\n        srcText !== existingTextSegment.hpeText\n      ) {\n        const before = existingTextSegment.hpeText;\n        const after = srcText;\n        existingTextSegment.hpeText = after;\n        existingTextSegment.suggestionIsActive = false;\n        existingTextSegment.edits.push({\n          type: TextSegmentEditType.edited,\n          before,\n          after,\n        });\n      }\n    });\n\n    state.augmentedTextSegments.forEach((existingTextSegment) => {\n      const newTextSegment = newTextSegments.find(\n        (s) => s._id === existingTextSegment._id,\n      );\n      if (!newTextSegment) {\n        // Text segment was deleted.\n\n        existingTextSegment.edits.push({\n          type: TextSegmentEditType.deleted,\n          before: existingTextSegment.hpeText,\n          after: '',\n        });\n        // eslint-disable-next-line no-param-reassign\n        existingTextSegment.hpeText = '';\n        // eslint-disable-next-line no-param-reassign\n        existingTextSegment.suggestionIsActive = false;\n      }\n    });\n  },\n  replaceState(newState: StoreState) {\n    Object.assign(state, newState);\n  },\n  updateState(partialState: PartialStoreState, keepTransaction = false) {\n    state.isInTransaction = true;\n    const { originalEditorContent } = partialState;\n    if (originalEditorContent) {\n      // We need to reset these properties if the original text changes\n      // We can't just replace the current state with the entire initial state because this would\n      // log the user out.\n      const {\n        originalStructure,\n        originalTextSegments,\n        textSegmentsFromApi,\n        augmentedTextSegments,\n        initialAugmentedTextSegments,\n        augmentedStructure,\n        translationSessionId,\n      } = initialState;\n\n      Object.assign(state, {\n        originalStructure,\n        originalTextSegments,\n        textSegmentsFromApi,\n        augmentedTextSegments,\n        initialAugmentedTextSegments,\n        augmentedStructure,\n        translationSessionId,\n      });\n\n      // We also need to set a new translationSessionId if the original text is changed\n      state.translationSessionId = uuid();\n\n      state.originalEditorContent = originalEditorContent;\n    }\n\n    const { originalStructure } = partialState;\n    if (originalStructure) {\n      state.originalStructure = originalStructure;\n      state.augmentedStructure = originalStructure;\n    }\n\n    const { originalTextSegments } = partialState;\n    if (originalTextSegments) {\n      state.originalTextSegments = originalTextSegments;\n    }\n\n    const { textSegmentsFromApi } = partialState;\n    if (textSegmentsFromApi) {\n      state.textSegmentsFromApi = textSegmentsFromApi;\n      // This needs to be changed if the api changes.\n      state.augmentedTextSegments = getDeepCopyOfObject(\n        textSegmentsFromApi.map((ts): TextSegment => {\n          const hasActiveSuggestion = ts.mtText !== ts.apeText;\n          const structure = getHighlights(ts.mtText, ts.apeText);\n\n          return {\n            _id: ts._id,\n            srcText: ts.srcText,\n            mtText: ts.mtText,\n            mtTextStructure: structure.fromHighlights,\n            apeTextStructure: structure.toHighlights,\n            hpeText: ts.mtText,\n            suggestionIsActive: hasActiveSuggestion,\n            apeText: ts.apeText,\n            edits: [],\n          };\n        }),\n      );\n      state.initialAugmentedTextSegments = getDeepCopyOfObject(\n        state.augmentedTextSegments,\n      );\n    }\n\n    const { augmentedStructure } = partialState;\n    if (augmentedStructure) {\n      state.augmentedStructure = augmentedStructure;\n    }\n\n    const { user } = partialState;\n    if (user !== undefined) {\n      state.user = user;\n    }\n\n    const { srcLang } = partialState;\n    if (srcLang !== undefined) {\n      state.srcLang = srcLang;\n    }\n\n    const { trgLang } = partialState;\n    if (trgLang !== undefined) {\n      state.trgLang = trgLang;\n    }\n\n    const { usingTheApplicationForTheFirstTime } = partialState;\n    if (usingTheApplicationForTheFirstTime !== undefined) {\n      state.usingTheApplicationForTheFirstTime = usingTheApplicationForTheFirstTime;\n    }\n\n    state.isInTransaction = keepTransaction;\n  },\n\n  updateUserDictRaw: (\n    langPairKey: LanguagePairKey<LanguageCode, LanguageCode>,\n    userDictRaw: string,\n  ) => {\n    const langDictionaries = state.dictionaries[langPairKey];\n    if (!langDictionaries) {\n      throw Error(\n        `Dictionaries object for language pair ${langPairKey} could not be found`,\n      );\n    }\n    langDictionaries.userDictRaw = userDictRaw;\n    langDictionaries.userDictJSON = parseUserDictRaw(userDictRaw);\n  },\n\n  updateSelectedDicts: (\n    langPairKey: LanguagePairKey<LanguageCode, LanguageCode>,\n    selectedDicts: string[],\n  ) => {\n    const langDictionaries = state.dictionaries[langPairKey];\n    if (!langDictionaries) {\n      throw Error(\n        `Dictionaries object for language pair ${langPairKey} could not be found`,\n      );\n    }\n    langDictionaries.selectedDicts = selectedDicts;\n  },\n};\n\nconst store = {\n  state,\n  methods,\n};\n\nconst storeKey: InjectionKey<typeof store> = Symbol('store');\n\nexport { store, storeKey };\n","import { InjectionKey } from 'vue';\nimport { NotificationMessageType } from './types';\n\ninterface NotifyOptions {\n  automaticallyDismissAfter?: number;\n  messageType: NotificationMessageType;\n}\n\ntype NotifyFunction = (msg: string, options: NotifyOptions) => void;\n\nclass Notifier {\n  private notifyFunctions: NotifyFunction[] = [];\n\n  private dismissFunctions: (() => void)[] = [];\n\n  private currentNotificationId: string = '';\n\n  private notificationQueue: { message: string; options: NotifyOptions }[] = [];\n\n  private displayNotification(message: string, options: NotifyOptions) {\n    const localNotificationId = String(Date.now());\n    this.currentNotificationId = localNotificationId;\n    // Display this notification\n    this.notifyFunctions.forEach((f) => f(message, options));\n\n    // Dismiss it automatically if necessary\n    if (options.automaticallyDismissAfter) {\n      setTimeout(() => {\n        if (this.currentNotificationId !== localNotificationId) {\n          return;\n        }\n        this.dismissCurrentNotification();\n      }, options.automaticallyDismissAfter);\n    }\n  }\n\n  notify(message: string, options: NotifyOptions) {\n    // Add new notification to the queue\n    this.notificationQueue.push({ message, options });\n\n    // Already busy\n    if (this.notificationQueue.length > 1) {\n      return;\n    }\n\n    this.displayNotification(message, options);\n  }\n\n  dismissCurrentNotification() {\n    if (this.notificationQueue.length === 0) {\n      return;\n    }\n\n    this.dismissFunctions.forEach((f) => f());\n\n    setTimeout(() => {\n      // Remove old notification from queue\n      this.notificationQueue.shift();\n      const newNotification = this.notificationQueue.find(\n        (x) => x !== undefined,\n      );\n\n      if (newNotification) {\n        this.displayNotification(\n          newNotification.message,\n          newNotification.options,\n        );\n      }\n    }, 300);\n  }\n\n  onNewNotification(f: NotifyFunction) {\n    this.notifyFunctions.push(f);\n  }\n\n  onDismissNotification(f: () => void) {\n    this.dismissFunctions.push(f);\n  }\n}\n\nconst notifierKey: InjectionKey<Notifier> = Symbol('store');\n\nexport { notifierKey, Notifier };\n","import { inject } from 'vue';\nimport { storeKey } from '@/store';\nimport { notifierKey } from './Notifier';\n\nfunction useStore() {\n  const store = inject(storeKey);\n  if (store === undefined) {\n    throw new Error('Store is undefined.');\n  }\n  return store;\n}\n\nfunction useNotifier() {\n  const n = inject(notifierKey);\n  if (n === undefined) {\n    throw new Error('Notifier is undefined.');\n  }\n  return n;\n}\n\nexport { useStore, useNotifier };\n","\nimport { defineComponent } from 'vue';\nimport TheNotifier from './components/TheNotifier.vue';\nimport { useNotifier } from './modules/injectUtil';\n\nexport default defineComponent({\n  components: {\n    TheNotifier,\n  },\n  setup() {\n    return {\n      notifier: useNotifier(),\n    };\n  },\n});\n","import { render } from \"./App.vue?vue&type=template&id=0a334bfd&scoped=true&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=0a334bfd&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0a334bfd\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"fixed inset-0 z-50 flex justify-between pointer-events-none\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", null, null, -1)\nconst _hoisted_3 = { class: \"absolute top-3 right-3\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"text-lg font-bold mb-3\" }, \"Welcome to the OpenTIPE Demo!\", -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"mb-3\" }, \"The purpose of this demo is to showcase the user interface of OpenTIPE. You can translate the prefilled text, post-edit the translation, and accept or reject APE suggestions.\", -1)\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"p\", null, \"This demo is not using any models and the source text as well as the APE and MT outputs are hard-coded.\", -1)\nconst _hoisted_7 = { class: \"flex justify-center h-full\" }\nconst _hoisted_8 = { class: \"w-full h-full flex flex-col items-center w-full max-w-5xl p-8\" }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"mt-10 mb-10 2xl:mt-10 2xl:mb-10 max-w-xs 2xl:max-w-xs\" }, [\n  /*#__PURE__*/_createElementVNode(\"img\", {\n    src: \"/banner.svg\",\n    alt: \"MTC Human-Assisted Post-Editing\"\n  })\n], -1)\nconst _hoisted_10 = { class: \"w-full flex justify-evenly items-end mt-8\" }\nconst _hoisted_11 = { class: \"flex flex-1 flex-col items-center\" }\nconst _hoisted_12 = { class: \"flex flex-1 flex-col items-center\" }\nconst _hoisted_13 = { class: \"flex-1 flex justify-center\" }\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"flex-shrink-0 border-t-2 w-full my-8 border-gray-300 border-dashed\" }, null, -1)\nconst _hoisted_15 = { class: \"flex items-center justify-center w-full\" }\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"text-gray-400 text-md\" }, \"Log out\", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_base_button = _resolveComponent(\"base-button\")!\n  const _component_base_dialog = _resolveComponent(\"base-dialog\")!\n  const _component_the_dictionary_options = _resolveComponent(\"the-dictionary-options\")!\n  const _component_x_icon = _resolveComponent(\"x-icon\")!\n  const _component_element_label = _resolveComponent(\"element-label\")!\n  const _component_tiptap = _resolveComponent(\"tiptap\")!\n  const _component_base_card = _resolveComponent(\"base-card\")!\n  const _component_src_lang_selector = _resolveComponent(\"src-lang-selector\")!\n  const _component_trg_lang_selector = _resolveComponent(\"trg-lang-selector\")!\n  const _component_book_open_icon = _resolveComponent(\"book-open-icon\")!\n  const _component_translate_icon = _resolveComponent(\"translate-icon\")!\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_base_dialog, {\n      visible: _ctx.showTranslationDialog,\n      title: \"Translation is in progress...\",\n      description: \"This might take a few moments.\"\n    }, {\n      buttons: _withCtx(() => [\n        _createVNode(_component_base_button, {\n          title: \"Abort Translation\",\n          type: \"tertiary\",\n          onClick: _ctx.abortTranslation\n        }, null, 8, [\"onClick\"])\n      ]),\n      _: 1\n    }, 8, [\"visible\"]),\n    (_ctx.dictOptionsAvailable)\n      ? (_openBlock(), _createBlock(_component_the_dictionary_options, {\n          key: _ctx.languagePairKey,\n          visible: _ctx.dictionaryOptionsAreVisible,\n          languagePairKey: _ctx.languagePairKey,\n          onDismiss: _ctx.hideDictionaryOptions\n        }, null, 8, [\"visible\", \"languagePairKey\", \"onDismiss\"]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_1, [\n      _hoisted_2,\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"p-4 transition-all transform\", { 'translate-x-full' : !_ctx.demoNotificationIsVisible }])\n      }, [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"bg-white rounded-md shadow-2xl p-6 w-full max-w-sm relative pointer-events-auto ring-1 ring-gray-200\", {}])\n        }, [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createElementVNode(\"button\", {\n              class: \"w-5 h-5 text-gray-400\",\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.demoNotificationIsVisible = false))\n            }, [\n              _createVNode(_component_x_icon)\n            ])\n          ]),\n          _hoisted_4,\n          _hoisted_5,\n          _hoisted_6\n        ])\n      ], 2)\n    ]),\n    _createElementVNode(\"div\", _hoisted_7, [\n      _createElementVNode(\"div\", _hoisted_8, [\n        _hoisted_9,\n        _createVNode(_component_element_label, { text: \"Enter the text you want to translate\" }),\n        _createVNode(_component_base_card, {\n          class: \"w-full h-full flex-grow\",\n          style: {\"min-height\":\"20rem\"}\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_tiptap, {\n              modelValue: _ctx.editorContent,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.editorContent) = $event)),\n              class: \"h-full\",\n              enableSpellcheck: _ctx.enableSpellcheck,\n              characterLimit: _ctx.characterLimit,\n              enableTextSegment: false,\n              enableSuggestion: false,\n              editable: false\n            }, null, 8, [\"modelValue\", \"enableSpellcheck\", \"characterLimit\"])\n          ]),\n          _: 1\n        }),\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createElementVNode(\"div\", _hoisted_11, [\n            _createVNode(_component_element_label, { text: \"Source language\" }),\n            _createVNode(_component_src_lang_selector, {\n              class: \"flex-grow-0\",\n              modelValue: _ctx.selectedSrcLangIndex,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.selectedSrcLangIndex) = $event)),\n              menuOptions: _ctx.srcLangs,\n              upperCase: true\n            }, null, 8, [\"modelValue\", \"menuOptions\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_12, [\n            _createVNode(_component_element_label, { text: \"Target language\" }),\n            _createVNode(_component_trg_lang_selector, {\n              modelValue: _ctx.selectedTrgLangIndex,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.selectedTrgLangIndex) = $event)),\n              menuOptions: _ctx.trgLangs,\n              upperCase: true\n            }, null, 8, [\"modelValue\", \"menuOptions\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_13, [\n            _createVNode(_component_base_button, {\n              title: \"Dictionary options\",\n              type: \"secondary\",\n              onClick: _ctx.showDictionaryOptions,\n              disabled: !_ctx.dictOptionsAvailable\n            }, {\n              icon: _withCtx(() => [\n                _createVNode(_component_book_open_icon, { class: \"w-5 h-5\" })\n              ]),\n              _: 1\n            }, 8, [\"onClick\", \"disabled\"])\n          ])\n        ]),\n        _hoisted_14,\n        _createElementVNode(\"div\", _hoisted_15, [\n          _createVNode(_component_base_button, {\n            class: \"max-w-xs w-full mx-10\",\n            title: \"Start translation\",\n            onClick: _cache[4] || (_cache[4] = ($event: any) => (_ctx.startTranslation()))\n          }, {\n            icon: _withCtx(() => [\n              _createVNode(_component_translate_icon, { class: \"w-5 h-5\" })\n            ]),\n            _: 1\n          })\n        ]),\n        _createVNode(_component_router_link, {\n          to: \"/logout\",\n          class: _normalizeClass([\"py-8\", {'invisible' : !_ctx.authenticationIsEnabled()}])\n        }, {\n          default: _withCtx(() => [\n            _hoisted_16\n          ]),\n          _: 1\n        }, 8, [\"class\"])\n      ])\n    ])\n  ], 64))\n}","import { Mark, mergeAttributes } from '@tiptap/core';\n\nconst defaultId = '-1';\nconst idName = 'textSegmentId';\nconst markName = 'textSegmentMark';\nconst htmlTag = 'text-segment';\n\nconst TextSegmentMark = Mark.create({\n  name: markName,\n\n  /**\n   * Means that the text segment will wrap the suggestion if, e.g., the entire\n   * text segment is a suggestion:\n   *\n   * <text-segment> ... <suggestion> ... </suggestion> ... </text-segment>\n   * instead of\n   * <suggestion> ... <text-segment> ... </text-segment> ... </suggestion>\n   *\n   */\n  priority: 1000,\n\n  addOptions() {\n    return {\n      HTMLAttributes: {},\n      [idName]: defaultId,\n      hasSuggestion: false,\n    };\n  },\n\n  addAttributes() {\n    return {\n      [idName]: {\n        default: defaultId,\n        parseHTML: (element) => element.getAttribute(idName),\n        renderHTML: (attributes) => ({\n          [idName]: attributes[idName],\n        }),\n      },\n      hasSuggestion: {\n        default: defaultId,\n        renderHTML: (attributes) => ({\n          hasSuggestion: attributes.hasSuggestion,\n        }),\n      },\n    };\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: htmlTag,\n      },\n    ];\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    return [\n      htmlTag,\n      mergeAttributes(this.options.HTMLAttributes, HTMLAttributes),\n      0,\n    ];\n  },\n});\n\nexport default {\n  Mark: TextSegmentMark,\n  name: markName,\n  tag: htmlTag,\n  idName,\n  defaultId,\n};\n","import { Mark, mergeAttributes } from '@tiptap/core';\nimport TextSegmentMark from './TextSegmentMark';\n\nconst defaultId = '-1';\nconst idName = 'suggestionId';\nconst textSegmentIdName = TextSegmentMark.idName;\nconst defaultTextSegmentId = TextSegmentMark.defaultId;\nconst markName = 'suggestionMark';\nconst htmlTag = 'suggestion';\n\nconst SuggestionMark = Mark.create({\n  name: markName,\n\n  addOptions() {\n    return {\n      HTMLAttributes: {},\n      clickEvent: null,\n    };\n  },\n\n  addAttributes() {\n    return {\n      [idName]: {\n        default: defaultId,\n        parseHTML: (element) => element.getAttribute(idName),\n        renderHTML: (attributes) => ({\n          [idName]: attributes[idName],\n        }),\n      },\n      [textSegmentIdName]: {\n        default: defaultTextSegmentId,\n        parseHTML: (element) => element.getAttribute(textSegmentIdName),\n        renderHTML: (attributes) => ({\n          [textSegmentIdName]: attributes[textSegmentIdName],\n        }),\n      },\n    };\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: htmlTag,\n      },\n    ];\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    return [\n      htmlTag,\n      mergeAttributes(this.options.HTMLAttributes, HTMLAttributes),\n      0,\n    ];\n  },\n});\n\nexport default {\n  Mark: SuggestionMark,\n  name: markName,\n};\n","import { v4 as uuid } from 'uuid';\nimport * as clipboard from 'clipboard-polyfill';\nimport { Editor, JSONContent } from '@tiptap/core';\nimport { Selection } from 'prosemirror-state';\nimport { Node } from 'prosemirror-model';\nimport {\n  splitStringIntoSentencesAndWhitespace,\n  getDeepCopyOfObject,\n  getLastElementInArray,\n  stringContainsOnlyWhitespace,\n} from './otherUtil';\nimport SuggestionMark from './tiptap_extensions/SuggestionMark';\nimport TextSegmentMark from './tiptap_extensions/TextSegmentMark';\nimport { defaultTextSegmentId, hasActiveSuggestion } from './suggestionUtil';\n\nimport {\n  JSONContentStructure, Mark, TextSegment, Translatable,\n} from './types';\n\n/**\n * Get the ids of custom marks.\n * @param marks List of marks from an Tiptap editor content node\n */\nfunction getTextSegmentIdFromMarks(marks: Mark[]): string | null {\n  let textSegmentId: string | null = null;\n\n  marks.forEach((m) => {\n    textSegmentId = textSegmentId || m.attrs?.textSegmentId;\n  });\n\n  return textSegmentId;\n}\n\n/**\n * Merges successive text segments with the same id.\n */\nfunction mergeTextSegmentsWithSameId(textSegments: Translatable[]) {\n  const cleanedTextSegments: Translatable[] = [];\n\n  let currentId: string;\n  let currentText: string;\n\n  textSegments.forEach((ts, i, arr) => {\n    if (ts._id !== currentId) {\n      // End chain and start new one\n      if (currentText && currentId) {\n        cleanedTextSegments.push({\n          _id: currentId,\n          srcText: currentText,\n        });\n      }\n\n      currentId = ts._id;\n      currentText = ts.srcText;\n    } else {\n      // Continue chain\n      currentText = `${currentText}${ts.srcText}`;\n    }\n\n    if (arr.length === i + 1) {\n      if (currentText) {\n        cleanedTextSegments.push({\n          _id: currentId,\n          srcText: currentText,\n        });\n      }\n    }\n  });\n\n  return cleanedTextSegments;\n}\n\n/**\n * Removes duplicate successive text nodes.\n */\nfunction removeDuplicateTextNodes(content: JSONContentStructure[]) {\n  const newContent: JSONContentStructure[] = [];\n  let lastId: string | undefined;\n\n  content.forEach((node) => {\n    if (!node.textSegmentId || lastId !== node.textSegmentId) {\n      newContent.push(node);\n    }\n\n    lastId = node.textSegmentId;\n  });\n\n  return newContent;\n}\n\nfunction requiresNewTextSegmentId(\n  textSegmentId: string | null,\n  parseHistory: string[],\n) {\n  return (\n    // It currently doesn't have an id\n    !textSegmentId\n    // It does not continue a chain of text nodes with the same id\n    || (getLastElementInArray(parseHistory) !== textSegmentId\n      // The current id has been used before\n      && parseHistory.includes(textSegmentId))\n  );\n}\n\ninterface IdReplacements {\n  [key: string]: string;\n}\n\nfunction getTextSegmentIdFromMarksWithReplacement(\n  marks: Mark[],\n  idReplacements: IdReplacements,\n) {\n  let textSegmentId = getTextSegmentIdFromMarks(marks);\n\n  if (!textSegmentId) {\n    return null;\n  }\n\n  if (idReplacements[textSegmentId]) {\n    textSegmentId = idReplacements[textSegmentId];\n  }\n\n  return textSegmentId;\n}\n\nfunction parseEditorContentInternal(\n  contentNode: JSONContent,\n  parseHistory: string[] = [],\n  oldIdReplacements: IdReplacements = {},\n) {\n  const copiedContentNode = getDeepCopyOfObject(contentNode);\n  const {\n    type, attrs, content, text, marks,\n  } = copiedContentNode;\n\n  const structureProps = {\n    type,\n    attrs,\n  };\n\n  // Will contain all found text segments.\n  const textSegments: Translatable[] = [];\n\n  // Stores which text segment ids were already used.\n  const localParseHistory: string[] = [];\n\n  // Stores how text segment ids should be replaced. This is necessary if the user splits a text\n  // segment. In that case, only the first part should keep the original id.\n  let idReplacements = oldIdReplacements;\n\n  // This will be added to the content of the parent node.\n  const structures: JSONContentStructure[] = [];\n\n  if (text !== undefined) {\n    // Leaf node\n\n    if (marks) {\n      // TextSegment is already present\n\n      let textSegmentId = getTextSegmentIdFromMarksWithReplacement(\n        marks,\n        idReplacements,\n      );\n\n      // Create new id if this one is already used. This can happen through user edits.\n      if (\n        !textSegmentId\n        || requiresNewTextSegmentId(textSegmentId, parseHistory)\n      ) {\n        const newId = uuid();\n        if (textSegmentId) {\n          idReplacements[textSegmentId] = newId;\n        }\n        textSegmentId = newId;\n      }\n\n      textSegments.push({\n        _id: textSegmentId,\n        srcText: text,\n      });\n\n      structures.push({\n        ...structureProps,\n        textSegmentId,\n      });\n\n      localParseHistory.push(textSegmentId);\n    } else {\n      // Raw text. Text segments must be wrapped.\n\n      const splitText = splitStringIntoSentencesAndWhitespace(text);\n\n      splitText.forEach((str) => {\n        if (stringContainsOnlyWhitespace(str)) {\n          // Only whitespace means we save it in the structure, not in a textSegment.\n\n          structures.push({\n            ...structureProps,\n            text: str,\n          });\n          localParseHistory.push('blank');\n        } else {\n          const textSegmentId = uuid();\n\n          textSegments.push({\n            _id: textSegmentId,\n            srcText: str,\n          });\n\n          structures.push({\n            ...structureProps,\n            textSegmentId,\n          });\n          localParseHistory.push(textSegmentId);\n        }\n      });\n    }\n  } else if (!content) {\n    // Leaf node without text (e.g., an empty paragraph).\n    structures.push(copiedContentNode);\n    localParseHistory.push('break');\n  } else if (content !== undefined && content !== null) {\n    // Not a leaf node.\n\n    const structure = {\n      ...structureProps,\n      content,\n    };\n\n    const tempTextSegments: Translatable[] = [];\n    const tempContent: JSONContentStructure[] = [];\n\n    content.forEach((child) => {\n      const {\n        textSegments: childTextSegments,\n        structures: childStructures,\n        parseHistory: childParseHistory,\n        idReplacements: childIdReplacements,\n      } = parseEditorContentInternal(\n        child,\n        parseHistory.concat(localParseHistory),\n        idReplacements,\n      );\n\n      idReplacements = childIdReplacements;\n      tempContent.push(...childStructures);\n      tempTextSegments.push(...childTextSegments);\n      localParseHistory.push(...childParseHistory);\n    });\n\n    localParseHistory.push('break');\n\n    // Clean the result\n    textSegments.push(...mergeTextSegmentsWithSameId(tempTextSegments));\n    structure.content = removeDuplicateTextNodes(tempContent);\n\n    structures.push(structure);\n  }\n\n  return {\n    textSegments,\n    structures,\n    parseHistory: localParseHistory,\n    idReplacements,\n  };\n}\n\nasync function parseEditorContent(editorContent: JSONContent) {\n  const { textSegments, structures } = parseEditorContentInternal(editorContent);\n  return {\n    textSegments,\n    // Root is always just one node, which means the element at index 0 is always the document.\n    structure: structures[0],\n  };\n}\n\nfunction buildEditorContentWithMarksInternal(\n  structure: JSONContentStructure,\n  textSegments: TextSegment[],\n  takeSource = false,\n) {\n  const copiedStructure = getDeepCopyOfObject(structure);\n  const {\n    type, attrs, content, textSegmentId, text,\n  } = copiedStructure;\n\n  const targetObjects = [];\n\n  if (text !== undefined) {\n    // E.g., a text node with whitespace (wouldn't be part of text segments)\n\n    // Text nodes cannot be empty\n    if (text) {\n      // We can just copy it without changing it.\n      targetObjects.push(copiedStructure);\n    }\n  } else if (textSegmentId !== undefined) {\n    // It must be a leaf node, since it contains text.\n\n    const textSegment = textSegments.find((ts) => ts._id === textSegmentId);\n\n    if (!textSegment) {\n      throw new Error(\n        `Cannot build editor content because the text segment with the following id cannot be found: ${textSegmentId}.`,\n      );\n    }\n\n    /**\n     * Wrapping the text segments with the appropriate marks.\n     */\n\n    // This will always be added to every part of the text fragment.\n    const textSegmentMark = {\n      type: TextSegmentMark.name,\n      attrs: {\n        [TextSegmentMark.idName]: textSegment._id,\n        hasSuggestion: textSegment.suggestionIsActive,\n      },\n    };\n\n    // This will only be added to parts of the text fragment with an active suggestion.\n    const suggestionMark = {\n      type: SuggestionMark.name,\n      attrs: {\n        [TextSegmentMark.idName]: textSegment._id,\n      },\n    };\n\n    const textSegmentRegions: any[] = [];\n\n    if (hasActiveSuggestion(textSegment)) {\n      // Highlight all parts of the text with changes\n      if (takeSource) {\n        textSegmentRegions.push({\n          type: 'text',\n          text: textSegment.srcText,\n          marks: [textSegmentMark, suggestionMark],\n        });\n      } else {\n        const segments = textSegment.mtTextStructure;\n        segments.forEach((s) => {\n          textSegmentRegions.push({\n            type: 'text',\n            text: s.value,\n            marks: s.highlight\n              ? [textSegmentMark, suggestionMark]\n              : [textSegmentMark],\n          });\n        });\n      }\n    } else {\n      const textSegmentWithMarks = {\n        type: 'text',\n        text: takeSource ? textSegment.srcText : textSegment.hpeText,\n        marks: [textSegmentMark],\n      };\n      textSegmentRegions.push(textSegmentWithMarks);\n    }\n\n    // Text nodes cannot be empty.\n    targetObjects.push(...textSegmentRegions.filter((x) => x.text !== ''));\n  } else if (content !== undefined && content !== null) {\n    // It's not a leaf node. Therefore, it has children.\n\n    let newContent: JSONContent[] = [];\n\n    // Recursively building the editor content.\n    content.forEach((element) => {\n      const childTargetObjects = buildEditorContentWithMarksInternal(\n        element,\n        textSegments,\n        takeSource,\n      );\n      newContent = newContent.concat(childTargetObjects);\n    });\n\n    const targetObj = {\n      // Adding type and attrs if they exist\n      type,\n      attrs,\n      content: newContent,\n    };\n\n    targetObjects.push(targetObj);\n  } else {\n    // It's a child but without text. This could be an empty paragraph, for example.\n\n    // Adding type and attrs if they exist, but no content or text.\n    const emptyElement = {\n      type,\n      attrs,\n    };\n\n    targetObjects.push(emptyElement);\n  }\n\n  // There is only one root node in the editor content. Therefore, we can return that node directly\n  // if the current node is the root node.\n  return targetObjects;\n}\n\nfunction buildEditorContentWithMarks(\n  structure: JSONContentStructure,\n  textSegments: TextSegment[],\n  takeSource = false,\n) {\n  return buildEditorContentWithMarksInternal(\n    structure,\n    textSegments,\n    takeSource,\n  )[0];\n}\n\n/**\n * @param selection Selection object of Tiptap editor\n * @param doc Document object of Tiptap editor\n * @returns Ids of currently selected text segments\n */\nfunction getIdsOfSelectedTextSegments(selection: Selection, doc: Node) {\n  const { from, to } = selection;\n  const selectedTextSegmentIds: string[] = [];\n  doc.descendants((node, pos) => {\n    // +1 and -1 are necessary because nodes have start and end markers.\n    // We don't care about those markers\n    const startPos = pos + 1;\n    const endPos = pos + node.nodeSize - 1;\n\n    // True if any part of the text segment is part of the selection.\n    const isInSelection = from <= endPos && startPos <= to && from !== to;\n    if (!isInSelection) return;\n\n    const { marks } = node;\n\n    // E.g., whitespace nodes.\n    if (!marks) return;\n\n    let textSegmentId: string | null = null;\n\n    marks.forEach((m) => {\n      textSegmentId = textSegmentId || m.attrs.textSegmentId;\n    });\n\n    // Doesn't have an id (i.e., is not a text segment)\n    if (!textSegmentId) return;\n\n    // Already found that text segment\n    if (selectedTextSegmentIds.includes(textSegmentId)) return;\n\n    selectedTextSegmentIds.push(textSegmentId);\n  });\n  return selectedTextSegmentIds;\n}\n\n/**\n * @param editor The Tiptap editor in which text segments are selected\n * @param textSegments An array of text segments.\n * @returns The currently selected text segments.\n */\nfunction getSelectedTextSegments(editor: Editor, textSegments: TextSegment[]) {\n  const ids = getIdsOfSelectedTextSegments(\n    editor.state.selection,\n    editor.state.doc,\n  );\n  return textSegments.filter((ts) => ids.includes(ts._id));\n}\n\n/**\n * Copy the entire text of an editor to the clipboard.\n * @param editor The editor to copy the text from\n */\nasync function copyEditorContentAsText(editor: Editor) {\n  const item = new clipboard.ClipboardItem({\n    'text/html': new Blob([editor.getHTML()], { type: 'text/html' }),\n    'text/plain': new Blob([editor.state.doc.textContent], {\n      type: 'text/plain',\n    }),\n  });\n\n  await clipboard.write([item]);\n}\n\nfunction selectionIsEmpty(editor: Editor) {\n  return editor.state.selection.from === editor.state.selection.to;\n}\n\nfunction cursorIsAtDocumentLocation(editor: Editor, location: 'start' | 'end') {\n  const { from, to } = editor.state.selection;\n  if (location === 'start') {\n    const targetPos = 1;\n    const minPos = Math.max(from, to);\n    return minPos <= targetPos;\n  }\n  const targetPos = editor.state.doc.content.size - 1;\n  const maxPos = Math.max(from, to);\n  return targetPos <= maxPos;\n}\n\n/**\n * Gets the textSegmentId of one currently selected mark (the caret location) in the passed editor.\n */\nfunction getTextSegmentIdOfSelectedMarks(editor: Editor) {\n  let textSegmentId: string | null = null;\n\n  // We don't want the last node to be selected if the user clicks anywhere below the text.\n  if (\n    !editor.state.selection.empty\n    || (selectionIsEmpty(editor)\n      && (cursorIsAtDocumentLocation(editor, 'start')\n        || cursorIsAtDocumentLocation(editor, 'end')))\n  ) {\n    textSegmentId = defaultTextSegmentId;\n  }\n\n  const pos = editor.state.selection.$head;\n  const closeNode = pos.nodeAfter || pos.nodeBefore;\n\n  // No actual content near the selection (e.g., in an empty document or in a new paragraph).\n  if (!closeNode) return null;\n\n  const { marks } = closeNode;\n\n  // Not a custom mark.\n  if (!marks) return null;\n\n  marks.forEach((m) => {\n    // We can do this because our nested custom marks always have the same textSegmentId.\n    textSegmentId = textSegmentId || m.attrs.textSegmentId;\n  });\n\n  return textSegmentId;\n}\n\nexport {\n  parseEditorContent,\n  buildEditorContentWithMarks,\n  getSelectedTextSegments,\n  copyEditorContentAsText,\n  getTextSegmentIdOfSelectedMarks,\n};\n","import { User } from '@firebase/auth';\nimport options from './options';\nimport {\n  splitStringIntoSentencesAndWhitespace,\n  stringContainsOnlyWhitespace,\n} from './otherUtil';\nimport {\n  DictionaryEntries,\n  LanguageCode,\n  SendPostEditRequestBody,\n  TextSegment,\n  TextSegmentEditType,\n  Translatable,\n  TranslationRequestBody,\n  TranslationResponseBody,\n  TranslationResult,\n} from './types';\n\n/**\n * Randomly removes suggestions if there are too many.\n */\nfunction suggestionLimiter(\n  tr: TranslationResult[],\n  maxSuggestionRatio: number,\n) {\n  const results = [...tr];\n  if (maxSuggestionRatio >= 1 || maxSuggestionRatio < 0) return results;\n\n  const numTextSegments = results.length;\n  // Count the number of present suggestions.\n  let numPresentSuggestions = 0;\n  results.forEach((r) => {\n    if (r.mtText !== r.apeText) {\n      numPresentSuggestions += 1;\n    }\n  });\n\n  // If there are no suggestions we are done.\n  if (numPresentSuggestions === 0) {\n    return results;\n  }\n\n  // How many suggestions there should be according to the max suggestion ratio.\n  const targetSuggestionNum = numTextSegments * maxSuggestionRatio;\n\n  if (numPresentSuggestions > targetSuggestionNum) {\n    const numToRemove = numPresentSuggestions - targetSuggestionNum;\n    const removalProbability = numToRemove / numPresentSuggestions;\n\n    // Remove each suggestion with the calculated probability.\n    results.forEach((r) => {\n      if (r.mtText !== r.apeText && Math.random() <= removalProbability) {\n        // eslint-disable-next-line no-param-reassign\n        r.apeText = r.mtText;\n      }\n    });\n  }\n\n  return results;\n}\n\nasync function requestFakeTranslationData(textSegments: Translatable[]) {\n  const result: TranslationResult[] = [];\n  let i = 0;\n\n  textSegments.forEach((element) => {\n    // const prefix = element.srcText[0] === ' ' ? element.srcText[0] : '';\n    const mt = [\n      'The Bremen Town Musicians',\n      ...splitStringIntoSentencesAndWhitespace(\n        'There was a man who had a mule that had been carrying the sacks to the mill for many years without fail, but whose strength was now running out, so that he was becoming more and more unfit for work. The master thought of taking him out of the feed, but the donkey noticed that there was no good wind, ran away and set off for Bremen; there, he thought, he could become a town musician. When he had gone a little while, he found a hunting dog lying on the road, yipping like one who has run himself tired. \"Well, what are you yapping about, Packan?\" asked the donkey. \"Oh,\" said the dog, \"because I\\'m old and getting weaker every day, and I can\\'t go hunting anymore, my master wanted to kill me, so I ran away; but how am I supposed to earn my bread?\" - \"You know what?\" said the donkey, \"I\\'ll go to Bremen and become a town musician there, go along and get accepted at the music as well. I\\'ll play the lute, and you play the timpani.\" The dog was satisfied, and they went on their way. It was not long before a cat was sitting by the road, making a face like three days of rainy weather. \"Well, what\\'s got into your way, old beard cleaner?\" said the donkey. \"Who can be funny when you\\'re in trouble,\" answered the cat, \"because I\\'m getting on in years, my teeth are getting dull, and I\\'d rather sit behind the stove and spin than hunt around for mice, my wife wanted to drown me; I still managed to get away, but now good advice is expensive: where should I go?\" - \"Go with us to Bremen, you know how to play night music, there you can become a town musician.\" The cat thought that was good and went along. Then the three fugitives passed a farm, where the rooster was sitting on the gate and screaming at the top of his lungs. \"You scream through the marrow of one\\'s bones,\" said the donkey, \"what are you up to?\" - \"I prophesied good weather,\" said the rooster, \"because it is our dear wife\\'s day, when she washed the little Christ\\'s shirts and wants to dry them; but because guests are coming tomorrow on Sunday, the housewife has no mercy and has told the cook that she wants to eat me in the soup tomorrow, and that I should have my head cut off tonight. Now I\\'ll scream at the top of my lungs as long as I can.\" - \"Eh what, you red-head,\" said the donkey, \"you\\'d better go away with us, we\\'ll go to Bremen, you\\'ll find something better than death anywhere; you have a good voice, andand if we make music together, it must have a way.\" The rooster accepted the proposal, and all four of them left together.',\n      ),\n      ...splitStringIntoSentencesAndWhitespace(\n        'But they could not reach the city of Bremen in a day, and in the evening they came to a forest where they were going to spend the night. The donkey and the dog lay down under a big tree, the cat and the rooster made themselves into the branches, but the rooster flew to the top where it was safest for him. Before he fell asleep, he looked around once more to all four winds, then he thought he saw a spark burning in the distance, and called out to his companions that there must not be a house far away, for there was a light shining. Said the donkey: \"So we must set out and go there, for here the inn is bad.\" ',\n      ),\n      'The dog said,',\n      ...splitStringIntoSentencesAndWhitespace(\n        ' \"A few bones and some meat on them would do him good, too.\" So they set out for the area where the light was, and soon saw it shimmering more brightly, and it grew larger and larger, until they came before a brightly lit robber\\'s house. The Donkey, being the biggest, approached the window and looked in. \"What do you see, gray horse?\" asked the rooster. \"What do I see?\" replied the donkey, \"a table laid with beautiful food and drink, and robbers sitting at it, enjoying themselves.\" - \"That would be something for us,\" said the cock. \"Yes, yes, oh, if we were there!\" said the donkey. Then the animals discussed how they should begin to chase the robbers away, and at last they found a way. The donkey had to stand on the window with his front feet, the dog had to jump on the donkey\\'s back, the cat had to climb on the dog, and finally the rooster flew up and sat on the cat\\'s head. When this was done, at a sign they all began to make their music: the donkey brayed, the dog barked, the cat meowed, and the rooster crowed. Then they rushed through the window into the living room so that the windows rattled. The robbers took to their heights at the horrible clamor, thinking no other than that a ghost was coming in, and fled out into the forest in the greatest fear. Now the four minstrels sat down at the table, made do with what was left over, and ate to their hearts\\' content.',\n      ),\n    ].filter((s) => !stringContainsOnlyWhitespace(s));\n\n    const pe = [\n      'Town Musicians of Bremen',\n      ...splitStringIntoSentencesAndWhitespace(\n        'There was a man who had a donkey that had been carrying the sacks to the mill for many years without fail, but whose strength was now running out, so that he was becoming more and more unfit for work. The master thought of taking him out of the feed, but the donkey noticed that there was no good wind, ran away and set off for Bremen; there, he thought, he could become a town musician. When he had gone a little while, he found a hound lying on the road, yipping like one who has run himself tired. \"Well, what are you yapping about, Packan?\" asked the donkey. \"Oh,\" said the dog, \"because I\\'m old and getting weaker every day, and I can\\'t go hunting anymore, my master wanted to kill me, so I took to my heels; but what am I supposed to do for a living?\" - \"You know what?\" said the donkey, \"I\\'ll go to Bremen and become a town musician there, go along and get accepted at the music as well. I\\'ll play the lute, and you play the drums.\" The dog was satisfied, and they went on their way. It was not long before a cat was sitting by the road, making a face like three days of rainy weather. \"Well, what\\'s got into your way, old beard cleaner?\" said the donkey. \"Who can be funny when you\\'re in trouble,\" answered the cat, \"because I\\'m getting on in years, my teeth are getting dull, and I\\'d rather sit behind the stove and spin than hunt around for mice, my wife wanted to drown me; I still managed to get away, but now good advice is expensive: where should I go?\" - \"Go with us to Bremen, you know how to play night music, there you can become a town musician.\" The cat thought that was good and went along. Then the three fugitives passed a farm, where the rooster was sitting on the gate and screaming at the top of his lungs. \"You scream through the marrow of one\\'s bones,\" said the donkey, \"what are you up to?\" - \"I predicted good weather,\" said the rooster, \"because it is our dear wife\\'s day, when she washed the little Christ\\'s shirts and wants to dry them; but because guests are coming tomorrow on Sunday, the housewife has no mercy and has told the cook that she wants to eat me in the soup tomorrow, and that I should have my head cut off tonight. Now I\\'ll scream at the top of my lungs as long as I can.\" - \"Eh what, you red-head,\" said the donkey, \"you\\'d better go away with us, we\\'ll go to Bremen, you\\'ll find something better than death anywhere; you have a good voice, and if we play music together, it must have a style.\" The rooster accepted the proposal, and all four of them left together.',\n      ),\n      ...splitStringIntoSentencesAndWhitespace(\n        'But they could not reach the city of Bremen in a day, and in the evening they came to a forest where they were going to spend the night. The donkey and the dog lay down under a big tree, the cat and the rooster made themselves into the branches, but the rooster flew to the top where it was safest for him. Before he fell asleep, he looked around once more to all four winds, then he thought he saw a spark burning in the distance, and called out to his companions that there must not be a house far away, for there was a light shining. Said the donkey: \"So we must set out and go there, for here the inn is bad.\" ',\n      ),\n      'The dog said,',\n      ...splitStringIntoSentencesAndWhitespace(\n        ' \"A few bones and some meat on them would do him good, too.\" So they set out for the area where the light was, and soon saw it shimmering more brightly, and it grew larger and larger, until they came before a brightly lit robber\\'s house. The Donkey, being the biggest, approached the window and looked in. \"What do you see, gray horse?\" asked the rooster. \"What do I see?\" replied the donkey, \"a table set with delicious food and drinks, and robbers sitting at it, enjoying themselves.\" - \"That would be something for us,\" said the cock. \"Yes, yes, oh, if we were there!\" said the donkey. Then the animals discussed how they should begin to chase the robbers away, and at last they found a way. The donkey had to stand on the window with his front feet, the dog had to jump on the donkey\\'s back, the cat had to climb on the dog, and finally the rooster flew up and sat on the cat\\'s head. When this was done, at a sign they all began to make their music: the donkey brayed, the dog barked, the cat meowed, and the rooster crowed. Then they rushed through the window into the living room so that the windows rattled. The robbers took to their heights at the horrible clamor, thinking that a ghost was coming, and fled out into the forest in the greatest fear. Now the four musicians sat down at the table, made do with what was left over, and ate to their hearts\\' content.',\n      ),\n    ].filter((s) => !stringContainsOnlyWhitespace(s));\n\n    result.push({\n      _id: element._id,\n      srcText: element.srcText,\n      mtText: mt[i] || '',\n      apeText: pe[i] || '',\n    });\n    i += 1;\n  });\n\n  return new Promise<TranslationResult[]>((resolve) => {\n    setTimeout(() => {\n      resolve(result);\n    }, options.fakeApiDelay);\n  });\n}\n\nasync function getUserToken(user: User | null) {\n  let userToken = '';\n\n  if (user !== null) {\n    userToken = await user.getIdToken();\n  }\n\n  return userToken;\n}\n\nasync function requestRealTranslationData(\n  textSegments: Translatable[],\n  srcLang: LanguageCode,\n  trgLang: LanguageCode,\n  translationSessionId: string,\n  user: User | null,\n  userDict: DictionaryEntries,\n  selectedDicts: string[],\n): Promise<TranslationResult[]> {\n  const userToken = await getUserToken(user);\n\n  const body: TranslationRequestBody = {\n    _id: translationSessionId,\n    srcLang,\n    trgLang,\n    textSegments,\n    userDict,\n    selectedDicts,\n  };\n\n  const response = await fetch(`${options.baseUrlApi}/translate`, {\n    method: 'POST',\n    headers: {\n      Accept: '*/*',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${userToken}`,\n    },\n    body: JSON.stringify(body),\n  });\n\n  if (!response.ok) {\n    throw new Error(response.statusText);\n  }\n\n  const responseBody: TranslationResponseBody = await response.json();\n\n  return responseBody.textSegments.map((ts) => {\n    if (ts.mtText === undefined) {\n      throw new Error(\n        `The server returned no translation for the text segment with id \"${ts._id}\": \"${ts.srcText}\"`,\n      );\n    }\n    if (ts.apeText === undefined) {\n      throw new Error(\n        `The server returned no post-edit for the text segment with id \"${ts._id}\": \"${ts.srcText}\"`,\n      );\n    }\n    return ts as TranslationResult;\n  });\n}\n\nasync function requestTranslationData(\n  textSegments: Translatable[],\n  srcLang: LanguageCode,\n  trgLang: LanguageCode,\n  translationSessionId: string,\n  user: User | null,\n  userDict: DictionaryEntries,\n  selectedDicts: string[],\n) {\n  return options.useFakeApi\n    ? requestFakeTranslationData(textSegments)\n    : suggestionLimiter(\n      await requestRealTranslationData(\n        textSegments,\n        srcLang,\n        trgLang,\n        translationSessionId,\n        user,\n        userDict,\n        selectedDicts,\n      ),\n      options.maxSuggestionRatio,\n    );\n}\n\nasync function sendPostEditData(\n  textSegments: TextSegment[],\n  srcLang: LanguageCode,\n  trgLang: LanguageCode,\n  translationSessionId: string,\n  user: User | null,\n  selectedDicts: string[],\n  userDict: DictionaryEntries,\n) {\n  const userToken = await getUserToken(user);\n  const body: SendPostEditRequestBody = {\n    _id: translationSessionId,\n    srcLang,\n    trgLang,\n    textSegments: textSegments.map((ts) => ({\n      ...ts,\n      // Accepted iff the suggestion was accepted at some point in the edit history.\n      apeAccepted:\n        ts.edits.filter((edit) => edit.type === TextSegmentEditType.accepted)\n          .length > 0,\n    })),\n    selectedDicts,\n    userDict,\n  };\n\n  const response = await fetch(`${options.baseUrlApi}/post-edition`, {\n    method: 'POST',\n    headers: {\n      Accept: '*/*',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${userToken}`,\n    },\n    body: JSON.stringify(body),\n  });\n\n  if (!response.ok) {\n    throw new Error(response.statusText);\n  }\n}\n\nexport { requestTranslationData, sendPostEditData, getUserToken };\n","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = {\n  class: \"bg-gray-300 p-1 rounded-full flex space-x-2 transition-all ease-in-out\",\n  style: {\"min-width\":\"8rem\"}\n}\nconst _hoisted_2 = [\"onClick\"]\nconst _hoisted_3 = { class: \"\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.menuOptions, (option, key) => {\n      return (_openBlock(), _createElementBlock(\"button\", {\n        class: _normalizeClass([\"w-full rounded-full px-6 border-gray-600 border-4 border-opacity-0 focus:outline-none text-sm font-bold text-gray-500\", {\n        'bg-white shadow-md text-gray-700': key === _ctx.selectedIndex,\n        'hover:border-opacity-20': key !== _ctx.selectedIndex,\n      }]),\n        key: key,\n        onClick: ($event: any) => (_ctx.updateSelectedIndex(key))\n      }, [\n        _createElementVNode(\"p\", _hoisted_3, _toDisplayString(_ctx.upperCase ? String(option).toUpperCase() : option), 1)\n      ], 10, _hoisted_2))\n    }), 128))\n  ]))\n}","\nimport {\n  defineComponent, PropType, ref, watchEffect,\n} from 'vue';\n\nexport default defineComponent({\n  props: {\n    menuOptions: {\n      type: Object as PropType<string[]>,\n      required: true,\n    },\n    upperCase: {\n      type: Boolean,\n      required: false,\n      default: () => false,\n    },\n    modelValue: {\n      type: Number,\n      required: true,\n    },\n  },\n  emits: {\n    'update:modelValue': (_index: number) => true,\n  },\n  setup(props, context) {\n    const selectedIndex = ref(props.modelValue);\n\n    watchEffect(() => {\n      selectedIndex.value = Math.min(\n        selectedIndex.value,\n        props.menuOptions.length - 1,\n      );\n      context.emit('update:modelValue', selectedIndex.value);\n    });\n\n    function updateSelectedIndex(index: number) {\n      if (index === selectedIndex.value) {\n        return;\n      }\n\n      selectedIndex.value = index;\n      context.emit('update:modelValue', selectedIndex.value);\n    }\n\n    return {\n      selectedIndex,\n      updateSelectedIndex,\n    };\n  },\n});\n\n","import { render } from \"./BaseSelector.vue?vue&type=template&id=711c160a&ts=true\"\nimport script from \"./BaseSelector.vue?vue&type=script&lang=ts\"\nexport * from \"./BaseSelector.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"relative\">\n    <button\n      :title=\"description\"\n      class=\"\n        h-full\n        w-full\n        px-4\n        py-2\n        rounded-md\n        shadow-md\n        hover:shadow-lg\n        transition-all\n        ease-in-out\n        flex\n        space-x-2\n        text-white\n        focus:outline-none\n        items-center\n        justify-center\n      \"\n      :class=\"{\n        'bg-gray-400 hover:bg-gray-500 active:bg-gray-600':\n          type == 'secondary' || type == 'tertiary',\n        'opacity-50': type == 'tertiary' && !disabled,\n        'bg-mtc_pink-500 hover:bg-mtc_pink-600 active:bg-mtc_pink-700':\n          type == 'primary',\n        'bg-mtc_powder_blue-700 hover:bg-mtc_powder_blue-800 active:bg-mtc_powder_blue-900':\n          type == 'primary-green',\n        'opacity-20': disabled,\n      }\"\n      @click=\"emitClick()\"\n      :disabled=\"disabled\"\n    >\n      <!-- Small hack to visually center the button content -->\n      <div :class=\"{ '-ml-1': title }\">\n        <slot name=\"icon\"></slot>\n      </div>\n      <p v-if=\"title\">{{ title }}</p>\n    </button>\n    <!-- This overlay disables things like hovering if the button is disabled. -->\n    <div\n      v-if=\"disabled\"\n      class=\"absolute w-full h-full top-0 left-0 cursor-not-allowed\"\n    />\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  props: {\n    title: String,\n    type: {\n      default: () => 'primary',\n      required: false,\n      type: String,\n    },\n    disabled: Boolean,\n    description: String,\n  },\n\n  emits: {\n    click: () => true,\n  },\n\n  setup(_, { emit }) {\n    function emitClick() {\n      emit('click');\n    }\n\n    return {\n      emitClick,\n    };\n  },\n});\n</script>\n\n<style></style>\n","import { render } from \"./BaseButton.vue?vue&type=template&id=d2aca4c2\"\nimport script from \"./BaseButton.vue?vue&type=script&lang=js\"\nexport * from \"./BaseButton.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <teleport to=\"body\">\n    <transition name=\"fade\">\n      <div\n        v-if=\"visible\"\n        class=\"fixed inset-0 bg-black opacity-60\"\n        style=\"z-index: 300000\"\n      ></div>\n    </transition>\n    <transition name=\"fade-move-up\">\n      <div\n        v-if=\"visible\"\n        class=\"fixed inset-0 left-0 top-0 z-30 flex justify-center items-center\"\n        @click=\"emitBackgroundClick\"\n        style=\"z-index: 300001\"\n      >\n        <base-card\n          class=\"\n            max-h-96\n            min-w-md\n            max-w-xl\n            m-8\n            p-8\n            flex flex-col\n            justify-center\n            items-center\n          \"\n        >\n          <h2 class=\"font-bold text-2xl text-gray-700 mb-4\">{{ title }}</h2>\n          <p v-if=\"description\" class=\"text-gray-500 mb-12\">\n            {{ description }}\n          </p>\n          <base-loading-animation class=\"mb-20\"></base-loading-animation>\n          <slot name=\"buttons\" class=\"\"></slot>\n        </base-card>\n      </div>\n    </transition>\n  </teleport>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport BaseCard from './BaseCard.vue';\nimport BaseLoadingAnimation from './BaseLoadingAnimation.vue';\n\nexport default defineComponent({\n  components: {\n    BaseCard,\n    BaseLoadingAnimation,\n  },\n  emits: {\n    backgroundClick: () => true,\n  },\n  props: {\n    title: {\n      type: String,\n      required: true,\n    },\n    description: {\n      type: String,\n      required: false,\n    },\n    visible: {\n      type: Boolean,\n      required: false,\n      default: () => true,\n    },\n  },\n  setup(_, { emit }) {\n    function emitBackgroundClick() {\n      emit('backgroundClick');\n    }\n\n    return {\n      emitBackgroundClick,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.min-w-md {\n  min-width: 28rem;\n}\n</style>\n","<template>\n  <div class=\"bg-white rounded-lg shadow-md\">\n    <slot />\n  </div>\n</template>\n\n<script>\nexport default {};\n</script>\n\n<style></style>\n","import { render } from \"./BaseCard.vue?vue&type=template&id=1def9b9c\"\nimport script from \"./BaseCard.vue?vue&type=script&lang=js\"\nexport * from \"./BaseCard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"spinner m-4\">\n    <div class=\"bounce1\"></div>\n    <div class=\"bounce2\"></div>\n    <div class=\"bounce3\"></div>\n  </div>\n</template>\n\n<script>\nexport default {};\n</script>\n\n<style lang=\"scss\" scoped>\n.spinner {\n  width: 70px;\n  text-align: center;\n}\n\n.spinner > div {\n  width: 18px;\n  height: 18px;\n  @apply bg-mtc_powder_blue;\n\n  border-radius: 100%;\n  display: inline-block;\n  -webkit-animation: sk-bounce-delay 1.4s infinite ease-in-out both;\n  animation: sk-bounce-delay 1.4s infinite ease-in-out both;\n}\n\n.spinner .bounce1 {\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n\n.spinner .bounce2 {\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n\n@-webkit-keyframes sk-bounce-delay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n  }\n}\n\n@keyframes sk-bounce-delay {\n  0%,\n  80%,\n  100% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n  }\n}\n</style>\n","import { render } from \"./BaseLoadingAnimation.vue?vue&type=template&id=5f1e6c4e&scoped=true\"\nimport script from \"./BaseLoadingAnimation.vue?vue&type=script&lang=js\"\nexport * from \"./BaseLoadingAnimation.vue?vue&type=script&lang=js\"\n\nimport \"./BaseLoadingAnimation.vue?vue&type=style&index=0&id=5f1e6c4e&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5f1e6c4e\"]])\n\nexport default __exports__","import { render } from \"./BaseDialog.vue?vue&type=template&id=8ff9d4f0&scoped=true\"\nimport script from \"./BaseDialog.vue?vue&type=script&lang=js\"\nexport * from \"./BaseDialog.vue?vue&type=script&lang=js\"\n\nimport \"./BaseDialog.vue?vue&type=style&index=0&id=8ff9d4f0&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8ff9d4f0\"]])\n\nexport default __exports__","<template>\n  <p class=\"font-bold text-gray-500 mb-2\">\n    {{ text }}\n  </p>\n</template>\n\n<script>\nexport default {\n  props: {\n    text: String,\n  },\n};\n</script>\n\n<style></style>\n","import { render } from \"./ElementLabel.vue?vue&type=template&id=3a03539b\"\nimport script from \"./ElementLabel.vue?vue&type=script&lang=js\"\nexport * from \"./ElementLabel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_editor_content = _resolveComponent(\"editor-content\")!\n  const _component_editor_menu = _resolveComponent(\"editor-menu\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"h-full relative overflow-hidden transform\", { 'pb-10 delay-150': _ctx.showMenu }])\n  }, [\n    _createVNode(_component_editor_content, {\n      editor: _ctx.editor,\n      spellcheck: _ctx.enableSpellcheck,\n      class: _normalizeClass([\"h-full overflow-y-auto editor p-8\", { unfocused: !_ctx.showMenu }])\n    }, null, 8, [\"editor\", \"spellcheck\", \"class\"]),\n    _createVNode(_Transition, { name: \"fade\" }, {\n      default: _withCtx(() => [\n        (_ctx.showMenu)\n          ? (_openBlock(), _createBlock(_component_editor_menu, {\n              key: 0,\n              class: \"absolute w-full bottom-0 left-0 h-10\",\n              editor: _ctx.editor,\n              onMouseenter: _ctx.handleMenuFocus,\n              onMouseleave: _ctx.handleMenuBlur,\n              characterLimit: _ctx.characterLimit\n            }, null, 8, [\"editor\", \"onMouseenter\", \"onMouseleave\", \"characterLimit\"]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ], 2))\n}","<template>\n  <div\n    class=\"px-4 py-1 flex justify-between items-center bg-gray-100 rounded-b-md\"\n    v-if=\"editor\"\n  >\n    <div class=\"flex justify-start items-center space-x-1\">\n      <!-- H1 -->\n      <text-menu-button\n        @click=\"editor.chain().focus().toggleHeading({ level: 1 }).run()\"\n        :active=\"editor.isActive('heading', { level: 1 })\"\n      >\n        <p>H1</p>\n      </text-menu-button>\n\n      <!-- H2 -->\n      <text-menu-button\n        @click=\"editor.chain().focus().toggleHeading({ level: 2 }).run()\"\n        :active=\"editor.isActive('heading', { level: 2 })\"\n      >\n        <p>H2</p>\n      </text-menu-button>\n\n      <!-- H3 -->\n      <text-menu-button\n        @click=\"editor.chain().focus().toggleHeading({ level: 3 }).run()\"\n        :active=\"editor.isActive('heading', { level: 3 })\"\n      >\n        <p>H3</p>\n      </text-menu-button>\n\n      <!-- Paragraph -->\n      <text-menu-button\n        @click=\"editor.chain().focus().setParagraph().run()\"\n        :active=\"editor.isActive('paragraph')\"\n      >\n        <p>P</p>\n      </text-menu-button>\n\n      <!-- Bulleted list -->\n      <text-menu-button\n        @click=\"editor.chain().focus().toggleBulletList().run()\"\n        :active=\"editor.isActive('bulletList')\"\n      >\n        <bulleted-list-icon></bulleted-list-icon>\n      </text-menu-button>\n\n      <!-- Ordered list -->\n      <text-menu-button\n        @click=\"editor.chain().focus().toggleOrderedList().run()\"\n        :active=\"editor.isActive('orderedList')\"\n      >\n        <ordered-list-icon></ordered-list-icon>\n      </text-menu-button>\n\n      <!-- Blockquote -->\n      <text-menu-button\n        @click=\"editor.chain().focus().toggleBlockquote().run()\"\n        :active=\"editor.isActive('blockquote')\"\n      >\n        <blockquote-icon></blockquote-icon>\n      </text-menu-button>\n\n      <!-- Divider -->\n      <text-menu-button\n        @click=\"editor.chain().focus().setHorizontalRule().run()\"\n      >\n        <p>—</p>\n      </text-menu-button>\n    </div>\n    <div v-if=\"characterLimit && editor.storage.characterCount\">\n      <p\n        class=\"text-sm text-gray-300\"\n        :class=\"{\n          'text-yellow-500':\n            editor.storage.characterCount.characters() >= 0.97 * characterLimit &&\n            !(editor.storage.characterCount.characters() === characterLimit),\n          'text-red-500': editor.storage.characterCount.characters() === characterLimit,\n        }\"\n      >\n        {{ Math.max(editor.storage.characterCount.characters(), 0) }}/{{ characterLimit }}\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TextMenuButton from './EditorMenuButton.vue';\nimport BlockquoteIcon from '../custom_icons/BlockquoteIcon.vue';\nimport BulletedListIcon from '../custom_icons/BulletedListIcon.vue';\nimport OrderedListIcon from '../custom_icons/OrderedListIcon.vue';\n\nexport default {\n  props: ['editor', 'characterLimit'],\n  components: {\n    TextMenuButton,\n    BlockquoteIcon,\n    BulletedListIcon,\n    OrderedListIcon,\n  },\n};\n</script>\n","<template>\n  <button\n    class=\"\n      h-7\n      w-7\n      rounded-md\n      flex\n      justify-center\n      items-center\n      hover:bg-gray-200\n      transition-all\n    \"\n    :class=\"{ 'bg-gray-200 hover:bg-gray-300': active }\"\n  >\n    <slot class=\"flex justify-center items-center\"></slot>\n  </button>\n</template>\n\n<script>\nexport default {\n  props: ['active'],\n};\n</script>\n","import { render } from \"./EditorMenuButton.vue?vue&type=template&id=317364b2\"\nimport script from \"./EditorMenuButton.vue?vue&type=script&lang=js\"\nexport * from \"./EditorMenuButton.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    class=\"icon icon-tabler icon-tabler-blockquote\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 24 24\"\n    stroke-width=\"2\"\n    stroke=\"#000000\"\n    fill=\"none\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n    <path d=\"M6 15h15\" />\n    <path d=\"M21 19h-15\" />\n    <path d=\"M15 11h6\" />\n    <path d=\"M21 7h-6\" />\n    <path d=\"M9 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2\" />\n    <path d=\"M3 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2\" />\n  </svg>\n</template>\n","import { render } from \"./BlockquoteIcon.vue?vue&type=template&id=e909418a\"\nconst script = {}\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    class=\"icon icon-tabler icon-tabler-list\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 24 24\"\n    stroke-width=\"2\"\n    stroke=\"#000000\"\n    fill=\"none\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n    <line x1=\"9\" y1=\"6\" x2=\"20\" y2=\"6\" />\n    <line x1=\"9\" y1=\"12\" x2=\"20\" y2=\"12\" />\n    <line x1=\"9\" y1=\"18\" x2=\"20\" y2=\"18\" />\n    <line x1=\"5\" y1=\"6\" x2=\"5\" y2=\"6.01\" />\n    <line x1=\"5\" y1=\"12\" x2=\"5\" y2=\"12.01\" />\n    <line x1=\"5\" y1=\"18\" x2=\"5\" y2=\"18.01\" />\n  </svg>\n</template>\n","import { render } from \"./BulletedListIcon.vue?vue&type=template&id=2541dfbd\"\nconst script = {}\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    class=\"icon icon-tabler icon-tabler-list-numbers\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 24 24\"\n    stroke-width=\"2\"\n    stroke=\"#000000\"\n    fill=\"none\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n    <path d=\"M11 6h9\" />\n    <path d=\"M11 12h9\" />\n    <path d=\"M12 18h8\" />\n    <path d=\"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4\" />\n    <path d=\"M6 10v-6l-2 2\" />\n  </svg>\n</template>\n","import { render } from \"./OrderedListIcon.vue?vue&type=template&id=74e6ec88\"\nconst script = {}\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./EditorMenu.vue?vue&type=template&id=47763005\"\nimport script from \"./EditorMenu.vue?vue&type=script&lang=js\"\nexport * from \"./EditorMenu.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* eslint-disable no-unused-vars */\nimport { Extension } from '@tiptap/core';\nimport { Plugin, PluginKey } from 'prosemirror-state';\nimport { DecorationSet, Decoration } from 'prosemirror-view';\n\nconst name = 'highlight';\n\nexport default Extension.create({\n  name,\n\n  addOptions() {\n    return {\n      getSelectedTextSegmentId: (): null | string => '',\n    };\n  },\n\n  addProseMirrorPlugins() {\n    return [\n      new Plugin({\n        key: new PluginKey(name),\n        props: {\n          decorations: (state) => {\n            const { doc } = state;\n            const selectedTextSegmentId = this.options.getSelectedTextSegmentId();\n            const decorations: Decoration[] = [];\n\n            doc.descendants((node, pos) => {\n              if (node.marks) {\n                let isSelected = false;\n                node.marks.forEach((mark) => {\n                  isSelected = isSelected\n                    || mark.attrs.textSegmentId === selectedTextSegmentId;\n                });\n\n                if (isSelected) {\n                  decorations.push(\n                    Decoration.inline(pos, pos + node.nodeSize, {\n                      class: 'selected',\n                    }),\n                  );\n                }\n              }\n            });\n\n            return DecorationSet.create(doc, decorations);\n          },\n        },\n      }),\n    ];\n  },\n});\n","\nimport { Editor, EditorContent, JSONContent } from '@tiptap/vue-3';\nimport StarterKit, { StarterKitOptions } from '@tiptap/starter-kit';\nimport CharacterCount from '@tiptap/extension-character-count';\nimport {\n  defineComponent,\n  onBeforeUnmount,\n  PropType,\n  Ref,\n  ref,\n  watch,\n  watchEffect,\n} from 'vue';\nimport EditorMenu from './EditorMenu.vue';\nimport TextSegmentMark from '../../modules/tiptap_extensions/TextSegmentMark';\nimport SuggestionMark from '../../modules/tiptap_extensions/SuggestionMark';\nimport { getTextSegmentIdOfSelectedMarks } from '../../modules/editorUtil';\nimport Highlight from '../../modules/tiptap_extensions/Highlight';\nimport { defaultTextSegmentId } from '@/modules/suggestionUtil';\n\nexport default defineComponent({\n  components: {\n    EditorContent,\n    EditorMenu,\n  },\n\n  props: {\n    modelValue: {\n      type: Object as PropType<JSONContent>,\n      required: true,\n    },\n    editable: {\n      type: Boolean,\n      default: () => true,\n    },\n    enableHistory: {\n      type: Boolean,\n      required: false,\n      default: () => true,\n    },\n    selectedTextSegmentId: {\n      type: String,\n      default: () => defaultTextSegmentId,\n    },\n    enableHighlight: {\n      type: Boolean,\n      required: false,\n      default: () => false,\n    },\n    characterLimit: {\n      type: Number,\n      required: false,\n      default: () => null,\n    },\n    enableSpellcheck: {\n      type: Boolean,\n      required: false,\n      default: () => false,\n    },\n    enableTextSegment: {\n      type: Boolean,\n      required: false,\n      default: () => true,\n    },\n    enableSuggestion: {\n      type: Boolean,\n      required: false,\n      default: () => true,\n    },\n  },\n\n  emits: {\n    // These are runtime validation functions. In this case, we only use them to get type\n    // for custom event emits.\n    userEdit: () => true,\n    markClick: (_textSegmentId: string) => true,\n    newEditor: (_editor: Editor) => true,\n    textSegmentSelectionChange: () => true,\n    'update:modelValue': (_editorContent: JSONContent) => true,\n  },\n\n  setup(props, { emit }) {\n    /**\n     * Editor options ------------------------------------------------------------------------------\n     */\n\n    const starterKitOptions: Partial<StarterKitOptions> = {\n      bold: false,\n      code: false,\n      italic: false,\n      strike: false,\n      codeBlock: false,\n      gapcursor: false,\n    };\n\n    if (!props.enableHistory) {\n      starterKitOptions.history = false;\n    }\n\n    const extensions: any[] = [\n      StarterKit.configure(starterKitOptions),\n    ];\n\n    if (props.enableTextSegment) {\n      extensions.push(\n        TextSegmentMark.Mark,\n      );\n    }\n\n    if (props.enableSuggestion) {\n      extensions.push(\n        SuggestionMark.Mark,\n      );\n    }\n\n    if (props.enableHighlight) {\n      extensions.push(\n        Highlight.configure({\n          // Deep copy string in chrome. Otherwise we get an infinite loop for some reason.\n          // eslint-disable-next-line prefer-template\n          getSelectedTextSegmentId: () => ` ${props.selectedTextSegmentId}`.slice(1),\n        }),\n      );\n    }\n\n    if (props.characterLimit !== null) {\n      extensions.push(\n        CharacterCount.configure({\n          limit: props.characterLimit,\n        }),\n      );\n    }\n\n    /**\n     * EDITOR CREATION & EVENTS --------------------------------------------------------------------\n     */\n\n    const editorIsFocused = ref(false);\n\n    const editor = ref(\n      new Editor({\n        content: props.modelValue,\n        editable: props.editable,\n        extensions,\n\n        // Triggered when the content of the editor changes\n        onUpdate: ({ editor: e }) => {\n          emit('update:modelValue', e.getJSON() as JSONContent);\n          emit('userEdit');\n        },\n\n        onSelectionUpdate: ({ editor: e }) => {\n          const textSegmentId = getTextSegmentIdOfSelectedMarks(e);\n          if (textSegmentId) {\n            emit('markClick', textSegmentId);\n          }\n        },\n\n        // Triggered if the user focuses the editor\n        onFocus: () => {\n          editorIsFocused.value = true;\n        },\n\n        // Triggered if the user focuses an element that is not the editor\n        onBlur: () => {\n          editorIsFocused.value = false;\n        },\n      }),\n    ) as Ref<Editor>;\n\n    onBeforeUnmount(() => {\n      editor.value.destroy();\n    });\n\n    // Emitting the editor object allows the parent component to perform actions on the editor.\n    // E.g., selecting all text is easier this way.\n    emit('newEditor', editor.value);\n\n    // Listen to changes of the editor content.\n    // If there is an external change (something from the system, not the user),\n    // the actual editor content must be updated.\n    //\n    // This method is executed every time the editor content changes.\n    // => Potential performance improvement possible.\n    watch(\n      () => props.modelValue,\n      (newVal) => {\n        const isSameContent = JSON.stringify(editor.value.getJSON()) === JSON.stringify(newVal);\n\n        if (isSameContent) {\n          return;\n        }\n\n        const { pos } = editor.value.state.selection.$anchor;\n        editor.value\n          .chain()\n          .setContent(newVal, false)\n          .setTextSelection(pos)\n          .run();\n      },\n    );\n\n    /**\n     * Manually dispatches an editor transaction in order to trigger a re-application of any\n     * editor content decoration.\n     *\n     * E.g., if the text segment selection is changed, some styles need to be applied to the newly\n     * selected text segment in the editor. Calling this method will reevaluate the styles of all\n     * elements in the editor content.\n     */\n    function applyDecoration(e: Editor) {\n      if (!e) return;\n      const { state, view } = e;\n\n      const transaction = state.tr;\n      view.dispatch(transaction);\n    }\n\n    watch(\n      () => props.selectedTextSegmentId,\n      () => {\n        emit('textSegmentSelectionChange');\n        applyDecoration(editor.value);\n      },\n    );\n\n    /**\n     * EDITOR MENU ---------------------------------------------------------------------------------\n     */\n\n    const menuIsFocused = ref(false);\n\n    function handleMenuFocus() {\n      menuIsFocused.value = true;\n    }\n\n    function handleMenuBlur() {\n      menuIsFocused.value = false;\n    }\n\n    const showMenu = ref(false);\n\n    watchEffect(() => {\n      showMenu.value = props.editable && (menuIsFocused.value || editorIsFocused.value);\n    });\n\n    return {\n      editor,\n      handleMenuBlur,\n      handleMenuFocus,\n      showMenu,\n    };\n  },\n});\n","import { render } from \"./Tiptap.vue?vue&type=template&id=605cc1ed&ts=true\"\nimport script from \"./Tiptap.vue?vue&type=script&lang=ts\"\nexport * from \"./Tiptap.vue?vue&type=script&lang=ts\"\n\nimport \"./Tiptap.vue?vue&type=style&index=0&id=605cc1ed&lang=scss\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, resolveComponent as _resolveComponent, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, Teleport as _Teleport, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"z-30 fixed inset-0 flex justify-center items-center pointer-events-none\",\n  style: {\"z-index\":\"10001\"}\n}\nconst _hoisted_2 = { class: \"max-h-full overflow-auto block p-8\" }\nconst _hoisted_3 = { class: \"font-heading text-2xl\" }\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" Dictionary Options: \")\nconst _hoisted_5 = { class: \"text-gray-400 ml-0.5\" }\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"p\", null, \" It is possible to refine the suggestions with the help of dictionaries. If there is a dictionary entry for a specific word, suggestions will include the translation found in this entry with a higher probability. \", -1)\nconst _hoisted_7 = { key: 0 }\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"h2\", { class: \"mt-6 font-heading\" }, \"Custom Dictionary\", -1)\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"p\", null, \" Each entry should be put into a separate line. The word in the source language should be on the left and the translation should be on the right. \", -1)\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"mt-4\" }, \" For example, this is what entries should look like for the language pair English to German: \", -1)\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"my-4 border-l-2 border-gray-300 pl-4 text-gray-700 font-mono text-sm\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"hello=grüezi\"),\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"bicycle=Velo\")\n], -1)\nconst _hoisted_12 = { key: 1 }\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"h2\", { class: \"mt-6 font-heading\" }, \"Other Dictionaries\", -1)\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"mb-4\" }, \" Below, you can select which other dictionaries you want to use. \", -1)\nconst _hoisted_15 = { class: \"font-bold\" }\nconst _hoisted_16 = [\"checked\", \"onChange\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_x_icon = _resolveComponent(\"x-icon\")!\n  const _component_base_card = _resolveComponent(\"base-card\")!\n\n  return (_openBlock(), _createBlock(_Teleport, { to: \"body\" }, [\n    _createVNode(_Transition, { name: \"fade\" }, {\n      default: _withCtx(() => [\n        (_ctx.visible)\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: \"fixed inset-0 bg-black opacity-60\",\n              style: {\"z-index\":\"10000\"},\n              onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.dismiss && _ctx.dismiss(...args)))\n            }))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }),\n    _createVNode(_Transition, { name: \"fade-move-up\" }, {\n      default: _withCtx(() => [\n        (_ctx.visible)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n              _createVNode(_component_base_card, {\n                class: \"h-full w-full mx-8 my-10 min-w-md max-w-3xl relative flex-col pointer-events-auto\",\n                style: {\"max-height\":\"90%\"}\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"button\", {\n                    class: \"absolute top-5 right-5 w-6 h-6 text-gray-400\",\n                    onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.dismiss && _ctx.dismiss(...args)))\n                  }, [\n                    _createVNode(_component_x_icon)\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"h1\", _hoisted_3, [\n                      _hoisted_4,\n                      _createElementVNode(\"span\", _hoisted_5, _toDisplayString(_ctx.languagePairKey.toUpperCase()), 1)\n                    ]),\n                    _hoisted_6,\n                    (_ctx.showUserDict)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                          _hoisted_8,\n                          _hoisted_9,\n                          _hoisted_10,\n                          _hoisted_11,\n                          _withDirectives(_createElementVNode(\"textarea\", {\n                            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.newUserDictRaw) = $event)),\n                            class: _normalizeClass([\"w-full border-2 p-4 rounded-md\", { 'ring-red-400 ring-4': !_ctx.inputIsValid }]),\n                            name: \"\",\n                            id: \"\",\n                            rows: \"10\"\n                          }, null, 2), [\n                            [_vModelText, _ctx.newUserDictRaw]\n                          ])\n                        ]))\n                      : _createCommentVNode(\"\", true),\n                    (_ctx.availableDictionaries.length > 0)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                          _hoisted_13,\n                          _hoisted_14,\n                          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.availableDictionaries, (title, index) => {\n                            return (_openBlock(), _createElementBlock(\"div\", {\n                              key: index,\n                              class: \"flex justify-between items-center py-1.5 px-4 bg-gray-100 mb-2 rounded-md\"\n                            }, [\n                              _createElementVNode(\"h2\", _hoisted_15, _toDisplayString(title), 1),\n                              _createElementVNode(\"input\", {\n                                type: \"checkbox\",\n                                checked: _ctx.newSelectedDictionaries.includes(title),\n                                onChange: ($event: any) => (_ctx.updateDictionarySelection(index, ($event!.target! as any).checked!))\n                              }, null, 40, _hoisted_16)\n                            ]))\n                          }), 128))\n                        ]))\n                      : _createCommentVNode(\"\", true)\n                  ])\n                ]),\n                _: 1\n              })\n            ]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ]))\n}","\nimport {\n  defineComponent, ref, watchEffect, PropType,\n} from 'vue';\nimport { XIcon } from '@heroicons/vue/outline';\nimport BaseCard from '../UI/BaseCard.vue';\nimport {\n  LanguageCode,\n  LanguagePairKey,\n  NotificationMessageType,\n} from '@/modules/types';\nimport options from '@/modules/options';\nimport { useNotifier, useStore } from '@/modules/injectUtil';\nimport { userDictShouldBeDisplayed, validateUserDict } from '@/modules/dictUtil';\n\nexport default defineComponent({\n  components: {\n    BaseCard,\n    XIcon,\n  },\n  emits: {\n    dismiss: () => true,\n  },\n  props: {\n    languagePairKey: {\n      type: String as PropType<LanguagePairKey<LanguageCode, LanguageCode>>,\n      required: true,\n    },\n    visible: {\n      type: Boolean,\n      required: true,\n    },\n  },\n  setup(props, { emit }) {\n    const notifier = useNotifier();\n    const { state, methods } = useStore();\n\n    // Object containing all info about the dictionaries of the current language pair\n    const dictionaries = state.dictionaries[props.languagePairKey];\n\n    if (!dictionaries) {\n      throw new Error(\n        `The state does not contain information about dictionaries for the language pair ${props.languagePairKey}. The language pair key might be incorrect.`,\n      );\n    }\n\n    /**\n     * USER DEFINED DICTIONARY ---------------------------------------------------------------------\n     */\n\n    const newUserDictRaw = ref(dictionaries.userDictRaw);\n\n    let lastEditTime = Date.now();\n    // This will be updated immediately bu the next method.\n    const inputIsValid = ref(true);\n    watchEffect(() => {\n      const thisEditTime = Date.now();\n      lastEditTime = thisEditTime;\n\n      let ok = true;\n\n      try {\n        validateUserDict(newUserDictRaw.value);\n      } catch (error: any) {\n        ok = false;\n\n        // If they have stopped making edits and the input is still invalid,\n        // tell them what is wrong.\n        setTimeout(() => {\n          if (thisEditTime !== lastEditTime) {\n            // They edited it again in the meantime.\n            return;\n          }\n\n          notifier.dismissCurrentNotification();\n          notifier.notify(error.message, {\n            messageType: NotificationMessageType.alert,\n          });\n        }, 2000);\n      }\n\n      // If the input is invalid, immediately provide visual feedback to the user.\n      inputIsValid.value = ok;\n      if (ok) {\n        notifier.dismissCurrentNotification();\n      }\n\n      // This will only parse the valid lines. Thus, we can parse every time the input changes.\n      methods.updateUserDictRaw(props.languagePairKey, newUserDictRaw.value);\n    });\n\n    /**\n     * OTHER DICTIONARY SELECTION ------------------------------------------------------------------\n     */\n\n    const newSelectedDictionaries = ref(dictionaries.selectedDicts);\n    // This function will be called if the user selects/deselects a dictionary.\n    function updateDictionarySelection(index: number, selected: boolean) {\n      const changeVal = dictionaries.availableDicts[index];\n\n      if (!changeVal) {\n        console.warn(\n          'Selected dictionary cannot be found.', 'Index:', index, 'Selected:', selected, 'Value:', changeVal,\n        );\n        return;\n      }\n\n      if (selected) {\n        if (options.allowMultipleDictSelection) {\n          newSelectedDictionaries.value.push(changeVal);\n        } else {\n          newSelectedDictionaries.value = [changeVal];\n        }\n      } else {\n        newSelectedDictionaries.value = newSelectedDictionaries.value.filter(\n          (v) => v !== changeVal,\n        );\n      }\n\n      methods.updateSelectedDicts(\n        props.languagePairKey,\n        newSelectedDictionaries.value,\n      );\n    }\n\n    /**\n     * MISC ----------------------------------------------------------------------------------------\n     */\n\n    function dismiss() {\n      emit('dismiss');\n    }\n\n    return {\n      dismiss,\n      newUserDictRaw,\n      updateDictionarySelection,\n      availableDictionaries: dictionaries.availableDicts,\n      newSelectedDictionaries,\n      inputIsValid,\n      showUserDict: userDictShouldBeDisplayed(props.languagePairKey),\n    };\n  },\n});\n","import { render } from \"./TheDictionaryOptions.vue?vue&type=template&id=025bbe6a&ts=true\"\nimport script from \"./TheDictionaryOptions.vue?vue&type=script&lang=ts\"\nexport * from \"./TheDictionaryOptions.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default {\n  type: 'doc',\n  content: [\n    {\n      type: 'heading',\n      attrs: {\n        level: 1,\n      },\n      content: [\n        {\n          type: 'text',\n          text: 'Die Bremer Stadtmusikanten',\n        },\n      ],\n    },\n    {\n      type: 'paragraph',\n      content: [\n        {\n          type: 'text',\n          text: 'Es hatte ein Mann einen Esel, der schon lange Jahre die Säcke unverdrossen zur Mühle getragen hatte, dessen Kräfte aber nun zu Ende gingen, so daß er zur Arbeit immer untauglicher ward. Da dachte der Herr daran, ihn aus dem Futter zu schaffen, aber der Esel merkte, daß kein guter Wind wehte, lief fort und machte sich auf den Weg nach Bremen; dort, meinte er, könnte er ja Stadtmusikant werden. Als er ein Weilchen fortgegangen war, fand er einen Jagdhund auf dem Wege liegen, der jappte wie einer, der sich müde gelaufen hat. \"Nun, was jappst du so, Packan?\" fragte der Esel. \"Ach,\" sagte der Hund, \"weil ich alt bin und jeden Tag schwächer werde, auch auf der Jagd nicht mehr fort kann, hat mich mein Herr wollen totschlagen, da hab ich Reißaus genommen; aber womit soll ich nun mein Brot verdienen?\" - \"Weißt du was?\" sprach der Esel, \"ich gehe nach Bremen und werde dort Stadtmusikant, geh mit und laß dich auch bei der Musik annehmen. Ich spiele die Laute und du schlägst die Pauken.\" Der Hund war\\'s zufrieden, und sie gingen weiter. Es dauerte nicht lange, so saß da eine Katze an dem Weg und macht ein Gesicht wie drei Tage Regenwetter. \"Nun, was ist dir in die Quere gekommen, alter Bartputzer?\" sprach der Esel. \"Wer kann da lustig sein, wenn\\'s einem an den Kragen geht,\" antwortete die Katze, \"weil ich nun zu Jahren komme, meine Zähne stumpf werden, und ich lieber hinter dem Ofen sitze und spinne, als nach Mäusen herumjagen, hat mich meine Frau ersäufen wollen; ich habe mich zwar noch fortgemacht, aber nun ist guter Rat teuer: wo soll ich hin?\" - \"Geh mit uns nach Bremen, du verstehst dich doch auf die Nachtmusik, da kannst du ein Stadtmusikant werden.\" Die Katze hielt das für gut und ging mit. Darauf kamen die drei Landesflüchtigen an einem Hof vorbei, da saß auf dem Tor der Haushahn und schrie aus Leibeskräften. \"Du schreist einem durch Mark und Bein,\" sprach der Esel, \"was hast du vor?\" - \"Da hab\\' ich gut Wetter prophezeit,\" sprach der Hahn, \"weil unserer lieben Frauen Tag ist, wo sie dem Christkindlein die Hemdchen gewaschen hat und sie trocknen will; aber weil morgen zum Sonntag Gäste kommen, so hat die Hausfrau doch kein Erbarmen und hat der Köchin gesagt, sie wollte mich morgen in der Suppe essen, und da soll ich mir heut abend den Kopf abschneiden lassen. Nun schrei ich aus vollem Hals, solang ich kann.\" - \"Ei was, du Rotkopf,\" sagte der Esel, \"zieh lieber mit uns fort, wir gehen nach Bremen, etwas Besseres als den Tod findest du überall; du hast eine gute Stimme, und wenn wir zusammen musizieren, so muß es eine Art haben.\" Der Hahn ließ sich den Vorschlag gefallen, und sie gingen alle vier zusammen fort.',\n        },\n      ],\n    },\n    {\n      type: 'paragraph',\n      content: [\n        {\n          type: 'text',\n          text: 'Sie konnten aber die Stadt Bremen in einem Tag nicht erreichen und kamen abends in einen Wald, wo sie übernachten wollten. Der Esel und der Hund legten sich unter einen großen Baum, die Katze und der Hahn machten sich in die Äste, der Hahn aber flog bis an die Spitze, wo es am sichersten für ihn war. Ehe er einschlief, sah er sich noch einmal nach allen vier Winden um, da deuchte ihn, er sähe in der Ferne ein Fünkchen brennen, und rief seinen Gesellen zu, es müßte nicht gar weit ein Haus sein, denn es scheine ein Licht. Sprach der Esel: \"So müssen wir uns aufmachen und noch hingehen, denn hier ist die Herberge schlecht.\" Der Hund meinte: \"Ein paar Knochen und etwas Fleisch dran täten ihm auch gut.\" Also machten sie sich auf den Weg nach der Gegend, wo das Licht war, und sahen es bald heller schimmern, und es ward immer größer, bis sie vor ein helles, erleuchtetes Räuberhaus kamen. Der Esel, als der größte, näherte sich dem Fenster und schaute hinein. \"Was siehst du, Grauschimmel?\" fragte der Hahn. \"Was ich sehe?\" antwortete der Esel, \"einen gedeckten Tisch mit schönem Essen und Trinken, und Räuber sitzen daran und lassen\\'s sich wohl sein.\" - \"Das wäre was für uns,\" sprach der Hahn. \"Ja, ja, ach, wären wir da!\" sagte der Esel. Da ratschlagten die Tiere, wie sie es anfangen müßten, um die Räuber hinauszujagen und fanden endlich ein Mittel. Der Esel mußte sich mit den Vorderfüßen auf das Fenster stellen, der Hund auf des Esels Rücken springen, die Katze auf den Hund klettern, und endlich flog der Hahn hinauf, und setzte sich der Katze auf den Kopf. Wie das geschehen war, fingen sie auf ein Zeichen insgesamt an, ihre Musik zu machen: der Esel schrie, der Hund bellte, die Katze miaute und der Hahn krähte. Dann stürzten sie durch das Fenster in die Stube hinein, daß die Scheiben klirrten. Die Räuber fuhren bei dem entsetzlichen Geschrei in die Höhe, meinten nicht anders, als ein Gespenst käme herein, und flohen in größter Furcht in den Wald hinaus. Nun setzten sich die vier Gesellen an den Tisch, nahmen mit dem vorlieb, was übriggeblieben war, und aßen nach Herzenslust.',\n        },\n      ],\n    },\n    {\n      type: 'paragraph',\n    },\n  ],\n};\n","\nimport {\n  ref, watchEffect, defineComponent, computed,\n} from 'vue';\nimport { useRouter } from 'vue-router';\nimport { TranslateIcon, XIcon } from '@heroicons/vue/solid';\nimport { BookOpenIcon } from '@heroicons/vue/outline';\n\nimport { JSONContent } from '@tiptap/core';\nimport { log } from 'loglevel';\nimport { parseEditorContent } from '../modules/editorUtil';\nimport { requestTranslationData } from '../modules/serverUtil';\n\nimport BaseSelector from '../components/UI/BaseSelector.vue';\nimport BaseButton from '../components/UI/BaseButton.vue';\nimport BaseDialog from '../components/UI/BaseDialog.vue';\nimport BaseCard from '../components/UI/BaseCard.vue';\nimport ElementLabel from '../components/start_view/ElementLabel.vue';\nimport Tiptap from '../components/editor/Tiptap.vue';\nimport TheDictionaryOptions from '@/components/start_view/TheDictionaryOptions.vue';\nimport { NotificationMessageType } from '@/modules/types';\nimport {\n  authenticationIsEnabled,\n  getLanguagePairKey,\n  onlyUniqueValues,\n} from '@/modules/otherUtil';\nimport options from '@/modules/options';\nimport { useNotifier, useStore } from '@/modules/injectUtil';\nimport { userDictShouldBeDisplayed } from '@/modules/dictUtil';\nimport demoSrcText from '@/demoHelpers/demoSrcText';\n\nexport default defineComponent({\n  name: 'Home',\n  components: {\n    SrcLangSelector: BaseSelector,\n    trgLangSelector: BaseSelector,\n    ElementLabel,\n    BaseButton,\n    BaseDialog,\n    BaseCard,\n    TranslateIcon,\n    Tiptap,\n    BookOpenIcon,\n    TheDictionaryOptions,\n    XIcon,\n  },\n  setup() {\n    const notifier = useNotifier();\n    const { state, methods } = useStore();\n    const router = useRouter();\n\n    /**\n     * LANGUAGE SELECTION --------------------------------------------------------------------------\n     */\n\n    const selectedSrcLangCode = ref(state.srcLang);\n    const selectedTrgLangCode = ref(state.trgLang);\n\n    if (\n      // Selected language pair is not available\n      options.availableLanguagePairs.filter(\n        (x) => x.from === selectedSrcLangCode.value\n          && x.to === selectedTrgLangCode.value,\n      ).length === 0\n    ) {\n      const firstAvailableLanguagePair = options.availableLanguagePairs[0];\n      if (firstAvailableLanguagePair === undefined) {\n        throw new Error('No available language pair was specified in options.ts');\n      }\n\n      selectedSrcLangCode.value = firstAvailableLanguagePair.from;\n      selectedTrgLangCode.value = firstAvailableLanguagePair.to;\n    }\n\n    const languagePairKey = computed(() => getLanguagePairKey(\n      selectedSrcLangCode.value,\n      selectedTrgLangCode.value,\n    ));\n\n    const srcLangs = ref(\n      options.availableLanguagePairs\n        .map((pair) => pair.from)\n        .filter((onlyUniqueValues)),\n    );\n    const trgLangs = ref(\n      options.availableLanguagePairs\n        .map((pair) => pair.to)\n        .filter(onlyUniqueValues),\n    );\n\n    // Index of the selected source language in the srcLangs array\n    const selectedSrcLangIndex = ref(\n      srcLangs.value.findIndex((el) => el === selectedSrcLangCode.value),\n    );\n\n    // Index of the selected target language in the trgLangs array\n    const selectedTrgLangIndex = ref(\n      trgLangs.value.findIndex((el) => el === selectedTrgLangCode.value),\n    );\n\n    // Update the list of selectable targetLanguages if the selected source language is updated.\n    watchEffect(() => {\n      log('Updating available target languages');\n      trgLangs.value = options.availableLanguagePairs\n        .filter((pair) => pair.from === selectedSrcLangCode.value)\n        .map((pair) => pair.to)\n        .filter(onlyUniqueValues);\n    });\n\n    // Listen to changes in the source language selection\n    watchEffect(() => {\n      try {\n        selectedSrcLangCode.value = srcLangs.value[selectedSrcLangIndex.value];\n        methods.updateState({\n          srcLang: selectedSrcLangCode.value,\n        });\n      } catch (error: any) {\n        notifier.notify(error.message, {\n          messageType: NotificationMessageType.error,\n        });\n      }\n    });\n\n    // Listen to changes in the target language selection\n    watchEffect(() => {\n      try {\n        selectedTrgLangCode.value = trgLangs.value[selectedTrgLangIndex.value];\n        methods.updateState({\n          trgLang: selectedTrgLangCode.value,\n        });\n      } catch (error: any) {\n        notifier.notify(error.message, {\n          messageType: NotificationMessageType.error,\n        });\n      }\n    });\n\n    /**\n     * EDITOR --------------------------------------------------------------------------------------\n     */\n\n    // const editorContent = ref<JSONContent>({ type: 'doc' });\n    const editorContent = ref<JSONContent>(demoSrcText);\n\n    Object.assign(editorContent.value, state.originalEditorContent);\n\n    // Listen to updates in the editor\n    watchEffect(() => {\n      methods.updateState({\n        originalEditorContent: editorContent.value,\n      });\n    });\n\n    /**\n     * TRANSLATION ---------------------------------------------------------------------------------\n     */\n\n    const showTranslationDialog = ref(false);\n    let latestTranslationId = state.translationSessionId;\n\n    async function startTranslation() {\n      try {\n        const thisTranslationId = state.translationSessionId;\n        latestTranslationId = thisTranslationId;\n\n        showTranslationDialog.value = true;\n\n        const { textSegments, structure } = await parseEditorContent(\n          editorContent.value,\n        );\n\n        methods.updateState({\n          originalStructure: structure,\n          originalTextSegments: textSegments,\n        });\n\n        if (!selectedSrcLangCode.value || !selectedTrgLangCode.value) {\n          throw new Error('Source or target language is undefined.');\n        }\n\n        const response = await requestTranslationData(\n          textSegments,\n          selectedSrcLangCode.value,\n          selectedTrgLangCode.value,\n          state.translationSessionId,\n          state.user,\n          state.dictionaries[languagePairKey.value].userDictJSON,\n          state.dictionaries[languagePairKey.value].selectedDicts,\n        );\n\n        if (\n          // User has dismissed the dialog and therefore aborted the translation.\n          !showTranslationDialog.value\n          // The response corresponds to a previous translation request.\n          || latestTranslationId !== thisTranslationId\n        ) {\n          return;\n        }\n\n        methods.updateState({\n          textSegmentsFromApi: response,\n        });\n\n        showTranslationDialog.value = false;\n        router.push({\n          name: 'SuggestionsView',\n        });\n      } catch (error: any) {\n        showTranslationDialog.value = false;\n        notifier.notify(`Translation failed: ${error.message}`, {\n          messageType: NotificationMessageType.error,\n        });\n      }\n    }\n\n    function abortTranslation() {\n      showTranslationDialog.value = false;\n    }\n\n    /**\n     * DICTIONARIES --------------------------------------------------------------------------------\n     */\n\n    const dictionaryOptionsAreVisible = ref(false);\n\n    function showDictionaryOptions() {\n      dictionaryOptionsAreVisible.value = true;\n    }\n\n    function hideDictionaryOptions() {\n      dictionaryOptionsAreVisible.value = false;\n    }\n\n    const dictOptionsAvailable = computed(() => userDictShouldBeDisplayed(languagePairKey.value)\n      || state.dictionaries[languagePairKey.value].availableDicts.length > 0);\n\n    /**\n     * MISC ----------------------------------------------------------------------------------------\n     */\n\n    const characterLimit = options.enableCharacterLimit\n      ? options.characterLimit\n      : undefined;\n\n    const demoNotificationIsVisible = ref(false);\n\n    setTimeout(() => {\n      demoNotificationIsVisible.value = true;\n    }, 700);\n\n    return {\n      languagePairKey,\n      srcLangs,\n      trgLangs,\n      selectedSrcLangIndex,\n      selectedTrgLangIndex,\n      startTranslation,\n      editorContent,\n      abortTranslation,\n      showTranslationDialog,\n      authenticationIsEnabled,\n      dictionaryOptionsAreVisible,\n      showDictionaryOptions,\n      hideDictionaryOptions,\n      characterLimit,\n      dictOptionsAvailable,\n      enableSpellcheck: options.enableSpellcheck,\n      demoNotificationIsVisible,\n    };\n  },\n});\n","import { render } from \"./StartView.vue?vue&type=template&id=4ed5b06d&ts=true\"\nimport script from \"./StartView.vue?vue&type=script&lang=ts\"\nexport * from \"./StartView.vue?vue&type=script&lang=ts\"\n\nimport \"./StartView.vue?vue&type=style&index=0&id=4ed5b06d&lang=scss\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeStyle as _normalizeStyle, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1f979a5d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"h-full w-full fixed bg-gradient-to-bl from-gray-100 to-gray-200 flex flex-grow-0 flex-col space-y-4 p-4\" }\nconst _hoisted_2 = {\n  class: \"flex justify-between transition-all rounded-md flex-shrink pointer-events-none\",\n  style: {\"z-index\":\"100000\"}\n}\nconst _hoisted_3 = { class: \"flex justify-start space-x-5 pointer-events-auto\" }\nconst _hoisted_4 = { class: \"flex justify-start space-x-5 pointer-events-auto mr-96\" }\nconst _hoisted_5 = { class: \"flex space-x-1\" }\nconst _hoisted_6 = { class: \"w-full h-full flex-grow-0 flex space-x-2 min-h-0\" }\nconst _hoisted_7 = { class: \"flex-1 overflow-hidden -m-2 p-2\" }\nconst _hoisted_8 = { class: \"flex-1 overflow-hidden -m-2 p-2\" }\nconst _hoisted_9 = {\n  class: \"flex-grow-0 flex flex-col space-y-4 -mb-4\",\n  style: {\"margin-top\":\"-72px\"}\n}\nconst _hoisted_10 = {\n  key: 0,\n  class: \"h-full w-full flex justify-center items-center\"\n}\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"w-96 -mx-2 flex flex-col items-center\" }, [\n  /*#__PURE__*/_createElementVNode(\"h3\", { class: \"font-bold text-2xl text-gray-400\" }, \"Looks good!\"),\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"text-gray-400\" }, \"There are no suggestions available.\")\n], -1))\nconst _hoisted_12 = [\n  _hoisted_11\n]\nconst _hoisted_13 = {\n  key: 1,\n  class: \"overflow-y-auto h-full space-y-4 -mx-2 px-2 pb-96 w-96\",\n  style: {\"padding-top\":\"72px\"}\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_arrow_left_icon = _resolveComponent(\"arrow-left-icon\")!\n  const _component_base_button = _resolveComponent(\"base-button\")!\n  const _component_back_icon = _resolveComponent(\"back-icon\")!\n  const _component_forward_icon = _resolveComponent(\"forward-icon\")!\n  const _component_clipboard_copy_icon = _resolveComponent(\"clipboard-copy-icon\")!\n  const _component_tiptap = _resolveComponent(\"tiptap\")!\n  const _component_base_card = _resolveComponent(\"base-card\")!\n  const _component_suggestion_card = _resolveComponent(\"suggestion-card\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createVNode(_component_base_button, {\n          class: \"flex-grow-0 flex-shrink-0\",\n          title: \"Translate another text\",\n          type: \"secondary\",\n          onClick: _ctx.goToStageOne\n        }, {\n          icon: _withCtx(() => [\n            _createVNode(_component_arrow_left_icon, { class: \"w-5 h-5 text-white\" })\n          ]),\n          _: 1\n        }, 8, [\"onClick\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createVNode(_component_base_button, {\n            title: \"\",\n            type: \"secondary\",\n            onClick: _ctx.undo,\n            disabled: !_ctx.undoIsPossible,\n            description: \"Undo changes\"\n          }, {\n            icon: _withCtx(() => [\n              _createVNode(_component_back_icon)\n            ]),\n            _: 1\n          }, 8, [\"onClick\", \"disabled\"]),\n          _createVNode(_component_base_button, {\n            title: \"\",\n            type: \"secondary\",\n            onClick: _ctx.redo,\n            disabled: !_ctx.redoIsPossible,\n            description: \"Redo changes\"\n          }, {\n            icon: _withCtx(() => [\n              _createVNode(_component_forward_icon)\n            ]),\n            _: 1\n          }, 8, [\"onClick\", \"disabled\"])\n        ]),\n        _createVNode(_component_base_button, {\n          title: \"Copy translated text\",\n          onClick: _ctx.copyTranslatedText,\n          class: \"flex-none\"\n        }, {\n          icon: _withCtx(() => [\n            _createVNode(_component_clipboard_copy_icon, { class: \"w-5 h-5\" })\n          ]),\n          _: 1\n        }, 8, [\"onClick\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createVNode(_component_base_card, { class: \"h-full text-gray-700\" }, {\n          default: _withCtx(() => [\n            _createVNode(_component_tiptap, {\n              modelValue: _ctx.editorContentUntranslated,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.editorContentUntranslated) = $event)),\n              editable: false,\n              enableHighlight: true,\n              onMarkClick: _ctx.handleMarkClick,\n              selectedTextSegmentId: _ctx.selectedTextSegmentId,\n              class: \"h-full\"\n            }, null, 8, [\"modelValue\", \"onMarkClick\", \"selectedTextSegmentId\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        _createVNode(_component_base_card, { class: \"h-full\" }, {\n          default: _withCtx(() => [\n            _createVNode(_component_tiptap, {\n              modelValue: _ctx.editorContentTranslated,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.editorContentTranslated) = $event)),\n              enableSpellcheck: _ctx.enableSpellcheck,\n              enableHistory: false,\n              enableHighlight: true,\n              onUserEdit: _ctx.handleUserEdit,\n              onNewEditor: _ctx.registerNewTranslatedTextEditor,\n              onCopy: _cache[2] || (_cache[2] = ($event: any) => (_ctx.handleTranslatedTextCopy())),\n              onMarkClick: _ctx.handleMarkClick,\n              selectedTextSegmentId: _ctx.selectedTextSegmentId,\n              class: \"h-full\"\n            }, null, 8, [\"modelValue\", \"enableSpellcheck\", \"onUserEdit\", \"onNewEditor\", \"onMarkClick\", \"selectedTextSegmentId\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _createElementVNode(\"div\", _hoisted_9, [\n        (!_ctx.textSegmentsWithActiveSuggestion.length)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _hoisted_12))\n          : (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.textSegmentsWithActiveSuggestion, (ts, i) => {\n                return (_openBlock(), _createBlock(_component_suggestion_card, {\n                  key: ts._id,\n                  textSegment: ts,\n                  selectedTextSegmentId: _ctx.selectedTextSegmentId,\n                  isFirstSuggestion: \n              ts._id === _ctx.idOfFirstTextSegmentWithActiveSuggestion\n            ,\n                  isLastSuggestion: \n              ts._id === _ctx.idOfLastTextSegmentWithActiveSuggestion\n            ,\n                  style: _normalizeStyle(`z-index: ${10000 - i}`),\n                  onNewFocus: _ctx.setNewTextSegmentSelection,\n                  onApply: ($event: any) => (_ctx.applySuggestionButtonClicked(ts)),\n                  onDiscard: ($event: any) => (_ctx.discardSuggestionButtonClicked(ts)),\n                  onPrevious: ($event: any) => (_ctx.selectPreviousTextSegmentWithActiveSuggestion(ts)),\n                  onNext: ($event: any) => (_ctx.selectNextTextSegmentWithActiveSuggestion(ts))\n                }, null, 8, [\"textSegment\", \"selectedTextSegmentId\", \"isFirstSuggestion\", \"isLastSuggestion\", \"style\", \"onNewFocus\", \"onApply\", \"onDiscard\", \"onPrevious\", \"onNext\"]))\n              }), 128))\n            ]))\n      ])\n    ])\n  ]))\n}","import { getDeepCopyOfObject, posMod } from './otherUtil';\n\ninterface HistoryManager<A> {\n  maxLength: number;\n  pos: number;\n  start: number;\n  end: number;\n  states: A[];\n  deepCopy: boolean;\n  lastReturnedState: A | null;\n}\n\nclass HistoryManager<A> {\n  constructor(maxLength = 10, deepCopy = true) {\n    this.maxLength = maxLength;\n    this.deepCopy = deepCopy;\n    this.clear();\n  }\n\n  /**\n   * Reset to initial state.\n   */\n  clear() {\n    this.pos = 0;\n    this.start = 0;\n    this.end = 0;\n    this.states = [];\n    this.lastReturnedState = null;\n  }\n\n  /**\n   * Checks whether it is possible to go one step back in the history.\n   */\n  canGoBack() {\n    if (\n      // Currently in oldest state\n      this.pos === this.start\n      // History is empty\n      || this.states.length === 0\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Goes back one step in the history\n   * @returns Whether the operation was successful.\n   */\n  goBack() {\n    if (!this.canGoBack()) {\n      return false;\n    }\n\n    this.pos = posMod(this.pos - 1, this.maxLength);\n    return true;\n  }\n\n  /**\n   * Checks whether it's possible to go one step forward in the history.\n   * @returns Whether it's possible to go one step forward\n   */\n  canGoForward() {\n    if (\n      // Currently in newest state\n      this.pos === this.end\n      // History is empty\n      || this.states.length === 0\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Goes one step forward in the history.\n   * @returns Whether the operation was successful.\n   */\n  goForward() {\n    if (!this.canGoForward()) {\n      return false;\n    }\n\n    this.pos = posMod(this.pos + 1, this.maxLength);\n    return true;\n  }\n\n  /**\n   * Adds a new state to the history and moves the current position to that state.\n   * @param state The state to be added to the history.\n   * @returns True if successful, false if unsuccessful. It is unsuccessful if it is a\n   * duplicate state.\n   */\n  addToHistory(state: A) {\n    // Abort if the new state is already the current state\n    if (\n      this.getState()\n      && JSON.stringify(this.getState()) === JSON.stringify(state)\n    ) {\n      return false;\n    }\n\n    if (this.states.length !== 0) {\n      this.end = posMod(this.pos + 1, this.maxLength);\n      this.pos = this.end;\n\n      if (this.start === this.end) {\n        this.start = posMod(this.end + 1, this.maxLength);\n      }\n    }\n\n    this.states[this.pos] = this.deepCopy ? getDeepCopyOfObject(state) : state;\n    return true;\n  }\n\n  /**\n   * Gets the state at the current position\n   * @returns the state at the current position (or null if the history is empty).\n   */\n  getState() {\n    if (this.states.length === 0) {\n      // History is empty\n      return null;\n    }\n\n    const result = this.states[this.pos];\n\n    return this.deepCopy ? getDeepCopyOfObject(result) : result;\n  }\n}\n\nexport default HistoryManager;\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"w-0 relative\",\n  style: {\"height\":\"72px\",\"margin-top\":\"-72px\"}\n}, null, -1)\nconst _hoisted_2 = {\n  key: 0,\n  class: \"absolute inset-0 opacity-10 ring-8 ring-blue-400 animate-pulse rounded-lg\"\n}\nconst _hoisted_3 = {\n  key: 1,\n  class: \"z-30\"\n}\nconst _hoisted_4 = { key: 2 }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h3\", { class: \"text-gray-400 text-sm mb-1\" }, \"Machine Translation\", -1)\nconst _hoisted_6 = { class: \"text-gray-800\" }\nconst _hoisted_7 = { class: \"w-full flex justify-center mt-7 mb-1\" }\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"h3\", { class: \"text-gray-400 text-sm mb-1\" }, \"Suggestion\", -1)\nconst _hoisted_9 = { class: \"mb-6\" }\nconst _hoisted_10 = { class: \"w-full flex space-x-2 justify-between\" }\nconst _hoisted_11 = { class: \"flex space-x-2\" }\nconst _hoisted_12 = {\n  key: 0,\n  class: \"flex space-x-2\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_arrow_down_icon = _resolveComponent(\"arrow-down-icon\")!\n  const _component_check_icon = _resolveComponent(\"check-icon\")!\n  const _component_base_button = _resolveComponent(\"base-button\")!\n  const _component_x_icon = _resolveComponent(\"x-icon\")!\n  const _component_arrow_up_icon = _resolveComponent(\"arrow-up-icon\")!\n  const _component_base_card = _resolveComponent(\"base-card\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([{ selected: _ctx.isSelected }, \"relative suggestion-card\"])\n  }, [\n    _hoisted_1,\n    _createVNode(_component_base_card, {\n      onClick: _cache[4] || (_cache[4] = ($event: any) => (_ctx.$emit('newFocus', _ctx.textSegment._id))),\n      class: _normalizeClass([\"min-h-24 flex-shrink-0 p-4 duration-300 ring-2 ring-transparent ring-inset h-full relative transform\", {\n        'ring-blue-300 bg-blue-50': _ctx.isSelected,\n        'cursor-pointer': !_ctx.isSelected,\n        'hover:shadow-lg hover:-translate-y-0.5 hover:duration-75' : !_ctx.isSelected,\n      }])\n    }, {\n      default: _withCtx(() => [\n        (_ctx.isFirstSuggestion && _ctx.showNudge)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2))\n          : _createCommentVNode(\"\", true),\n        (!_ctx.isSelected)\n          ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.textSegment.mtTextStructure, (s, i) => {\n                return (_openBlock(), _createElementBlock(\"span\", {\n                  key: i,\n                  class: _normalizeClass({ 'border-b-2 border-blue-400': s.highlight })\n                }, _toDisplayString(s.value), 3))\n              }), 128))\n            ]))\n          : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n              _hoisted_5,\n              _createElementVNode(\"p\", _hoisted_6, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.textSegment.mtTextStructure, (s, i) => {\n                  return (_openBlock(), _createElementBlock(\"span\", {\n                    key: i,\n                    class: _normalizeClass({\n              'bg-pink-400 bg-opacity-20 border-b-2 border-mtc_pink-300':\n                s.highlight,\n            })\n                  }, _toDisplayString(s.value), 3))\n                }), 128))\n              ]),\n              _createElementVNode(\"div\", _hoisted_7, [\n                _createVNode(_component_arrow_down_icon, { class: \"h-5 w-5 text-gray-400\" })\n              ]),\n              _hoisted_8,\n              _createElementVNode(\"p\", _hoisted_9, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.textSegment.apeTextStructure, (s, i) => {\n                  return (_openBlock(), _createElementBlock(\"span\", {\n                    key: i,\n                    class: _normalizeClass({\n              'bg-mtc_medium_aquamarine-400 bg-opacity-30 border-b-2 border-mtc_medium_aquamarine-700':\n                s.highlight,\n            })\n                  }, _toDisplayString(s.value), 3))\n                }), 128))\n              ]),\n              _createElementVNode(\"div\", _hoisted_10, [\n                _createElementVNode(\"div\", _hoisted_11, [\n                  _createVNode(_component_base_button, {\n                    title: \"Apply\",\n                    type: \"primary-green\",\n                    onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('apply')))\n                  }, {\n                    icon: _withCtx(() => [\n                      _createVNode(_component_check_icon, { class: \"w-5 h-5\" })\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_base_button, {\n                    title: \"Discard\",\n                    type: \"secondary\",\n                    onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.$emit('discard')))\n                  }, {\n                    icon: _withCtx(() => [\n                      _createVNode(_component_x_icon, { class: \"w-5 h-5\" })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                true\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                      _createVNode(_component_base_button, {\n                        disabled: _ctx.isFirstSuggestion,\n                        type: \"tertiary\",\n                        onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.$emit('previous')))\n                      }, {\n                        icon: _withCtx(() => [\n                          _createVNode(_component_arrow_up_icon, { class: \"w-5 h-5 -mx-2\" })\n                        ]),\n                        _: 1\n                      }, 8, [\"disabled\"]),\n                      _createVNode(_component_base_button, {\n                        disabled: _ctx.isLastSuggestion,\n                        type: \"tertiary\",\n                        onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.$emit('next')))\n                      }, {\n                        icon: _withCtx(() => [\n                          _createVNode(_component_arrow_down_icon, { class: \"w-5 h-5 -mx-2\" })\n                        ]),\n                        _: 1\n                      }, 8, [\"disabled\"])\n                    ]))\n                  : _createCommentVNode(\"\", true)\n              ])\n            ]))\n      ]),\n      _: 1\n    }, 8, [\"class\"])\n  ], 2))\n}","\nimport {\n  watchEffect, ref, PropType, defineComponent, computed,\n} from 'vue';\n\nimport {\n  ArrowDownIcon,\n  ArrowUpIcon,\n  CheckIcon,\n  XIcon,\n} from '@heroicons/vue/solid';\nimport BaseCard from '../UI/BaseCard.vue';\nimport BaseButton from '../UI/BaseButton.vue';\nimport { TextSegment } from '@/modules/types';\nimport { useStore } from '@/modules/injectUtil';\n\nexport default defineComponent({\n  components: {\n    BaseCard,\n    ArrowUpIcon,\n    ArrowDownIcon,\n    BaseButton,\n    CheckIcon,\n    XIcon,\n  },\n  props: {\n    textSegment: {\n      type: Object as PropType<TextSegment>,\n      required: true,\n    },\n    selectedTextSegmentId: {\n      type: String,\n      default: () => null,\n      required: false,\n    },\n    isFirstSuggestion: {\n      type: Boolean,\n      required: true,\n    },\n    isLastSuggestion: {\n      type: Boolean,\n      required: true,\n    },\n  },\n  emits: {\n    apply: () => true,\n    discard: () => true,\n    previous: () => true,\n    next: () => true,\n    newFocus: (_textSegmentId: string) => true,\n  },\n  setup(props) {\n    const store = useStore();\n    const showNudge = ref(false);\n\n    setTimeout(() => {\n      watchEffect(() => {\n        showNudge.value = store.state\n          .usingTheApplicationForTheFirstTime as boolean;\n      });\n    }, 5000);\n\n    const isSelected = computed(() => props.selectedTextSegmentId === props.textSegment._id);\n\n    watchEffect(() => {\n      if (isSelected.value) {\n        // eslint-disable-next-line no-unused-expressions\n        store?.methods.updateState({\n          usingTheApplicationForTheFirstTime: false,\n        });\n      }\n    });\n\n    return {\n      isSelected,\n      showNudge,\n    };\n  },\n});\n","import { render } from \"./SuggestionCard.vue?vue&type=template&id=2dc23651&ts=true\"\nimport script from \"./SuggestionCard.vue?vue&type=script&lang=ts\"\nexport * from \"./SuggestionCard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    class=\"icon icon-tabler icon-tabler-arrow-back-up\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 24 24\"\n    stroke-width=\"2\"\n    stroke=\"white\"\n    fill=\"none\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n    <path d=\"M9 13l-4 -4l4 -4m-4 4h11a4 4 0 0 1 0 8h-1\" />\n  </svg>\n</template>\n","import { render } from \"./BackIcon.vue?vue&type=template&id=0eae2908\"\nconst script = {}\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    class=\"icon icon-tabler icon-tabler-arrow-forward-up\"\n    width=\"20\"\n    height=\"20\"\n    viewBox=\"0 0 24 24\"\n    stroke-width=\"2\"\n    stroke=\"white\"\n    fill=\"none\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n    <path d=\"M15 13l4 -4l-4 -4m4 4h-11a4 4 0 0 0 0 8h1\" />\n  </svg>\n</template>\n","import { render } from \"./ForwardIcon.vue?vue&type=template&id=f1e48546\"\nconst script = {}\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","enum IdleStatus {\n  idle = 'idle',\n  active = 'active'\n}\n\nclass IdleTimer {\n  status: IdleStatus;\n\n  private intervalId: number;\n\n  private currentIntervalSeconds: number;\n\n  constructor(private onIdle: Function, private onActive: Function, private idleTimeoutsSeconds = [60, 60 * 3, 60 * 5]) {\n    this.status = IdleStatus.active;\n    this.intervalId = this.reset();\n\n    this.currentIntervalSeconds = 0;\n  }\n\n  /// Resets the timer and returns the new intervalId\n  reset = () => {\n    this.currentIntervalSeconds = 0;\n\n    // Remove existing interval\n    if (this.intervalId) {\n      clearInterval(this.intervalId);\n    }\n\n    if (this.status === IdleStatus.idle) {\n      this.status = IdleStatus.active;\n      this.onActive();\n    }\n\n    // Updates the timer by one second every second & sets status to idle on expiration\n    const intervalId = setInterval(() => {\n      this.currentIntervalSeconds += 1;\n\n      this.idleTimeoutsSeconds.forEach((threshold) => {\n        if (this.currentIntervalSeconds === threshold) {\n          this.status = IdleStatus.idle;\n          this.onIdle(threshold);\n        }\n      });\n\n      if (this.currentIntervalSeconds >= Math.max(...this.idleTimeoutsSeconds)) {\n        clearInterval(intervalId);\n      }\n    }, 1000);\n\n    this.intervalId = intervalId;\n    return intervalId;\n  };\n\n  registerEventListeners = () => {\n    document.addEventListener('click', this.reset);\n    document.addEventListener('keydown', this.reset);\n    document.addEventListener('wheel', this.reset);\n    document.addEventListener('mousemove', this.reset); // This does not seem to work\n  };\n\n  removeEventListeners = () => {\n    document.removeEventListener('click', this.reset);\n    document.removeEventListener('keydown', this.reset);\n    document.removeEventListener('wheel', this.reset);\n    document.removeEventListener('mousemove', this.reset); // This does not seem to work\n  };\n}\n\nexport default IdleTimer;\n","import scrollIntoView from 'smooth-scroll-into-view-if-needed';\n\nfunction scrollToElementsWithClass(cssClass: string) {\n  const elements = document.getElementsByClassName(cssClass);\n  Array.from(elements).forEach(async (el) => {\n    const isSuggestionCard = el.classList.contains('suggestion-card');\n    await scrollIntoView(el, {\n      behavior: 'smooth',\n      scrollMode: isSuggestionCard ? 'always' : 'if-needed',\n      block: isSuggestionCard ? 'start' : 'center',\n    });\n  });\n}\n\nexport {\n  // eslint-disable-next-line import/prefer-default-export\n  scrollToElementsWithClass,\n};\n","import options from './options';\nimport { getUserToken } from './serverUtil';\nimport IdleTimer from '@/modules/IdleTimer';\n\nimport { store } from '@/store';\n\nenum EventLogType {\n  IdleEvent = 'IdleEvent',\n  Idle1min = 'Idle1min',\n  Idle3min = 'Idle3min',\n  Idle5min = 'Idle5min',\n  ActiveEvent = 'ActiveEvent',\n  AcceptEvent = 'AcceptEvent',\n  RejectEvent = 'RejectEvent',\n  CopyEvent = 'CopyEvent',\n  UndoEvent = 'UndoEvent',\n  RedoEvent = 'RedoEvent',\n}\n\ntype EventPostBody = {\n  event: string,\n  userEmail: string | null | undefined,\n  timestamp: string,\n}\n\nclass EventLogger {\n  static eventRoute = '/events';\n\n  static onIdle = (idleThresholdSeconds: number) => {\n    switch (idleThresholdSeconds) {\n      case 60 * 5: {\n        return EventLogger.log(EventLogType.Idle5min);\n      }\n      case 60 * 3: {\n        return EventLogger.log(EventLogType.Idle3min);\n      }\n      case 60: {\n        return EventLogger.log(EventLogType.Idle1min);\n      }\n      default: {\n        return null;\n      }\n    }\n  };\n\n  static onActive = () => {\n    EventLogger.log(EventLogType.ActiveEvent);\n  };\n\n  static idleTimer = new IdleTimer(EventLogger.onIdle, EventLogger.onActive);\n\n  static async log(event: EventLogType) {\n    if (!store.state.user) {\n      console.debug('user is not defined');\n      return;\n    }\n\n    if (options.useFakeApi) {\n      // eslint-disable-next-line no-console\n      console.debug(`Skipped logging event of type: ${event} for user: ${store.state.user?.email} because fake API is being used`);\n      return;\n    }\n\n    const userToken: string = await getUserToken(store.state.user);\n\n    const postBody: EventPostBody = {\n      event,\n      userEmail: store.state.user?.email,\n      timestamp: new Date().toUTCString(),\n    };\n\n    const response = await fetch(`${options.baseUrlApi}${EventLogger.eventRoute}`, {\n      method: 'POST',\n      headers: {\n        Accept: '*/*',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userToken}`,\n      },\n      body: JSON.stringify(postBody),\n    });\n\n    if (!response.ok) {\n      throw Error(response.statusText);\n    }\n  }\n}\n\nexport { EventLogger, EventLogType };\n","\nimport {\n  computed, defineComponent, onBeforeUnmount, ref, toRefs, watch, watchEffect,\n} from 'vue';\nimport { useRouter } from 'vue-router';\nimport { ArrowLeftIcon, ClipboardCopyIcon } from '@heroicons/vue/solid';\n\nimport { JSONContent } from '@tiptap/core';\nimport { Editor } from '@tiptap/vue-3';\nimport { error as printError, warn } from 'loglevel';\nimport {\n  buildEditorContentWithMarks,\n  copyEditorContentAsText,\n  getSelectedTextSegments,\n  parseEditorContent,\n} from '@/modules/editorUtil';\nimport {\n  defaultTextSegmentId,\n  getCleanId,\n  getIdOfAdjacentTextSegmentWithActiveSuggestion,\n  getTextSegmentsWithActiveSuggestion,\n} from '@/modules/suggestionUtil';\nimport HistoryManager from '../modules/HistoryManager';\n\nimport BaseButton from '../components/UI/BaseButton.vue';\nimport BaseCard from '../components/UI/BaseCard.vue';\nimport Tiptap from '../components/editor/Tiptap.vue';\nimport SuggestionCard from '../components/suggestions_view/SuggestionCard.vue';\nimport BackIcon from '../components/custom_icons/BackIcon.vue';\nimport ForwardIcon from '../components/custom_icons/ForwardIcon.vue';\nimport { NotificationMessageType, StoreState, TextSegment } from '@/modules/types';\nimport { scrollToElementsWithClass } from '@/modules/scrollUtil';\nimport { sendPostEditData } from '@/modules/serverUtil';\nimport { getLanguagePairKey } from '@/modules/otherUtil';\nimport options from '@/modules/options';\nimport { useNotifier, useStore } from '@/modules/injectUtil';\nimport { EventLogger, EventLogType } from '@/modules/eventLogger';\n\nexport default defineComponent({\n  components: {\n    BaseButton,\n    BaseCard,\n    ArrowLeftIcon,\n    ClipboardCopyIcon,\n    Tiptap,\n    SuggestionCard,\n    BackIcon,\n    ForwardIcon,\n  },\n  mounted() {\n    EventLogger.idleTimer.registerEventListeners();\n  },\n  unmounted() {\n    EventLogger.idleTimer.removeEventListeners();\n  },\n  setup() {\n    const router = useRouter();\n    const notifier = useNotifier();\n    const {\n      state,\n      methods,\n    } = useStore();\n\n    const {\n      augmentedStructure,\n      augmentedTextSegments,\n      originalStructure,\n    } = toRefs(state);\n    const {\n      applySuggestion,\n      discardSuggestion,\n      applyEdits,\n      replaceState,\n      updateState,\n    } = methods;\n\n    /**\n     * TEXT SEGMENT SELECTION ----------------------------------------------------------------------\n     */\n\n    const textSegmentsWithActiveSuggestion = computed(\n      () => getTextSegmentsWithActiveSuggestion(augmentedTextSegments.value || []),\n    );\n    const idOfFirstTextSegmentWithActiveSuggestion = computed(\n      () => getCleanId(textSegmentsWithActiveSuggestion.value[0]?._id),\n    );\n    const idOfLastTextSegmentWithActiveSuggestion = computed(\n      () => getCleanId(textSegmentsWithActiveSuggestion.value.slice(-1)[0]?._id),\n    );\n\n    const selectedTextSegmentId = ref(defaultTextSegmentId);\n\n    /**\n     * @param id The newly selected id\n     * @param delay Delay in ms after which the new id should be selected\n     */\n    function setNewTextSegmentSelection(id: string | null, delay = 0) {\n      if (selectedTextSegmentId.value === id) return;\n      if (id === null) {\n        setNewTextSegmentSelection(defaultTextSegmentId, delay);\n        return;\n      }\n      // Timeout (delay) is necessary if this is triggered by a button press. If no timeout was specified,\n      // The focus would immediately be set back to the item in which the button was clicked.\n      setTimeout(() => {\n        selectedTextSegmentId.value = id;\n      }, delay);\n    }\n\n    function handleMarkClick(textSegmentId: string) {\n      try {\n        if (textSegmentId) {\n          setNewTextSegmentSelection(textSegmentId);\n        }\n      } catch (error: any) {\n        notifier.notify(`Action failed: ${error.message}`, {\n          messageType: NotificationMessageType.error,\n        });\n      }\n    }\n\n    /**\n     * EDITOR --------------------------------------------------------------------------------------\n     */\n\n    let translatedTextEditor: Editor | null = null;\n\n    // This method will be called once the Tiptap component has created the editor object.\n    function registerNewTranslatedTextEditor(e: Editor) {\n      translatedTextEditor = e;\n    }\n\n    // The Tiptap editor uses these objects to know what to display.\n    // It's a two-way binding. If user makes edits, these objects will reflect that.\n    const editorContentUntranslated = ref<JSONContent>({\n      type: 'doc',\n    });\n    const editorContentTranslated = ref<JSONContent>({\n      type: 'doc',\n    });\n\n    // Update editor contents if the underlying data changes.\n    // Data change --> Editor content change\n    watchEffect(() => {\n      try {\n        if (\n          !originalStructure.value\n          || !augmentedTextSegments.value\n          || !augmentedStructure.value\n        ) {\n          throw new Error(\n            'Original structure or augmentedTextSegments or augmentedStructure is not available.',\n          );\n        }\n\n        // Only the highlighting will change. The structure and the actual content always\n        // stay the same here.\n        editorContentUntranslated.value = buildEditorContentWithMarks(\n          originalStructure.value,\n          augmentedTextSegments.value,\n          true,\n        );\n\n        // Structure, content, and highlights can change here.\n        editorContentTranslated.value = buildEditorContentWithMarks(\n          augmentedStructure.value,\n          augmentedTextSegments.value,\n        );\n      } catch (error: any) {\n        notifier.notify(error.message, {\n          messageType: NotificationMessageType.error,\n        });\n      }\n    });\n\n    // Update the application data if the editor content changes\n    // Editor content change --> Data change\n    let lastUserEditTime = -1;\n\n    async function handleUserEdit(delay = 750) {\n      const thisUserEditTime = Date.now();\n      lastUserEditTime = thisUserEditTime;\n\n      try {\n        const {\n          textSegments,\n          structure,\n        } = await parseEditorContent(\n          editorContentTranslated.value,\n        );\n\n        // For performance reasons, only update the application data once the user has stopped\n        // making changes.\n        setTimeout(async () => {\n          try {\n            if (thisUserEditTime !== lastUserEditTime) {\n              // There has been a new user edit in the meantime.\n              return;\n            }\n\n            await applyEdits(textSegments);\n            updateState({\n              augmentedStructure: structure,\n            });\n          } catch (error: any) {\n            notifier.notify(`Edits could not be applied: ${error.message}`, {\n              messageType: NotificationMessageType.error,\n            });\n          }\n        }, delay);\n      } catch (error: any) {\n        notifier.notify(\n          `Editor content could not be parsed: ${error.message}`,\n          { messageType: NotificationMessageType.error },\n        );\n      }\n    }\n\n    /**\n     * HANDLE COPY ---------------------------------------------------------------------------------\n     */\n\n    async function handleTranslatedTextCopy() {\n      if (!translatedTextEditor) {\n        throw new Error('Editor for translated text does not exist.');\n      }\n\n      if (augmentedTextSegments.value === null) {\n        throw new Error(\n          'Cannot copy text because augmentedTextSegments is null',\n        );\n      }\n\n      let textSegmentsToSend: TextSegment[];\n\n      if (options.saveAllTextSegments) {\n        textSegmentsToSend = augmentedTextSegments.value;\n      } else {\n        textSegmentsToSend = getSelectedTextSegments(\n          translatedTextEditor,\n          augmentedTextSegments.value,\n        );\n      }\n\n      const langPairKey = getLanguagePairKey(state.srcLang, state.trgLang);\n\n      if (options.useFakeApi) {\n        console.debug('Skipped sending post edit data to API because fake api is used');\n      } else {\n        await sendPostEditData(\n          textSegmentsToSend,\n          state.srcLang,\n          state.trgLang,\n          state.translationSessionId,\n          state.user,\n          state.dictionaries[langPairKey].selectedDicts,\n          state.dictionaries[langPairKey].userDictJSON,\n        );\n      }\n\n      EventLogger.log(EventLogType.CopyEvent);\n    }\n\n    async function copyTranslatedText() {\n      try {\n        if (translatedTextEditor === null) {\n          throw new Error(\n            'Cannot copy translated text because the editor is missing.',\n          );\n        }\n\n        // Put all currently displayed translated text into clipboard\n        await copyEditorContentAsText(translatedTextEditor);\n\n        // Select entire editor content\n        translatedTextEditor.commands.selectAll();\n\n        // Send edits to backend\n        try {\n          await handleTranslatedTextCopy();\n        } catch (error) {\n          // Notifying the user of errors here is unnecessary because the outcome of this function does\n          // not influence the user. It is only for sending the edits to the backend.\n          warn('Sending edits to server failed');\n          printError(error);\n        }\n\n        // Clear selection\n        translatedTextEditor.commands.setTextSelection(0);\n\n        notifier.notify('Successfully copied the text!', {\n          automaticallyDismissAfter: 3000,\n          messageType: NotificationMessageType.success,\n        });\n      } catch (error: any) {\n        notifier.notify(`Failed to copy text: ${error.message}`, {\n          messageType: NotificationMessageType.error,\n        });\n      }\n    }\n\n    /**\n     * HISTORY -------------------------------------------------------------------------------------\n     */\n\n    const maxHistoryLength = 100;\n    const historyManager = new HistoryManager<StoreState>(maxHistoryLength);\n    historyManager.addToHistory(state);\n\n    // Enables/disables the history buttons\n    const undoIsPossible = ref(false);\n    const redoIsPossible = ref(false);\n\n    // Whenever the state changes, we add the new state to the history.\n    watch(\n      state,\n      (s) => {\n        if (!s.isInTransaction) {\n          historyManager.addToHistory(s);\n          undoIsPossible.value = historyManager.canGoBack();\n          redoIsPossible.value = historyManager.canGoForward();\n        }\n      },\n      { deep: true },\n    );\n\n    function undo() {\n      const { user } = state;\n\n      try {\n        if (historyManager.goBack()) {\n          const newState = historyManager.getState();\n          if (newState) {\n            newState.user = user;\n            replaceState(newState);\n            setNewTextSegmentSelection(null);\n            EventLogger.log(EventLogType.UndoEvent);\n          }\n        }\n      } catch (error: any) {\n        notifier.notify(`Failed to undo: ${error.message}`, {\n          messageType: NotificationMessageType.error,\n        });\n      }\n    }\n\n    function redo() {\n      const { user } = state;\n\n      try {\n        if (historyManager.goForward()) {\n          const newState = historyManager.getState();\n          if (newState) {\n            newState.user = user;\n            replaceState(newState);\n            setNewTextSegmentSelection(null);\n            EventLogger.log(EventLogType.RedoEvent);\n          }\n        }\n      } catch (error: any) {\n        notifier.notify(`Failed to redo: ${error.message}`, {\n          messageType: NotificationMessageType.error,\n        });\n      }\n    }\n\n    function processHistoryEventsInKeyboardEvent(event: KeyboardEvent) {\n      if ((event.metaKey || event.ctrlKey) && event.code === 'KeyZ') {\n        if (event.shiftKey) {\n          redo();\n        } else {\n          undo();\n        }\n      }\n    }\n\n    /**\n     * SUGGESTION ACTIONS --------------------------------------------------------------------------\n     */\n\n    /**\n     * @param textSegment The currently selected textSegment\n     */\n    function selectPreviousTextSegmentWithActiveSuggestion(\n      textSegment: TextSegment,\n    ) {\n      if (!augmentedTextSegments.value) {\n        return;\n      }\n      const id = getIdOfAdjacentTextSegmentWithActiveSuggestion(\n        textSegment,\n        augmentedTextSegments.value,\n        'backward',\n      );\n      setNewTextSegmentSelection(id, 20);\n    }\n\n    /**\n     * @param textSegment The currently selected textSegment\n     */\n    function selectNextTextSegmentWithActiveSuggestion(\n      textSegment: TextSegment,\n    ) {\n      if (!augmentedTextSegments.value) {\n        return;\n      }\n      const id = getIdOfAdjacentTextSegmentWithActiveSuggestion(\n        textSegment,\n        augmentedTextSegments.value,\n        'forward',\n      );\n      setNewTextSegmentSelection(id, 20);\n    }\n\n    async function applySuggestionButtonClicked(textSegment: TextSegment) {\n      try {\n        await applySuggestion(textSegment);\n        selectNextTextSegmentWithActiveSuggestion(textSegment);\n        EventLogger.log(EventLogType.AcceptEvent);\n      } catch (error: any) {\n        notifier.notify(`Action failed: ${error.message}`, {\n          messageType: NotificationMessageType.error,\n        });\n      }\n    }\n\n    async function discardSuggestionButtonClicked(textSegment: TextSegment) {\n      try {\n        await discardSuggestion(textSegment);\n        selectNextTextSegmentWithActiveSuggestion(textSegment);\n        EventLogger.log(EventLogType.RejectEvent);\n      } catch (error: any) {\n        notifier.notify(`Action failed: ${error.message}`, {\n          messageType: NotificationMessageType.error,\n        });\n      }\n    }\n\n    /**\n     * MISC ----------------------------------------------------------------------------------------\n     */\n\n    function goToStageOne() {\n      router.push({\n        name: 'StartView',\n      });\n    }\n\n    function processSaveEventInKeyboardEvent(event: KeyboardEvent) {\n      if ((event.metaKey || event.ctrlKey) && event.code === 'KeyS') {\n        event.preventDefault();\n        notifier.notify('Your progress is saved automatically!', {\n          messageType: NotificationMessageType.success,\n          automaticallyDismissAfter: 3000,\n        });\n      }\n    }\n\n    function handleKeyPress(event: KeyboardEvent) {\n      try {\n        processHistoryEventsInKeyboardEvent(event);\n        processSaveEventInKeyboardEvent(event);\n      } catch (error: any) {\n        notifier.notify(`Keyboard shortcut failed: ${error.message}`, {\n          messageType: NotificationMessageType.error,\n        });\n      }\n    }\n\n    document.addEventListener('keydown', handleKeyPress);\n    onBeforeUnmount(() => {\n      document.removeEventListener('keydown', handleKeyPress);\n    });\n\n    // Automatically scroll to selected elements once the text segment selection changes\n    watch(selectedTextSegmentId, () => {\n      try {\n        setTimeout(() => {\n          scrollToElementsWithClass('selected');\n        }, 50);\n      } catch (error) {\n        // Notifying the user is not helpful here.\n        warn('Automatic scrolling failed', error);\n      }\n    });\n\n    return {\n      handleMarkClick,\n      undoIsPossible,\n      redoIsPossible,\n      goToStageOne,\n      undo,\n      redo,\n      applySuggestionButtonClicked,\n      discardSuggestionButtonClicked,\n      editorContentUntranslated,\n      editorContentTranslated,\n      setNewTextSegmentSelection,\n      textSegmentsWithActiveSuggestion,\n      selectedTextSegmentId,\n      selectPreviousTextSegmentWithActiveSuggestion,\n      selectNextTextSegmentWithActiveSuggestion,\n      idOfFirstTextSegmentWithActiveSuggestion,\n      idOfLastTextSegmentWithActiveSuggestion,\n      handleUserEdit,\n      copyTranslatedText,\n      registerNewTranslatedTextEditor,\n      handleTranslatedTextCopy,\n      enableSpellcheck: options.enableSpellcheck,\n    };\n  },\n});\n","import { render } from \"./SuggestionsView.vue?vue&type=template&id=1f979a5d&scoped=true&ts=true\"\nimport script from \"./SuggestionsView.vue?vue&type=script&lang=ts\"\nexport * from \"./SuggestionsView.vue?vue&type=script&lang=ts\"\n\nimport \"./SuggestionsView.vue?vue&type=style&index=0&id=1f979a5d&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1f979a5d\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, withModifiers as _withModifiers, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"flex justify-center items-center h-full\" }\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"font-heading text-lg pb-2\" }, \"Sign In\", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_base_button = _resolveComponent(\"base-button\")!\n  const _component_base_card = _resolveComponent(\"base-card\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_base_card, { class: \"p-8 w-full max-w-md\" }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"form\", {\n          class: \"flex flex-col space-y-4\",\n          onSubmit: _cache[2] || (_cache[2] = _withModifiers(\n//@ts-ignore\n(...args) => (_ctx.buttonClicked && _ctx.buttonClicked(...args)), [\"prevent\"]))\n        }, [\n          _hoisted_2,\n          _withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.email) = $event)),\n            ref: \"emailInput\",\n            class: \"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight outline-none focus:ring ring-blue-200\",\n            id: \"email\",\n            type: \"email\",\n            placeholder: \"E-mail\",\n            required: \"\"\n          }, null, 512), [\n            [_vModelText, _ctx.email]\n          ]),\n          _withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.password) = $event)),\n            ref: \"passwordInput\",\n            class: \"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight outline-none focus:ring ring-blue-200\",\n            id: \"password\",\n            type: \"password\",\n            placeholder: \"Password\",\n            required: \"\"\n          }, null, 512), [\n            [_vModelText, _ctx.password]\n          ]),\n          _createVNode(_component_base_button, {\n            title: \"Log in\",\n            type: \"primary-green\",\n            class: \"pt-4\",\n            disabled: !_ctx.buttonIsEnabled\n          }, null, 8, [\"disabled\"])\n        ], 32)\n      ]),\n      _: 1\n    })\n  ]))\n}","\nimport { defineComponent, ref, watch } from 'vue';\nimport { getAuth, signInWithEmailAndPassword } from 'firebase/auth';\nimport { useRouter } from 'vue-router';\nimport BaseCard from '@/components/UI/BaseCard.vue';\nimport BaseButton from '@/components/UI/BaseButton.vue';\nimport { NotificationMessageType } from '@/modules/types';\nimport { useNotifier } from '@/modules/injectUtil';\n\nexport default defineComponent({\n  components: {\n    BaseCard,\n    BaseButton,\n  },\n  props: {\n    targetPath: {\n      type: String,\n      required: false,\n    },\n  },\n  setup(props) {\n    const email = ref('');\n    const emailInput = ref<any>(null);\n    const password = ref('');\n    const passwordInput = ref<any>(null);\n    const buttonIsEnabled = ref(false);\n    const auth = getAuth();\n    const router = useRouter();\n\n    const notifier = useNotifier();\n\n    watch([email, password], () => {\n      if (\n        emailInput.value.checkValidity()\n        && passwordInput.value.checkValidity()\n      ) {\n        buttonIsEnabled.value = true;\n      } else {\n        buttonIsEnabled.value = false;\n      }\n    });\n\n    function buttonClicked() {\n      signInWithEmailAndPassword(auth, email.value, password.value)\n        .then(() => {\n          // A authentication state change listener adds the user to the global app state.\n          // See main.ts\n\n          // Go to the page the user wanted to go to (if there was one). Otherwise, go home.\n          const path = props.targetPath || '/';\n          router.push({\n            path,\n          });\n        })\n        .catch(() => {\n          notifier.notify(\n            'Something is not right. Please check your input and try again.',\n            {\n              messageType: NotificationMessageType.alert,\n            },\n          );\n        });\n    }\n\n    return {\n      email,\n      password,\n      emailInput,\n      passwordInput,\n      buttonIsEnabled,\n      buttonClicked,\n    };\n  },\n});\n","import { render } from \"./AuthenticationView.vue?vue&type=template&id=bff512ae&ts=true\"\nimport script from \"./AuthenticationView.vue?vue&type=script&lang=ts\"\nexport * from \"./AuthenticationView.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx } from \"vue\"\n\nconst _hoisted_1 = { class: \"flex justify-center items-center h-full\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"flex flex-col\"\n}\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"mx-auto text-xl font-heading mb-8\" }, \" Successfully logged out. \", -1)\nconst _hoisted_4 = { key: 1 }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"mx-auto text-xl font-heading\" }, \"Logging you out...\", -1)\nconst _hoisted_6 = [\n  _hoisted_5\n]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_base_button = _resolveComponent(\"base-button\")!\n  const _component_base_card = _resolveComponent(\"base-card\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_base_card, { class: \"p-8 w-full max-w-md\" }, {\n      default: _withCtx(() => [\n        (_ctx.loggedOut)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n              _hoisted_3,\n              _createVNode(_component_base_button, {\n                title: \"Log in again\",\n                type: \"primary-green\",\n                onClick: _ctx.buttonClicked\n              }, null, 8, [\"onClick\"])\n            ]))\n          : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _hoisted_6))\n      ]),\n      _: 1\n    })\n  ]))\n}","\nimport { defineComponent, ref } from 'vue';\nimport { getAuth, signOut } from 'firebase/auth';\nimport { useRouter } from 'vue-router';\nimport BaseCard from '@/components/UI/BaseCard.vue';\nimport BaseButton from '@/components/UI/BaseButton.vue';\nimport { NotificationMessageType } from '@/modules/types';\nimport { useNotifier } from '@/modules/injectUtil';\n\nexport default defineComponent({\n  components: {\n    BaseCard,\n    BaseButton,\n  },\n  setup() {\n    const auth = getAuth();\n    const loggedOut = ref(false);\n    const router = useRouter();\n    const notifier = useNotifier();\n\n    signOut(auth)\n      .then(() => {\n        loggedOut.value = true;\n      })\n      .catch(() => {\n        notifier.notify(\n          'Something went wrong. Please reload the page to try again.',\n          {\n            messageType: NotificationMessageType.error,\n          },\n        );\n      });\n\n    function buttonClicked() {\n      router.push({\n        name: 'AuthenticationView',\n      });\n    }\n\n    return {\n      loggedOut,\n      buttonClicked,\n    };\n  },\n});\n","import { render } from \"./LogoutView.vue?vue&type=template&id=2716ab35&ts=true\"\nimport script from \"./LogoutView.vue?vue&type=script&lang=ts\"\nexport * from \"./LogoutView.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"flex justify-center items-center h-full\" }\nconst _hoisted_2 = { class: \"flex flex-col\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", { class: \"mx-auto text-xl font-heading mb-8\" }, \"Page cannot be found.\", -1)\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_base_button = _resolveComponent(\"base-button\")!\n  const _component_base_card = _resolveComponent(\"base-card\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_base_card, { class: \"p-8 w-full max-w-md\" }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _hoisted_3,\n          _createVNode(_component_base_button, {\n            title: \"Go home\",\n            type: \"primary-green\",\n            onClick: _ctx.buttonClicked\n          }, null, 8, [\"onClick\"])\n        ])\n      ]),\n      _: 1\n    })\n  ]))\n}","\nimport { defineComponent } from 'vue';\nimport { useRouter } from 'vue-router';\nimport BaseCard from '@/components/UI/BaseCard.vue';\nimport BaseButton from '@/components/UI/BaseButton.vue';\n\nexport default defineComponent({\n  components: {\n    BaseCard,\n    BaseButton,\n  },\n  setup() {\n    const router = useRouter();\n\n    function buttonClicked() {\n      router.push({\n        path: '/',\n      });\n    }\n\n    return {\n      buttonClicked,\n    };\n  },\n});\n","import { render } from \"./PageNotFoundView.vue?vue&type=template&id=873452f8&ts=true\"\nimport script from \"./PageNotFoundView.vue?vue&type=script&lang=ts\"\nexport * from \"./PageNotFoundView.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/laura/PycharmProjects/ape-web-editor/frontend/ape-vue-app/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {\n  createRouter,\n  createWebHistory,\n  RouteParamsRaw,\n  RouteRecordRaw,\n} from 'vue-router';\nimport { watchEffect } from 'vue';\nimport StartView from '../views/StartView.vue';\nimport SuggestionsView from '../views/SuggestionsView.vue';\nimport AuthenticationView from '@/views/AuthenticationView.vue';\nimport LogoutView from '@/views/LogoutView.vue';\nimport PageNotFoundView from '@/views/PageNotFoundView.vue';\nimport { authenticationIsEnabled } from '@/modules/otherUtil';\n\ninterface GetRouterOptions {\n  store: any;\n}\n\ninterface RouteMeta {\n  // Page can only be visited when logged in\n  requiresAuth?: boolean;\n  // Page can only be visited when logged out\n  requiresNoAuth?: boolean;\n  // The page has no other function than authentication\n  authRelated?: boolean;\n  // By default, if the auth status changes, the user will be redirected to a different page\n  // if they are not allowed to see the current one. This behavior can be disabled here.\n  preventRedirectOnAuthStateChange?: boolean;\n}\n\nfunction getRouter({ store }: GetRouterOptions) {\n  const { state } = store;\n\n  const routes = [\n    // Home\n    {\n      path: '/',\n      name: 'StartView',\n      component: StartView,\n      meta: {\n        requiresAuth: true,\n      },\n    },\n\n    // Suggestions\n    {\n      path: '/suggestions',\n      name: 'SuggestionsView',\n      component: SuggestionsView,\n      meta: {\n        requiresAuth: true,\n      } as RouteMeta,\n      beforeEnter: (_to, _from, next) => {\n        // Check if translation data is available.\n        // If not, go to the first screen.\n        if (state.textSegmentsFromApi) {\n          next();\n        } else {\n          next({ name: 'StartView' });\n        }\n      },\n    },\n\n    // Sign-in page\n    {\n      path: '/auth',\n      name: 'AuthenticationView',\n      component: AuthenticationView,\n      props: true,\n      meta: {\n        // Visiting this page is pointless if the user is already authenticated.\n        requiresNoAuth: true,\n        authRelated: true,\n      } as RouteMeta,\n    },\n\n    // Logout page\n    {\n      path: '/logout',\n      name: 'LogoutView',\n      component: LogoutView,\n      meta: {\n        // Visiting this page is pointless if the user is not authenticated.\n        requiresAuth: true,\n        // Better UX if the user isn't immediately redirected to a different page once the logout\n        // is complete.\n        preventRedirectOnAuthStateChange: true,\n        authRelated: true,\n      } as RouteMeta,\n    },\n\n    // Page not found\n    {\n      path: '/:catchAll(.*)',\n      name: 'PageNotFoundView',\n      component: PageNotFoundView,\n    },\n  ] as RouteRecordRaw[];\n\n  const router = createRouter({\n    history: createWebHistory(),\n    routes,\n  });\n\n  // Reacting to authentication state changes\n  watchEffect(() => {\n    // eslint-disable-next-line prefer-destructuring\n    const meta: RouteMeta = router.currentRoute.value.meta;\n    const currentPath = router.currentRoute.value.fullPath;\n\n    if (!authenticationIsEnabled() || meta.preventRedirectOnAuthStateChange) {\n      return;\n    }\n\n    if (!state.user && meta.requiresAuth) {\n      // Move user to auth page if user is on a protected page and becomes unauthorized.\n      router.push({\n        name: 'AuthenticationView',\n        params: {\n          targetPath: currentPath,\n        },\n      });\n    } else if (state.user && meta.requiresNoAuth) {\n      // Move user to homepage if they are on a page that requires to be unauthenticated\n      // and they become authenticated.\n      router.push({\n        name: 'StartView',\n        params: {\n          targetPath: currentPath,\n        },\n      });\n    }\n  });\n\n  router.beforeEach((to, from, next) => {\n    // eslint-disable-next-line prefer-destructuring\n    const toMeta: RouteMeta = to.meta;\n\n    // Disable pages like '/auth' and '/logout' if authentication is disabled.\n    if (!authenticationIsEnabled() && toMeta.authRelated) {\n      next(from);\n      return;\n    }\n\n    if (!authenticationIsEnabled()) {\n      next();\n      return;\n    }\n\n    // Redirect user to auth page if they are not logged in and page is protected.\n    if (toMeta.requiresAuth && !state.user) {\n      const params: RouteParamsRaw = {};\n\n      // Prevents that the sign in page will redirect to the logout page after successful authentication\n      if (to.name !== 'LogoutView') {\n        params.targetPath = to.fullPath;\n      }\n\n      next({\n        name: 'AuthenticationView',\n        params,\n      });\n      return;\n    }\n\n    // Prevent going to a page that requires to be unauthenticated if the user is authenticated.\n    if (toMeta.requiresNoAuth && state.user) {\n      next(from);\n      return;\n    }\n\n    // No redirection, just follow the given route.\n    next();\n  });\n\n  return router;\n}\n\nexport default getRouter;\n","import { createApp } from 'vue';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, setPersistence } from '@firebase/auth';\nimport App from './App.vue';\nimport getRouter from './router';\nimport './styles/index.css';\nimport { storeKey, store } from './store/index';\nimport options from './modules/options';\nimport { Notifier, notifierKey } from './modules/Notifier';\n\n// Firebase authentication\ninitializeApp(options.firebaseConfig);\nconst auth = getAuth();\nsetPersistence(auth, options.loginPersistence);\n\n// Update user in application store whenever the auth state changes\nauth.onAuthStateChanged((user) => {\n  store.methods.updateState({\n    user,\n  });\n});\n\nconst app = createApp(App);\n\n// Make the store and the notifier accessible from everywhere\napp.provide(storeKey, store);\napp.provide(notifierKey, new Notifier());\n\napp.use(getRouter({ store }));\n\n// Connect Vue app to DOM\napp.mount('#app');\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BaseLoadingAnimation.vue?vue&type=style&index=0&id=5f1e6c4e&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./StartView.vue?vue&type=style&index=0&id=4ed5b06d&lang=scss\""],"sourceRoot":""}